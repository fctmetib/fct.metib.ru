!function(){function e(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||n(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function t(e,t){var i;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(i=n(e))||t&&e&&"number"==typeof e.length){i&&(e=i);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,s=!1;return{s:function(){i=e[Symbol.iterator]()},n:function(){var e=i.next();return c=e.done,e},e:function(e){s=!0,o=e},f:function(){try{c||null==i.return||i.return()}finally{if(s)throw o}}}}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function o(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{GMry:function(n,i,a){"use strict";a.r(i),a.d(i,"DemandModule",function(){return mf});var c,s,l,d=a("i4ku"),u=a("/RsI"),b=a("KWQS"),f=a("l7P3"),p=function(e){return e.GET_DEMANDS="[Demands] Get demands",e.GET_DEMANDS_SUCCESS="[Demands] Get demands success",e.GET_DEMANDS_FAILURE="[Demands] Get demands failure",e.GET_DRAFTS="[Demands] Get drafts",e.GET_DRAFTS_SUCCESS="[Demands] Get drafts success",e.GET_DRAFTS_FAILURE="[Demands] Get drafts failure",e.CREATE_DEMAND_FACTORING="[Demands] Create demand factoring",e.CREATE_DEMAND_FACTORING_SUCCESS="[Demands] Create demand factoring success",e.CREATE_DEMAND_FACTORING_FAILURE="[Demands] Create demand factoring failure",e.REMOVE_DEMANDS="[Demands] Remove demand",e.REMOVE_DEMANDS_SUCCESS="[Demands] Remove demand success",e.REMOVE_DEMANDS_FAILURE="[Demands] Remove demand failure",e}({}),h=Object(f.n)(p.GET_DEMANDS),m=Object(f.n)(p.GET_DEMANDS_SUCCESS,Object(f.s)()),g=Object(f.n)(p.GET_DEMANDS_FAILURE),v=a("9jGm"),P=a("eIep"),y=a("lJxs"),k=a("JIr8"),I=a("LRne"),F=a("fXoL"),Q=a("AytR"),C=a("tk/3"),D=((s=function(){function e(t){r(this,e),this.http=t}return o(e,[{key:"fetch",value:function(){return this.http.get(Q.a.apiUrl+"/demand")}},{key:"add",value:function(e){return this.http.post(Q.a.apiUrl+"/demand",e)}},{key:"getDemandById",value:function(e){return this.http.get("".concat(Q.a.apiUrl,"/demand/").concat(e))}},{key:"getDigitalSignatureRequest",value:function(e){return this.http.post(Q.a.apiUrl+"/demand/document/DigitalSignatureRequest",e,{responseType:"arraybuffer"})}},{key:"getDemandByFilter",value:function(e){return this.http.get("".concat(Q.a.apiUrl,"/demand?filter=").concat(e))}},{key:"prepareDemandByType",value:function(e){return this.http.get("".concat(Q.a.apiUrl,"/demand/prepare/").concat(e))}},{key:"addDemandDocumentById",value:function(e){return this.http.post("".concat(Q.a.apiUrl,"/demand/document/").concat(e),{})}},{key:"getDocumentByIdByDemandId",value:function(e,t){return this.http.get("".concat(Q.a.apiUrl,"/demand/").concat(e,"/document/").concat(t))}},{key:"addById",value:function(e,t){return this.http.post("".concat(Q.a.apiUrl,"/demand/").concat(e),t)}},{key:"addMessageByDemandId",value:function(e,t){return this.http.post("".concat(Q.a.apiUrl,"/demand/").concat(e,"/message"),t)}},{key:"cancelByDemandId",value:function(e){return this.http.post("".concat(Q.a.apiUrl,"/demand/").concat(e,"/cancel"),{})}},{key:"getDrafts",value:function(){return this.http.get(Q.a.apiUrl+"/demand/draft")}},{key:"getDraftById",value:function(e){return this.http.get("".concat(Q.a.apiUrl,"/demand/draft/").concat(e))}},{key:"addDraftById",value:function(e,t){return this.http.post("".concat(Q.a.apiUrl,"/demand/draft/").concat(e),t)}},{key:"deleteDraftById",value:function(e){return this.http.delete("".concat(Q.a.apiUrl,"/demand/draft/").concat(e))}},{key:"getDebtors",value:function(){return this.http.get(Q.a.apiUrl+"/public/debtors")}}]),e}()).\u0275fac=function(e){return new(e||s)(F.Ub(C.b))},s.\u0275prov=F.Gb({token:s,factory:s.\u0275fac}),s),z=((c=function e(t,n){var i=this;r(this,e),this.actions$=t,this.demandService=n,this.getDemands$=Object(v.c)(function(){return i.actions$.pipe(Object(v.d)(h),Object(P.a)(function(){return i.demandService.fetch().pipe(Object(y.a)(function(e){return m({demands:e})}),Object(k.a)(function(){return Object(I.a)(g())}))}))})}).\u0275fac=function(e){return new(e||c)(F.Ub(v.a),F.Ub(D))},c.\u0275prov=F.Gb({token:c,factory:c.\u0275fac}),c),S=a("tyNb"),w=function(){function e(){r(this,e)}return o(e,[{key:"canDeactivate",value:function(e){return console.log("Can deactivate"),!e.canDeactivate||e.canDeactivate()}}]),e}(),x=a("HDdC"),O=a("quSY"),_=a("ofXK"),E=a("lYeo"),A=a("m7sG"),N=a("3Pt+"),T=a("Qx8d"),L=a("4S+r"),H=a("J7/z"),B=a("7kUa"),R=a("arFO"),M=a("jIHw"),q=((l=function(){function e(t,n,i){r(this,e),this.ref=t,this.config=n,this.fb=i}return o(e,[{key:"ngOnInit",value:function(){var e=new L.a;this.countryList=e.getCountryList(),this.regionList=e.getRegionList(),this.formAddress=this.fb.group({PostCode:["",[N.x.required]],Country:["",[N.x.required]],RegionCode:[0,[N.x.required]],RegionTitle:["",[N.x.required]],City:["",[N.x.required]],District:["",[N.x.required]],Locality:["",[N.x.required]],Street:["",[N.x.required]],House:["",[N.x.required]],Appartment:["",[N.x.required]]});var t=this.config.data.address;t&&this.formAddress.patchValue(t)}},{key:"onRegionChanged",value:function(e){if(e){var t=this.regionList.find(function(t){return t.value===e});this.formAddress.patchValue({RegionTitle:t})}}},{key:"saveAddress",value:function(){this.ref.close(this.formAddress.value)}},{key:"closeModal",value:function(){this.ref.close()}}]),e}()).\u0275fac=function(e){return new(e||l)(F.Kb(H.d),F.Kb(H.b),F.Kb(N.d))},l.\u0275cmp=F.Eb({type:l,selectors:[["address-modal"]],decls:41,vars:3,consts:[[1,"address-modal"],[3,"formGroup","ngSubmit"],[1,"p-field"],["for","PostCode"],["id","PostCode","type","text","pInputText","","placeholder","\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0418\u043d\u0434\u0435\u043a\u0441","formControlName","PostCode"],["for","Country"],["id","Country","placeholder","\u0421\u0442\u0440\u0430\u043d\u0430","formControlName","Country","optionLabel","title","optionValue","value",3,"options"],["for","RegionCode"],["id","RegionCode","placeholder","\u041a\u043e\u0434 \u0440\u0435\u0433\u0438\u043e\u043d\u0430","formControlName","RegionCode","optionLabel","title","optionValue","value",3,"options","onChange"],["for","District"],["id","District","type","text","pInputText","","placeholder","\u0420\u0430\u0439\u043e\u043d","formControlName","District"],["for","City"],["id","City","type","text","pInputText","","placeholder","\u0413\u043e\u0440\u043e\u0434","formControlName","City"],["for","Locality"],["id","Locality","type","text","pInputText","","placeholder","\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442","formControlName","Locality"],["for","Street"],["id","Street","type","text","pInputText","","placeholder","\u0423\u043b\u0438\u0446\u0430","formControlName","Street"],["for","House"],["id","House","type","text","pInputText","","placeholder","\u0414\u043e\u043c","formControlName","House"],["for","Appartment"],["id","Appartment","type","text","pInputText","","placeholder","\u041e\u0444\u0438\u0441 / \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430","formControlName","Appartment"],[1,"modal-actions"],["pButton","","pRipple","","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c","type","submit",1,"p-button-text","save"],["pButton","","pRipple","","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","type","button",1,"p-button-text","cancel",3,"click"]],template:function(e,t){1&e&&(F.Qb(0,"div",0),F.Qb(1,"form",1),F.Xb("ngSubmit",function(){return t.saveAddress()}),F.Qb(2,"div",2),F.Qb(3,"label",3),F.Hc(4,"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0418\u043d\u0434\u0435\u043a\u0441: "),F.Pb(),F.Lb(5,"input",4),F.Pb(),F.Qb(6,"div",2),F.Qb(7,"label",5),F.Hc(8,"\u0421\u0442\u0440\u0430\u043d\u0430: "),F.Pb(),F.Lb(9,"p-dropdown",6),F.Pb(),F.Qb(10,"div",2),F.Qb(11,"label",7),F.Hc(12,"\u041a\u043e\u0434 \u0440\u0435\u0433\u0438\u043e\u043d\u0430: "),F.Pb(),F.Qb(13,"p-dropdown",8),F.Xb("onChange",function(e){return t.onRegionChanged(e.value)}),F.Pb(),F.Pb(),F.Qb(14,"div",2),F.Qb(15,"label",9),F.Hc(16,"\u0420\u0430\u0439\u043e\u043d: "),F.Pb(),F.Lb(17,"input",10),F.Pb(),F.Qb(18,"div",2),F.Qb(19,"label",11),F.Hc(20,"\u0413\u043e\u0440\u043e\u0434: "),F.Pb(),F.Lb(21,"input",12),F.Pb(),F.Qb(22,"div",2),F.Qb(23,"label",13),F.Hc(24,"\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442: "),F.Pb(),F.Lb(25,"input",14),F.Pb(),F.Qb(26,"div",2),F.Qb(27,"label",15),F.Hc(28,"\u0423\u043b\u0438\u0446\u0430: "),F.Pb(),F.Lb(29,"input",16),F.Pb(),F.Qb(30,"div",2),F.Qb(31,"label",17),F.Hc(32,"\u0414\u043e\u043c: "),F.Pb(),F.Lb(33,"input",18),F.Pb(),F.Qb(34,"div",2),F.Qb(35,"label",19),F.Hc(36,"\u041e\u0444\u0438\u0441 / \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430: "),F.Pb(),F.Lb(37,"input",20),F.Pb(),F.Qb(38,"div",21),F.Lb(39,"button",22),F.Qb(40,"button",23),F.Xb("click",function(){return t.closeModal()}),F.Pb(),F.Pb(),F.Pb(),F.Pb()),2&e&&(F.zb(1),F.hc("formGroup",t.formAddress),F.zb(8),F.hc("options",t.countryList),F.zb(4),F.hc("options",t.regionList))},directives:[N.y,N.q,N.h,N.b,B.a,N.p,N.f,R.a,M.b],encapsulation:2}),l),j=a("N/25"),U=a("7zfz"),$=a("dixg"),G=a("K0fe"),V=a("Gxio"),X=a("dts7"),K=a("dPl2");function W(e,t){if(1&e&&(F.Qb(0,"span",11),F.Hc(1),F.Pb()),2&e){var n=F.ac(2).$implicit;F.zb(1),F.Ic(n.label)}}function Z(e,t){if(1&e&&F.Lb(0,"span",12),2&e){var n=F.ac(2).$implicit;F.hc("innerHTML",n.label,F.zc)}}var J=function(){return{exact:!1}};function Y(e,t){if(1&e){var n=F.Rb();F.Qb(0,"a",7),F.Xb("click",function(e){F.yc(n);var t=F.ac(),i=t.$implicit,r=t.index;return F.ac().itemClick(e,i,r)})("keydown.enter",function(e){F.yc(n);var t=F.ac(),i=t.$implicit,r=t.index;return F.ac().itemClick(e,i,r)}),F.Qb(1,"span",8),F.Hc(2),F.Pb(),F.Fc(3,W,2,1,"span",9),F.Fc(4,Z,1,1,"ng-template",null,10,F.Gc),F.Pb()}if(2&e){var i=F.vc(5),r=F.ac(),a=r.$implicit,o=r.index,c=F.ac();F.hc("routerLink",a.routerLink)("queryParams",a.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",a.routerLinkActiveOptions||F.lc(16,J))("fragment",a.fragment)("queryParamsHandling",a.queryParamsHandling)("preserveFragment",a.preserveFragment)("skipLocationChange",a.skipLocationChange)("replaceUrl",a.replaceUrl)("state",a.state),F.Ab("target",a.target)("id",a.id)("tabindex",a.disabled||c.readonly?null:a.tabindex?a.tabindex:"0"),F.zb(2),F.Ic(o+1),F.zb(1),F.hc("ngIf",!1!==a.escape)("ngIfElse",i)}}function ee(e,t){if(1&e&&(F.Qb(0,"span",11),F.Hc(1),F.Pb()),2&e){var n=F.ac(2).$implicit;F.zb(1),F.Ic(n.label)}}function te(e,t){if(1&e&&F.Lb(0,"span",12),2&e){var n=F.ac(2).$implicit;F.hc("innerHTML",n.label,F.zc)}}function ne(e,t){if(1&e){var n=F.Rb();F.Qb(0,"a",13),F.Xb("click",function(e){F.yc(n);var t=F.ac(),i=t.$implicit,r=t.index;return F.ac().itemClick(e,i,r)})("keydown.enter",function(e){F.yc(n);var t=F.ac(),i=t.$implicit,r=t.index;return F.ac().itemClick(e,i,r)}),F.Qb(1,"span",8),F.Hc(2),F.Pb(),F.Fc(3,ee,2,1,"span",9),F.Fc(4,te,1,1,"ng-template",null,14,F.Gc),F.Pb()}if(2&e){var i=F.vc(5),r=F.ac(),a=r.$implicit,o=r.index,c=F.ac();F.Ab("href",a.url,F.Ac)("target",a.target)("id",a.id)("tabindex",a.disabled||o!==c.activeIndex&&c.readonly?null:a.tabindex?a.tabindex:"0"),F.zb(2),F.Ic(o+1),F.zb(1),F.hc("ngIf",!1!==a.escape)("ngIfElse",i)}}var ie=function(e,t){return{"p-highlight p-steps-current":e,"p-disabled":t}};function re(e,t){if(1&e&&(F.Qb(0,"li",3,4),F.Fc(2,Y,6,17,"a",5),F.Fc(3,ne,6,7,"ng-template",null,6,F.Gc),F.Pb()),2&e){var n=t.$implicit,i=t.index,r=F.vc(4),a=F.ac();F.Bb(n.styleClass),F.hc("ngStyle",n.style)("ngClass",F.nc(8,ie,a.isActive(n,i),n.disabled||a.readonly&&!a.isActive(n,i))),F.Ab("aria-selected",i===a.activeIndex)("aria-expanded",i===a.activeIndex),F.zb(2),F.hc("ngIf",a.isClickableRouterLink(n))("ngIfElse",r)}}var ae,oe,ce=function(e){return{"p-steps p-component":!0,"p-readonly":e}},se=((oe=function(){function e(t,n,i){r(this,e),this.router=t,this.route=n,this.cd=i,this.activeIndex=0,this.readonly=!0,this.activeIndexChange=new F.n}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.subscription=this.router.events.subscribe(function(){return e.cd.markForCheck()})}},{key:"itemClick",value:function(e,t,n){this.readonly||t.disabled?e.preventDefault():(this.activeIndexChange.emit(n),t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t,index:n}))}},{key:"isClickableRouterLink",value:function(e){return e.routerLink&&!this.readonly&&!e.disabled}},{key:"isActive",value:function(e,t){return e.routerLink?this.router.isActive(e.routerLink,!1)||this.router.isActive(this.router.createUrlTree([e.routerLink],{relativeTo:this.route}).toString(),!1):t===this.activeIndex}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}}]),e}()).\u0275fac=function(e){return new(e||oe)(F.Kb(S.f),F.Kb(S.a),F.Kb(F.h))},oe.\u0275cmp=F.Eb({type:oe,selectors:[["p-steps"]],inputs:{activeIndex:"activeIndex",readonly:"readonly",model:"model",style:"style",styleClass:"styleClass"},outputs:{activeIndexChange:"activeIndexChange"},decls:3,vars:7,consts:[[3,"ngClass","ngStyle"],["role","tablist"],["class","p-steps-item","role","tab",3,"ngStyle","class","ngClass",4,"ngFor","ngForOf"],["role","tab",1,"p-steps-item",3,"ngStyle","ngClass"],["menuitem",""],["role","presentation","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter",4,"ngIf","ngIfElse"],["elseBlock",""],["role","presentation",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","presentation",1,"p-menuitem-link",3,"click","keydown.enter"],["htmlRouteLabel",""]],template:function(e,t){1&e&&(F.Qb(0,"div",0),F.Qb(1,"ul",1),F.Fc(2,re,5,11,"li",2),F.Pb(),F.Pb()),2&e&&(F.Bb(t.styleClass),F.hc("ngClass",F.mc(5,ce,t.readonly))("ngStyle",t.style),F.zb(2),F.hc("ngForOf",t.model))},directives:[_.l,_.o,_.m,_.n,S.i,S.h],styles:[".p-steps{position:relative}.p-steps ul{display:flex;list-style-type:none;margin:0;padding:0}.p-steps-item{display:flex;flex:1 1 auto;justify-content:center;position:relative}.p-steps-item .p-menuitem-link{align-items:center;display:inline-flex;flex-direction:column;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{align-items:center;display:flex;justify-content:center}.p-steps-title{display:block}"],encapsulation:2,changeDetection:0}),oe),le=((ae=function e(){r(this,e)}).\u0275mod=F.Ib({type:ae}),ae.\u0275inj=F.Hb({factory:function(e){return new(e||ae)},imports:[[_.c,S.j],S.j]}),ae),de=a("zFJ7"),ue=a("jeV5");function be(e,t){if(1&e&&(F.Qb(0,"div",22),F.Qb(1,"div",23),F.Hc(2),F.Pb(),F.Qb(3,"div",24),F.Hc(4),F.Pb(),F.Pb()),2&e){var n=F.ac();F.zb(2),F.Kc(" ",null==n.currentDemandInfo||null==n.currentDemandInfo.Manager?null:n.currentDemandInfo.Manager.Name," (",null==n.currentDemandInfo||null==n.currentDemandInfo.Manager?null:n.currentDemandInfo.Manager.Extension,") "),F.zb(2),F.Jc(" ",null==n.currentDemandInfo||null==n.currentDemandInfo.Manager?null:n.currentDemandInfo.Manager.Email," ")}}function fe(e,t){1&e&&(F.Qb(0,"div",25),F.Ob(1),F.Lb(2,"p-skeleton",26),F.Nb(),F.Pb())}function pe(e,t){1&e&&(F.Qb(0,"div",22),F.Qb(1,"div",23),F.Hc(2," \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d "),F.Pb(),F.Pb())}function he(e,t){if(1&e&&(F.Qb(0,"div",27),F.Qb(1,"div",28),F.Hc(2),F.bc(3,"date"),F.Pb(),F.Qb(4,"div",29),F.Hc(5),F.Pb(),F.Qb(6,"div",30),F.Hc(7),F.Pb(),F.Pb()),2&e){var n=t.$implicit;F.zb(2),F.Ic(F.dc(3,3,n.Date,"dd.MM.yyyy")),F.zb(3),F.Ic(n.Comment),F.zb(2),F.Ic(n.User)}}function me(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",33),F.Qb(1,"div",15),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",16),F.Qb(5,"div",34),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(2).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function ge(e,t){if(1&e&&(F.Ob(0),F.Fc(1,me,7,1,"div",32),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","All"===n.Identifier)}}function ve(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ge,2,1,"ng-container",31),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngForOf",n.files)}}var Pe,ye=((Pe=function(){function e(t,n){r(this,e),this.commonService=t,this.fileService=n,this.sendMessage=new F.n,this.selectedStepIndex=0,this.files=[],this.items=[]}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.currentDemandInfo.Steps.forEach(function(t){e.items.push({label:t.Title}),t.IsCompleted&&(e.selectedStepIndex=t.Position--)}),this.form=new N.g({message:new N.e("",[N.x.required])})}},{key:"ngOnDestroy",value:function(){}},{key:"getType",value:function(e){var t="";switch(e){case"VerificationChannel":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u043a\u0430\u043d\u0430\u043b\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438";break;case"Guarantee":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u041f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e";break;case"Factoring":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433";break;case"DigitalSignature":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f";break;case"ProfileChange":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u043e\u0444\u0438\u043b\u044f";break;case"Question":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443";break;case"Limit":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043b\u0438\u043c\u0438\u0442";break;case"NewDebtor":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430";break;case"AgencyFactoring":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0410\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433";break;default:t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443"}return t}},{key:"getStatus",value:function(e){var t="";switch(e){case"Created":t="\u0421\u043e\u0437\u0434\u0430\u043d";break;case"Completed":t="\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d";break;case"Processing":t="\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435";break;case"Rejected":t="\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e";break;case"Draft":t="\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a";break;case"Canceled":t="\u041e\u0442\u043c\u0435\u043d\u0435\u043d"}return t}},{key:"removeFile",value:function(e){this.files=this.files.filter(function(t){return t!==e})}},{key:"onSelect",value:function(e,n){var i,r=this,a=t(e.target.files);try{var o=function(){var e=i.value,t=E.a.newGuid();r.commonService.getBase64(e).pipe(Object(P.a)(function(n){return r.fileService.uploadFileChunks(n,e.name,e.size.toString(),t)})).subscribe(function(e){r.files=[],r.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:n})},function(e){return console.log(e)})};for(a.s();!(i=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}}},{key:"onSubmit",value:function(){var e=null;this.files[0]&&(e=this.files[0].Code);var t={Comment:this.form.value.message,FileCode:e};this.form.reset(),this.files=[],this.sendMessage.emit(t)}}]),e}()).\u0275fac=function(e){return new(e||Pe)(F.Kb($.a),F.Kb(G.a))},Pe.\u0275cmp=F.Eb({type:Pe,selectors:[["app-demand-info"]],inputs:{currentDemandInfo:"currentDemandInfo"},outputs:{sendMessage:"sendMessage"},decls:52,vars:19,consts:[[1,"info-header"],[1,"info-cards"],[1,"info-card"],[1,"manager"],["class","header-block manager-info",4,"ngIf","ngIfElse"],["class","header-block manager-ava",4,"ngIf"],["noManagerTmpl",""],[3,"model","readonly","activeIndex"],[1,"message-list"],["class","message-item",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],["rows","5","cols","30","pInputTextarea","","formControlName","message",2,"width","100%","margin-bottom","15px"],[1,"actions"],[1,"files"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","All","accept","image/jpeg,image/png,image/gif","hidden","",3,"change"],["for","All",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],[4,"ngIf"],["type","submit","pButton","","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",1,"basic","p-mr-2"],[1,"header-block","manager-info"],[1,"manager-info-name"],[1,"manager-info-email"],[1,"header-block","manager-ava"],["size","5rem"],[1,"message-item"],[1,"date"],[1,"message"],[1,"name"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(F.Qb(0,"div",0),F.Qb(1,"div",1),F.Qb(2,"div",2),F.Qb(3,"p"),F.Qb(4,"strong"),F.Hc(5,"\u0422\u0438\u043f:"),F.Pb(),F.Hc(6),F.Pb(),F.Pb(),F.Qb(7,"div",2),F.Qb(8,"p"),F.Qb(9,"strong"),F.Hc(10,"\u0421\u0442\u0430\u0442\u0443\u0441:"),F.Pb(),F.Hc(11),F.Pb(),F.Pb(),F.Qb(12,"div",2),F.Qb(13,"p"),F.Qb(14,"strong"),F.Hc(15,"\u0414\u0430\u0442\u0430:"),F.Pb(),F.Hc(16),F.bc(17,"date"),F.Pb(),F.Pb(),F.Qb(18,"div",2),F.Qb(19,"p"),F.Qb(20,"strong"),F.Hc(21,"\u0418\u0437\u043c\u0435\u043d\u0435\u043d:"),F.Pb(),F.Hc(22),F.bc(23,"date"),F.Pb(),F.Pb(),F.Pb(),F.Qb(24,"div",3),F.Fc(25,be,5,3,"div",4),F.Fc(26,fe,3,0,"div",5),F.Fc(27,pe,3,0,"ng-template",null,6,F.Gc),F.Pb(),F.Pb(),F.Lb(29,"p-steps",7),F.Qb(30,"h2"),F.Hc(31," \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\n"),F.Pb(),F.Qb(32,"div",8),F.Fc(33,he,8,6,"div",9),F.Pb(),F.Qb(34,"h2"),F.Hc(35," \u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\n"),F.Pb(),F.Qb(36,"form",10),F.Xb("ngSubmit",function(){return t.onSubmit()}),F.Lb(37,"textarea",11),F.Qb(38,"div",12),F.Qb(39,"div",13),F.Qb(40,"div",14),F.Qb(41,"div",15),F.Qb(42,"p"),F.Hc(43," \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b: "),F.Pb(),F.Pb(),F.Qb(44,"div",16),F.Qb(45,"input",17),F.Xb("change",function(e){return t.onSelect(e,"All")}),F.Pb(),F.Qb(46,"label",18),F.Lb(47,"i",19),F.Hc(48," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(49,ve,2,1,"div",20),F.Pb(),F.Qb(50,"div"),F.Lb(51,"button",21),F.Pb(),F.Pb(),F.Pb()),2&e){var n=F.vc(28);F.zb(6),F.Jc(" ",t.getType(t.currentDemandInfo.Type),""),F.zb(5),F.Jc(" ",t.getStatus(t.currentDemandInfo.Status),""),F.zb(5),F.Jc(" ",F.dc(17,13,t.currentDemandInfo.DateCreated,"dd.MM.yyyy"),""),F.zb(6),F.Jc(" ",F.dc(23,16,t.currentDemandInfo.DateModify,"dd.MM.yyyy HH:mm"),""),F.zb(3),F.hc("ngIf",null==t.currentDemandInfo?null:t.currentDemandInfo.Manager)("ngIfElse",n),F.zb(1),F.hc("ngIf",null==t.currentDemandInfo?null:t.currentDemandInfo.Manager),F.zb(3),F.hc("model",t.items)("readonly",!0)("activeIndex",t.selectedStepIndex),F.zb(4),F.hc("ngForOf",t.currentDemandInfo.Messages),F.zb(3),F.hc("formGroup",t.form),F.zb(13),F.hc("ngIf",t.files.length)}},directives:[_.n,se,_.m,N.y,N.q,N.h,N.b,de.a,N.p,N.f,M.b,ue.a],pipes:[_.f],styles:[".info-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:40px}.info-header[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]{display:flex;gap:9px}.info-header[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{border:1px solid #eaeaea;box-sizing:border-box;border-radius:10px;padding:5px}.message-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]{display:flex;align-items:center}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border:1px solid #eaeaea;box-sizing:border-box;border-radius:10px;padding:15px}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:100%}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{border:1px solid #eaeaea;box-sizing:border-box;border-radius:10px;width:200px;padding:15px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.manager[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.header-block[_ngcontent-%COMP%]{height:70px;padding:25px;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center}.header-block.manager-greatings[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(216.14deg,#009fd9 10.37%,rgba(0,159,217,0) 93.52%),#4b75b1}.header-block.manager-info[_ngcontent-%COMP%]{border:1px solid #ececec;align-items:flex-start}.header-block.manager-ava[_ngcontent-%COMP%]{width:70px;background:#c4c4c4;padding:0;overflow:hidden}.header-block.manager-ava[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.header-block.account-ava[_ngcontent-%COMP%]{width:70px;background:linear-gradient(216.14deg,#009fd9 10.37%,rgba(0,159,217,0) 93.52%),#4b75b1}.header-block.account-ava[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.header-block.account-owner[_ngcontent-%COMP%]{cursor:pointer;align-items:flex-end;border:1px solid #ececec}.addon-text[_ngcontent-%COMP%]{border:unset;width:100%;height:39px;margin-right:30px;height:unset}"]}),Pe);function ke(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",2),F.Qb(1,"div",3),F.Hc(2),F.Pb(),F.Qb(3,"div",4),F.Xb("click",function(){F.yc(n);var e=t.$implicit;return F.ac().remove(e)}),F.Hc(4," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb()}if(2&e){var i=t.$implicit;F.zb(2),F.Jc(" ",i.FileName," ")}}var Ie,Fe=((Ie=function(){function e(){r(this,e),this.currentDemandFiles=[],this.removeFile=new F.n}return o(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}},{key:"remove",value:function(e){this.removeFile.emit(e)}}]),e}()).\u0275fac=function(e){return new(e||Ie)},Ie.\u0275cmp=F.Eb({type:Ie,selectors:[["app-demand-files"]],inputs:{currentDemandFiles:"currentDemandFiles"},outputs:{removeFile:"removeFile"},decls:2,vars:1,consts:[[1,"file-list"],["class","file-list-item",4,"ngFor","ngForOf"],[1,"file-list-item"],[1,"file-list-item__name"],[1,"file-list-item__remove-button",3,"click"]],template:function(e,t){1&e&&(F.Qb(0,"div",0),F.Fc(1,ke,5,1,"div",1),F.Pb()),2&e&&(F.zb(1),F.hc("ngForOf",t.currentDemandFiles))},directives:[_.m],styles:[".file-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.file-list[_ngcontent-%COMP%]   .file-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row}.file-list[_ngcontent-%COMP%]   .file-list-item__name[_ngcontent-%COMP%]{padding:20px;border:1px solid #d6d6d6;box-sizing:border-box;border-radius:10px;width:100%}.file-list[_ngcontent-%COMP%]   .file-list-item__remove-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:150px;background:transparent;border-radius:10px;color:#e74630;border:1px solid #e74630;cursor:pointer}.file-list[_ngcontent-%COMP%]   .file-list-item__remove-button[_ngcontent-%COMP%]:hover{background:#e74630!important;color:#fff!important}"]}),Ie);function Qe(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div"),F.Qb(1,"div",2),F.Qb(2,"div",3),F.Qb(3,"div",4),F.Hc(4),F.Pb(),F.Qb(5,"div",5),F.Xb("click",function(){return F.yc(n),F.ac().downloadCert()}),F.Hc(6," \u0421\u043a\u0430\u0447\u0430\u0442\u044c "),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac();F.zb(4),F.Jc(" ",i.result.Comment," ")}}var Ce,De=((Ce=function(){function e(){r(this,e)}return o(e,[{key:"ngOnInit",value:function(){}},{key:"ngOnDestroy",value:function(){}},{key:"downloadCert",value:function(){if(window.navigator&&window.navigator.msSaveOrOpenBlob){for(var e=atob(this.result.CertificateData),t=new Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);var i=new Uint8Array(t),r=new Blob([i],{type:"crt"});window.navigator.msSaveOrOpenBlob(r,"certificate.crt")}else{var a="data:crt;base64,"+this.result.CertificateData,o=document.createElement("a");o.href=a,o.download="certificate.crt",o.click()}}}]),e}()).\u0275fac=function(e){return new(e||Ce)},Ce.\u0275cmp=F.Eb({type:Ce,selectors:[["app-demand-result"]],inputs:{result:"result"},decls:2,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"file-list"],[1,"file-list-item"],[1,"file-list-item__name"],[1,"file-list-item__download-button",3,"click"]],template:function(e,t){1&e&&(F.Ob(0,0),F.Fc(1,Qe,7,1,"div",1),F.Nb()),2&e&&(F.hc("ngSwitch",null==t.result?null:t.result.Type),F.zb(1),F.hc("ngSwitchCase","DigitalSignature"))},directives:[_.p,_.q],styles:[".file-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.file-list[_ngcontent-%COMP%]   .file-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row}.file-list[_ngcontent-%COMP%]   .file-list-item__name[_ngcontent-%COMP%]{padding:20px;border:1px solid #d6d6d6;box-sizing:border-box;border-radius:10px;width:100%}.file-list[_ngcontent-%COMP%]   .file-list-item__download-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:150px;background:transparent;border-radius:10px;color:#0c83f1;border:1px solid #0c83f1;text-align:center;cursor:pointer}.file-list[_ngcontent-%COMP%]   .file-list-item__download-button[_ngcontent-%COMP%]:hover{background:#0c83f1!important;color:#fff!important}.file-list[_ngcontent-%COMP%]   .file-list-item__remove-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:150px;background:transparent;border-radius:10px;color:#e74630;border:1px solid #e74630;cursor:pointer}.file-list[_ngcontent-%COMP%]   .file-list-item__remove-button[_ngcontent-%COMP%]:hover{background:#e74630!important;color:#fff!important}"]}),Ce),ze=a("CwEU"),Se=a("R0Ic"),we=a("Q4Mo"),xe=a("YyRF"),Oe=a("t2ka"),_e=["container"],Ee=["in"],Ae=["multiIn"],Ne=["multiContainer"],Te=["ddBtn"],Le=function(e,t){return{"p-autocomplete-dd-input":e,"p-disabled":t}};function He(e,t){if(1&e){var n=F.Rb();F.Qb(0,"input",7,8),F.Xb("click",function(e){return F.yc(n),F.ac().onInputClick(e)})("input",function(e){return F.yc(n),F.ac().onInput(e)})("keydown",function(e){return F.yc(n),F.ac().onKeydown(e)})("keyup",function(e){return F.yc(n),F.ac().onKeyup(e)})("focus",function(e){return F.yc(n),F.ac().onInputFocus(e)})("blur",function(e){return F.yc(n),F.ac().onInputBlur(e)})("change",function(e){return F.yc(n),F.ac().onInputChange(e)})("paste",function(e){return F.yc(n),F.ac().onInputPaste(e)}),F.Pb()}if(2&e){var i=F.ac();F.Bb(i.inputStyleClass),F.hc("ngStyle",i.inputStyle)("autocomplete",i.autocomplete)("ngClass",F.nc(23,Le,i.dropdown,i.disabled))("value",i.inputFieldValue)("readonly",i.readonly)("disabled",i.disabled),F.Ab("type",i.type)("id",i.inputId)("required",i.required)("name",i.name)("aria-controls",i.listId)("aria-expanded",i.overlayVisible)("aria-activedescendant","p-highlighted-option")("autofocus",i.autofocus)("placeholder",i.placeholder)("size",i.size)("maxlength",i.maxlength)("tabindex",i.tabindex)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-required",i.required)}}function Be(e,t){1&e&&F.Mb(0)}function Re(e,t){if(1&e&&(F.Qb(0,"span",20),F.Hc(1),F.Pb()),2&e){var n=F.ac().$implicit,i=F.ac(2);F.zb(1),F.Ic(i.resolveFieldData(n))}}function Me(e,t){if(1&e){var n=F.Rb();F.Qb(0,"span",21),F.Xb("click",function(){F.yc(n),F.ac();var e=F.vc(1);return F.ac(2).removeItem(e)}),F.Pb()}}var qe=function(e){return{$implicit:e}};function je(e,t){if(1&e&&(F.Qb(0,"li",15,16),F.Fc(2,Be,1,0,"ng-container",17),F.Fc(3,Re,2,1,"span",18),F.Fc(4,Me,1,0,"span",19),F.Pb()),2&e){var n=t.$implicit,i=F.ac(2);F.zb(2),F.hc("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",F.mc(4,qe,n)),F.zb(1),F.hc("ngIf",!i.selectedItemTemplate),F.zb(1),F.hc("ngIf",!i.disabled)}}var Ue=function(e,t){return{"p-disabled":e,"p-focus":t}};function $e(e,t){if(1&e){var n=F.Rb();F.Qb(0,"ul",9,10),F.Xb("click",function(){return F.yc(n),F.vc(5).focus()}),F.Fc(2,je,5,6,"li",11),F.Qb(3,"li",12),F.Qb(4,"input",13,14),F.Xb("input",function(e){return F.yc(n),F.ac().onInput(e)})("click",function(e){return F.yc(n),F.ac().onInputClick(e)})("keydown",function(e){return F.yc(n),F.ac().onKeydown(e)})("keyup",function(e){return F.yc(n),F.ac().onKeyup(e)})("focus",function(e){return F.yc(n),F.ac().onInputFocus(e)})("blur",function(e){return F.yc(n),F.ac().onInputBlur(e)})("change",function(e){return F.yc(n),F.ac().onInputChange(e)})("paste",function(e){return F.yc(n),F.ac().onInputPaste(e)}),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac();F.hc("ngClass",F.nc(20,Ue,i.disabled,i.focus)),F.zb(2),F.hc("ngForOf",i.value),F.zb(2),F.Bb(i.inputStyleClass),F.hc("disabled",i.disabled)("readonly",i.readonly)("autocomplete",i.autocomplete)("ngStyle",i.inputStyle),F.Ab("type",i.type)("id",i.inputId)("placeholder",i.value&&i.value.length?null:i.placeholder)("tabindex",i.tabindex)("maxlength",i.maxlength)("autofocus",i.autofocus)("aria-label",i.ariaLabel)("aria-labelledby",i.ariaLabelledBy)("aria-required",i.required)("aria-controls",i.listId)("aria-expanded",i.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function Ge(e,t){1&e&&F.Lb(0,"i",22)}function Ve(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",23,24),F.Xb("click",function(e){return F.yc(n),F.ac().handleDropdownClick(e)}),F.Pb()}if(2&e){var i=F.ac();F.hc("icon",i.dropdownIcon)("disabled",i.disabled),F.Ab("tabindex",i.tabindex)}}function Xe(e,t){if(1&e&&(F.Qb(0,"span"),F.Hc(1),F.Pb()),2&e){var n=F.ac().$implicit,i=F.ac(3);F.zb(1),F.Ic(i.getOptionGroupLabel(n)||"empty")}}function Ke(e,t){1&e&&F.Mb(0)}function We(e,t){1&e&&F.Mb(0)}function Ze(e,t){if(1&e&&(F.Qb(0,"li",30),F.Fc(1,Xe,2,1,"span",27),F.Fc(2,Ke,1,0,"ng-container",17),F.Pb(),F.Fc(3,We,1,0,"ng-container",17)),2&e){var n=t.$implicit;F.ac(2);var i=F.vc(6),r=F.ac();F.zb(1),F.hc("ngIf",!r.groupTemplate),F.zb(1),F.hc("ngTemplateOutlet",r.groupTemplate)("ngTemplateOutletContext",F.mc(5,qe,n)),F.zb(1),F.hc("ngTemplateOutlet",i)("ngTemplateOutletContext",F.mc(7,qe,r.getOptionGroupChildren(n)))}}function Je(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Ze,4,9,"ng-template",29),F.Nb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.suggestions)}}function Ye(e,t){1&e&&F.Mb(0)}function et(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Ye,1,0,"ng-container",17),F.Nb()),2&e){F.ac();var n=F.vc(6),i=F.ac();F.zb(1),F.hc("ngTemplateOutlet",n)("ngTemplateOutletContext",F.mc(2,qe,i.suggestions))}}function tt(e,t){if(1&e&&(F.Qb(0,"span"),F.Hc(1),F.Pb()),2&e){var n=F.ac().$implicit,i=F.ac(3);F.zb(1),F.Ic(i.resolveFieldData(n))}}function nt(e,t){1&e&&F.Mb(0)}var it=function(e){return{"p-highlight":e}},rt=function(e,t){return{$implicit:e,index:t}};function at(e,t){if(1&e){var n=F.Rb();F.Qb(0,"li",33),F.Xb("click",function(){F.yc(n);var e=t.$implicit;return F.ac(3).selectItem(e)}),F.Fc(1,tt,2,1,"span",27),F.Fc(2,nt,1,0,"ng-container",17),F.Pb()}if(2&e){var i=t.$implicit,r=t.index,a=F.ac(3);F.hc("ngClass",F.mc(5,it,i===a.highlightOption))("id",a.highlightOption==i?"p-highlighted-option":""),F.zb(1),F.hc("ngIf",!a.itemTemplate),F.zb(1),F.hc("ngTemplateOutlet",a.itemTemplate)("ngTemplateOutletContext",F.nc(7,rt,i,r))}}function ot(e,t){if(1&e&&(F.Qb(0,"li",34),F.Hc(1),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.Ic(n.emptyMessage)}}function ct(e,t){if(1&e&&(F.Fc(0,at,3,10,"li",31),F.Fc(1,ot,2,1,"li",32)),2&e){var n=t.$implicit,i=F.ac(2);F.hc("ngForOf",n),F.zb(1),F.hc("ngIf",i.noResults&&i.emptyMessage)}}var st=function(){return["p-autocomplete-panel p-component"]},lt=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},dt=function(e){return{value:"visible",params:e}};function ut(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",0,25),F.Xb("@overlayAnimation.start",function(e){return F.yc(n),F.ac().onOverlayAnimationStart(e)}),F.Qb(2,"ul",26),F.Fc(3,Je,2,1,"ng-container",27),F.Fc(4,et,2,4,"ng-container",27),F.Fc(5,ct,2,2,"ng-template",null,28,F.Gc),F.Pb(),F.Pb()}if(2&e){var i=F.ac();F.Bb(i.panelStyleClass),F.Ec("max-height",i.scrollHeight),F.hc("ngClass",F.lc(10,st))("ngStyle",i.panelStyle)("@overlayAnimation",F.mc(14,dt,F.nc(11,lt,i.showTransitionOptions,i.hideTransitionOptions))),F.zb(2),F.Ab("id",i.listId),F.zb(1),F.hc("ngIf",i.group),F.zb(1),F.hc("ngIf",!i.group)}}var bt,ft,pt=function(e,t){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":e,"p-autocomplete-multiple":t}},ht={provide:N.n,useExisting:Object(F.T)(function(){return mt}),multi:!0},mt=((ft=function(){function n(e,t,i,a){r(this,n),this.el=e,this.renderer=t,this.cd=i,this.differs=a,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.completeMethod=new F.n,this.onSelect=new F.n,this.onUnselect=new F.n,this.onFocus=new F.n,this.onBlur=new F.n,this.onDropdownClick=new F.n,this.onClear=new F.n,this.onKeyUp=new F.n,this.onShow=new F.n,this.onHide=new F.n,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.onModelChange=function(){},this.onModelTouched=function(){},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.differ=a.find([]).create(null),this.listId=Object(Oe.b)()+"_list"}return o(n,[{key:"ngAfterViewChecked",value:function(){var e=this;this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(function(){e.overlay&&e.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(function(){if(e.overlay){var t=xe.b.findSingle(e.overlay,"li.p-highlight");t&&xe.b.scrollInView(e.overlay,t)}},1),this.highlightOptionChanged=!1)}},{key:"handleSuggestionsChange",value:function(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.emptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}},{key:"ngAfterContentInit",value:function(){var e=this;this.templates.forEach(function(t){switch(t.getType()){case"item":e.itemTemplate=t.template;break;case"group":e.groupTemplate=t.template;break;case"selectedItem":e.selectedItemTemplate=t.template;break;default:e.itemTemplate=t.template}})}},{key:"writeValue",value:function(e){this.value=e,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}},{key:"getOptionGroupChildren",value:function(e){return this.optionGroupChildren?Oe.a.resolveFieldData(e,this.optionGroupChildren):e.items}},{key:"getOptionGroupLabel",value:function(e){return this.optionGroupLabel?Oe.a.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"setDisabledState",value:function(e){this.disabled=e,this.cd.markForCheck()}},{key:"onInput",value:function(e){var t=this;if(this.inputKeyDown||!xe.b.isIE()){this.timeout&&clearTimeout(this.timeout);var n=e.target.value;this.multiple||this.forceSelection||this.onModelChange(n),0!==n.length||this.multiple||(this.hide(),this.onClear.emit(e),this.onModelChange(n)),n.length>=this.minLength?this.timeout=setTimeout(function(){t.search(e,n)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}}},{key:"onInputClick",value:function(e){this.documentClickListener&&(this.inputClick=!0)}},{key:"search",value:function(e,t){null!=t&&(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:t}))}},{key:"selectItem",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],this.isSelected(t)&&this.unique||(this.value=[].concat(e(this.value),[t]),this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.field?Oe.a.resolveFieldData(t,this.field)||"":t,this.value=t,this.onModelChange(this.value)),this.onSelect.emit(t),this.updateFilledState(),n&&(this.itemClicked=!0,this.focusInput())}},{key:"show",value:function(){if(this.multiInputEL||this.inputEL){var e=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&e&&(this.overlayVisible=!0)}}},{key:"onOverlayAnimationStart",value:function(e){switch(e.toState){case"visible":this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++xe.b.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}},{key:"appendOverlay",value:function(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):xe.b.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=xe.b.getWidth(this.el.nativeElement.children[0])+"px"))}},{key:"resolveFieldData",value:function(e){return this.field?Oe.a.resolveFieldData(e,this.field):e}},{key:"restoreOverlayAppend",value:function(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}},{key:"alignOverlay",value:function(){this.appendTo?xe.b.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):xe.b.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}},{key:"hide",value:function(){this.overlayVisible=!1,this.cd.markForCheck()}},{key:"handleDropdownClick",value:function(e){if(this.overlayVisible)this.hide();else{this.focusInput();var t=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(e,""):"current"===this.dropdownMode&&this.search(e,t),this.onDropdownClick.emit({originalEvent:e,query:t})}}},{key:"focusInput",value:function(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}},{key:"removeItem",value:function(e){var t=xe.b.index(e),n=this.value[t];this.value=this.value.filter(function(e,n){return n!=t}),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(n)}},{key:"onKeydown",value:function(t){if(this.overlayVisible)switch(t.which){case 40:if(this.group){var n=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==n){var i=n.itemIndex+1;i<this.getOptionGroupChildren(this.suggestions[n.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[n.groupIndex])[i],this.highlightOptionChanged=!0):this.suggestions[n.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[n.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{var r=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=r){var a=r+1;a!=this.suggestions.length&&(this.highlightOption=this.suggestions[a],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}t.preventDefault();break;case 38:if(this.group){var o=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==o){var c=o.itemIndex-1;if(c>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[o.groupIndex])[c],this.highlightOptionChanged=!0;else if(c<0){var s=this.suggestions[o.groupIndex-1];s&&(this.highlightOption=this.getOptionGroupChildren(s)[this.getOptionGroupChildren(s).length-1],this.highlightOptionChanged=!0)}}}else{var l=this.findOptionIndex(this.highlightOption,this.suggestions);l>0&&(this.highlightOption=this.suggestions[l-1],this.highlightOptionChanged=!0)}t.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),t.preventDefault();break;case 27:this.hide(),t.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===t.which&&this.suggestions&&this.search(t,t.target.value);if(this.multiple)switch(t.which){case 8:if(this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=e(this.value);var d=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(d)}}this.inputKeyDown=!0}},{key:"onKeyup",value:function(e){this.onKeyUp.emit(e)}},{key:"onInputFocus",value:function(e){!this.itemClicked&&this.completeOnFocus&&this.search(e,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(e),this.itemClicked=!1}},{key:"onInputBlur",value:function(e){this.focus=!1,this.onModelTouched(),this.onBlur.emit(e)}},{key:"onInputChange",value:function(e){var n=this;if(this.forceSelection){var i=!1,r=e.target.value.trim();if(this.suggestions){var a,o=t(this.suggestions);try{var c=function(){var e=a.value,t=n.field?Oe.a.resolveFieldData(e,n.field):e;if(t&&r===t.trim())return i=!0,n.forceSelectionUpdateModelTimeout=setTimeout(function(){n.selectItem(e,!1)},250),"break"};for(o.s();!(a=o.n()).done&&"break"!==c(););}catch(s){o.e(s)}finally{o.f()}}i||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(e),this.onModelChange(this.value),this.updateFilledState())}}},{key:"onInputPaste",value:function(e){this.onKeydown(e)}},{key:"isSelected",value:function(e){var t=!1;if(this.value&&this.value.length)for(var n=0;n<this.value.length;n++)if(Oe.a.equals(this.value[n],e,this.dataKey)){t=!0;break}return t}},{key:"findOptionIndex",value:function(e,t){var n=-1;if(t)for(var i=0;i<t.length;i++)if(Oe.a.equals(e,t[i])){n=i;break}return n}},{key:"findOptionGroupIndex",value:function(e,t){var n,i;if(t)for(var r=0;r<t.length&&(n=r,-1===(i=this.findOptionIndex(e,this.getOptionGroupChildren(t[r]))));r++);return-1!==i?{groupIndex:n,itemIndex:i}:-1}},{key:"updateFilledState",value:function(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}},{key:"updateInputField",value:function(){var e=this.value?this.field?Oe.a.resolveFieldData(this.value,this.field)||"":this.value:"";this.inputFieldValue=e,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=e),this.updateFilledState()}},{key:"bindDocumentClickListener",value:function(){var e=this;this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",function(t){3!==t.which&&(e.inputClick||e.isDropdownClick(t)||e.hide(),e.inputClick=!1,e.cd.markForCheck())}))}},{key:"isDropdownClick",value:function(e){if(this.dropdown){var t=e.target;return t===this.dropdownButton.nativeElement||t.parentNode===this.dropdownButton.nativeElement}return!1}},{key:"unbindDocumentClickListener",value:function(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}},{key:"bindDocumentResizeListener",value:function(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}},{key:"unbindDocumentResizeListener",value:function(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}},{key:"onWindowResize",value:function(){this.hide()}},{key:"bindScrollListener",value:function(){var e=this;this.scrollHandler||(this.scrollHandler=new xe.a(this.containerEL.nativeElement,function(){e.overlayVisible&&e.hide()})),this.scrollHandler.bindScrollListener()}},{key:"unbindScrollListener",value:function(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}},{key:"onOverlayHide",value:function(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onHide.emit()}},{key:"ngOnDestroy",value:function(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide()}},{key:"suggestions",get:function(){return this._suggestions},set:function(e){this._suggestions=e,this.handleSuggestionsChange()}}]),n}()).\u0275fac=function(e){return new(e||ft)(F.Kb(F.l),F.Kb(F.D),F.Kb(F.h),F.Kb(F.s))},ft.\u0275cmp=F.Eb({type:ft,selectors:[["p-autoComplete"]],contentQueries:function(e,t,n){var i;1&e&&F.Db(n,U.i,!1),2&e&&F.uc(i=F.Yb())&&(t.templates=i)},viewQuery:function(e,t){var n;1&e&&(F.Nc(_e,!0),F.Nc(Ee,!0),F.Nc(Ae,!0),F.Nc(Ne,!0),F.Nc(Te,!0)),2&e&&(F.uc(n=F.Yb())&&(t.containerEL=n.first),F.uc(n=F.Yb())&&(t.inputEL=n.first),F.uc(n=F.Yb())&&(t.multiInputEL=n.first),F.uc(n=F.Yb())&&(t.multiContainerEL=n.first),F.uc(n=F.Yb())&&(t.dropdownButton=n.first))},hostVars:4,hostBindings:function(e,t){2&e&&F.Cb("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focus&&!t.disabled||t.overlayVisible)},inputs:{minLength:"minLength",delay:"delay",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",dropdownIcon:"dropdownIcon",unique:"unique",completeOnFocus:"completeOnFocus",scrollHeight:"scrollHeight",dropdownMode:"dropdownMode",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",suggestions:"suggestions",disabled:"disabled",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",group:"group",field:"field",dropdown:"dropdown",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",autofocus:"autofocus",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[F.yb([ht])],decls:7,vars:12,consts:[[3,"ngClass","ngStyle"],["container",""],["class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class",4,"ngIf"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",1,"p-autocomplete-input","p-inputtext","p-component",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],["panel",""],["role","listbox",1,"p-autocomplete-items"],[4,"ngIf"],["itemslist",""],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngClass","id","click",4,"ngFor","ngForOf"],["class","p-autocomplete-emptymessage p-autocomplete-item",4,"ngIf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","id","click"],[1,"p-autocomplete-emptymessage","p-autocomplete-item"]],template:function(e,t){1&e&&(F.Qb(0,"span",0,1),F.Fc(2,He,2,26,"input",2),F.Fc(3,$e,6,23,"ul",3),F.Fc(4,Ge,1,0,"i",4),F.Fc(5,Ve,2,3,"button",5),F.Fc(6,ut,7,16,"div",6),F.Pb()),2&e&&(F.Bb(t.styleClass),F.hc("ngClass",F.nc(9,pt,t.dropdown,t.multiple))("ngStyle",t.style),F.zb(2),F.hc("ngIf",!t.multiple),F.zb(1),F.hc("ngIf",t.multiple),F.zb(1),F.hc("ngIf",t.loading),F.zb(1),F.hc("ngIf",t.dropdown),F.zb(1),F.hc("ngIf",t.overlayVisible))},directives:[_.l,_.o,_.n,_.m,_.s,M.b,we.a],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{margin-top:-.5rem;position:absolute;top:50%}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-bottom-right-radius:0;border-top-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-bottom-left-radius:0;border-top-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%}.p-autocomplete-panel{overflow:auto;position:absolute}.p-autocomplete-items{list-style-type:none;margin:0;padding:0}.p-autocomplete-item{cursor:pointer;overflow:hidden;position:relative;white-space:nowrap}.p-autocomplete-multiple-container{align-items:center;cursor:text;display:flex;flex-wrap:wrap;list-style-type:none;margin:0;overflow:hidden;padding:0}.p-autocomplete-token{align-items:center;cursor:default;display:inline-flex;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{display:inline-flex;flex:1 1 auto}.p-autocomplete-input-token input{background-color:transparent;border:0;border-radius:0;box-shadow:none;margin:0;outline:0 none;padding:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}"],encapsulation:2,data:{animation:[Object(Se.m)("overlayAnimation",[Object(Se.l)(":enter",[Object(Se.k)({opacity:0,transform:"scaleY(0.8)"}),Object(Se.e)("{{showTransitionParams}}")]),Object(Se.l)(":leave",[Object(Se.e)("{{hideTransitionParams}}",Object(Se.k)({opacity:0}))])])]},changeDetection:0}),ft),gt=((bt=function e(){r(this,e)}).\u0275mod=F.Ib({type:bt}),bt.\u0275inj=F.Hb({factory:function(e){return new(e||bt)},imports:[[_.c,B.b,M.c,U.j,we.b],U.j]}),bt),vt=a("Ks7X");function Pt(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",9),F.Xb("click",function(){return F.yc(n),F.ac().back()}),F.Pb()}}function yt(e,t){1&e&&F.Mb(0)}function kt(e,t){if(1&e&&(F.Qb(0,"p-tabPanel",18),F.Lb(1,"app-demand-result",19),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("result",n.currentDemand.Result)}}var It=function(e){return{formFactoring:e}};function Ft(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"p-tabView",10),F.Qb(2,"p-tabPanel",11),F.Qb(3,"app-demand-info",12),F.Xb("sendMessage",function(e){return F.yc(n),F.ac().handleSendMessage(e)}),F.Pb(),F.Pb(),F.Qb(4,"p-tabPanel",13),F.Fc(5,yt,1,0,"ng-container",14),F.Pb(),F.Qb(6,"p-tabPanel",15),F.Qb(7,"app-demand-files",16),F.Xb("removeFile",function(e){return F.yc(n),F.ac().handleRemoveFile(e)}),F.Pb(),F.Pb(),F.Fc(8,kt,2,1,"p-tabPanel",17),F.Pb(),F.Nb()}if(2&e){var i=F.ac(),r=F.vc(13);F.zb(3),F.hc("currentDemandInfo",i.currentInformation),F.zb(2),F.hc("ngTemplateOutlet",r)("ngTemplateOutletContext",F.mc(5,It,i.formFactoring)),F.zb(2),F.hc("currentDemandFiles",i.currentDemand.Files),F.zb(1),F.hc("ngIf",i.isView)}}function Qt(e,t){1&e&&F.Mb(0)}function Ct(e,t){if(1&e&&F.Fc(0,Qt,1,0,"ng-container",14),2&e){var n=F.ac(),i=F.vc(13);F.hc("ngTemplateOutlet",i)("ngTemplateOutletContext",F.mc(2,It,n.formFactoring))}}function Dt(e,t){1&e&&(F.Ob(0),F.Hc(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... "),F.Nb())}function zt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function St(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,zt,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.organizationShortName.errors.required)}}function wt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function xt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0418\u041d\u041d (10 \u0438\u043b\u0438 12 \u0446\u0438\u0444\u0440). "),F.Pb())}function Ot(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,wt,2,0,"small",82),F.Fc(2,xt,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.organizationINN.errors.required),F.zb(1),F.hc("ngIf",n.controls.organizationINN.errors.minlength)}}function _t(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Et(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,_t,2,0,"small",82),F.Pb()),2&e){var n=F.ac(3).formFactoring;F.zb(1),F.hc("ngIf",n.controls.organizationLegalForm.errors.required)}}function At(e,t){if(1&e&&(F.Qb(0,"div",24),F.Qb(1,"label",84),F.Hc(2,"\u041f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430"),F.Pb(),F.Lb(3,"p-dropdown",85),F.Fc(4,Et,2,1,"div",27),F.Pb()),2&e){var n=F.ac(2).formFactoring,i=F.ac();F.zb(3),F.hc("options",i.ruleTypes),F.zb(1),F.hc("ngIf",n.controls.organizationLegalForm.invalid)}}function Nt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Tt(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Nt,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.organizationPhone.errors.required)}}function Lt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ht(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443. "),F.Pb())}function Bt(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Lt,2,0,"small",82),F.Fc(2,Ht,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.organizationEmail.errors.required),F.zb(1),F.hc("ngIf",n.controls.organizationEmail.errors.email)}}function Rt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Mt(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Rt,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.organizationWEB.errors.required)}}function qt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0411\u0418\u041a \u0431\u0430\u043d\u043a\u0430 (9 \u0446\u0438\u0444\u0440). "),F.Pb())}function jt(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,qt,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.bankBik.errors.required)}}function Ut(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u0440 \u0441\u0447\u0435\u0442 (20 \u0446\u0438\u0444\u0440) "),F.Pb())}function $t(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ut,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.bankCorrespondentAccount.errors.required)}}function Gt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Vt(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Gt,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.bankName.errors.required)}}function Xt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Kt(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Xt,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.bankAccountOpenDate.errors.required)}}function Wt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),F.Pb())}function Zt(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Wt,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.bankOwnerAccount.errors.required)}}function Jt(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Yt(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Jt,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.bankComment.errors.required)}}function en(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function tn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,en,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("otherBanks").controls[n].get("otherBankAccountOpenDate").errors.required)}}function nn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function rn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,nn,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("otherBanks").controls[n].get("otherBankName").errors.required)}}function an(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),F.Pb())}function on(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,an,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("otherBanks").controls[n].get("otherBankOwnerAccount").errors.required)}}function cn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function sn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,cn,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("otherBanks").controls[n].get("otherBankTarget").errors.required)}}function ln(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",86),F.Qb(1,"div",2),F.Qb(2,"div",87),F.Hc(3," \u0421\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435 "),F.Pb(),F.Qb(4,"button",88),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac(3).remove(e,"otherBanks")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",89),F.Qb(7,"div",90),F.Qb(8,"div",91),F.Qb(9,"div",24),F.Qb(10,"label",92),F.Hc(11,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(12,"input",93),F.Fc(13,tn,2,1,"div",27),F.Pb(),F.Qb(14,"div",24),F.Qb(15,"label",94),F.Hc(16,"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(17,"input",95),F.Pb(),F.Qb(18,"div",37),F.Qb(19,"label",96),F.Hc(20,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Qb(21,"p-autoComplete",97),F.Xb("completeMethod",function(e){return F.yc(n),F.ac(3).searchByBankName(e)})("onSelect",function(e){F.yc(n);var i=t.index,r=F.ac(2).formFactoring;return F.ac().onOtherBankSelect(r.get("otherBanks").controls[i],e)}),F.Pb(),F.Fc(22,rn,2,1,"div",27),F.Pb(),F.Qb(23,"div",37),F.Qb(24,"label",98),F.Hc(25,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(26,"p-inputMask",99),F.Fc(27,on,2,1,"div",27),F.Pb(),F.Qb(28,"div",37),F.Qb(29,"label",100),F.Hc(30,"\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"),F.Pb(),F.Lb(31,"input",101),F.Fc(32,sn,2,1,"div",27),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac(2).formFactoring,a=F.ac();F.zb(7),F.hc("formGroupName",i),F.zb(6),F.hc("ngIf",r.get("otherBanks").controls[i].get("otherBankAccountOpenDate").invalid),F.zb(8),F.hc("suggestions",a.resultsBankname),F.zb(1),F.hc("ngIf",r.get("otherBanks").controls[i].get("otherBankName").invalid),F.zb(5),F.hc("ngIf",r.get("otherBanks").controls[i].get("otherBankOwnerAccount").invalid),F.zb(5),F.hc("ngIf",r.get("otherBanks").controls[i].get("otherBankTarget").invalid)}}function dn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function un(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,dn,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.factoringProducts.errors.required)}}function bn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function fn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,bn,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.factoringTradeMarks.errors.required)}}function pn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function hn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,pn,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.factoringShipments.errors.required)}}function mn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function gn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,mn,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.factoringFinanceLimit.errors.required)}}function vn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Pn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,vn,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.factoringClients.errors.required)}}function yn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function kn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,yn,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.factoringWorkers.errors.required)}}function In(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",102),F.Qb(1,"div",2),F.Qb(2,"div",87),F.Hc(3," \u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),F.Pb(),F.Qb(4,"button",88),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac(3).remove(e,"factoringPlaces")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",89),F.Qb(7,"div",90),F.Qb(8,"div",91),F.Qb(9,"div",46),F.Qb(10,"label",103),F.Hc(11,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430"),F.Pb(),F.Qb(12,"div",56),F.Lb(13,"input",104),F.Qb(14,"button",105),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac(3).openAddressForm(e)}),F.Pb(),F.Pb(),F.Pb(),F.Qb(15,"div",46),F.Qb(16,"label",106),F.Hc(17,"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(18,"p-dropdown",107),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac(3);F.zb(7),F.hc("formGroupName",i),F.zb(11),F.hc("options",r.typesOfOwner)}}function Fn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Qn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Fn,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("factoringCredits").controls[n].get("factoringCreditsCreditor").errors.required)}}function Cn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Dn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Cn,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("factoringCredits").controls[n].get("factoringPlacesTypeDuty").errors.required)}}function zn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Sn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,zn,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("factoringCredits").controls[n].get("factoringPlacesDateClose").errors.required)}}function wn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function xn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,wn,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("factoringCredits").controls[n].get("factoringPlacesContractSum").errors.required)}}function On(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function _n(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,On,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("factoringCredits").controls[n].get("factoringPlacesBalanceReport").errors.required)}}function En(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function An(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,En,2,0,"small",82),F.Pb()),2&e){var n=F.ac().index,i=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",i.get("factoringCredits").controls[n].get("factoringPlacesBalanceCurrent").errors.required)}}function Nn(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",108),F.Qb(1,"div",2),F.Qb(2,"div",87),F.Hc(3," \u041a\u0440\u0435\u0434\u0438\u0442, \u0437\u0430\u0439\u043c, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f, ... "),F.Pb(),F.Qb(4,"button",88),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac(3).remove(e,"factoringCredits")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",89),F.Qb(7,"div",90),F.Qb(8,"div",91),F.Qb(9,"div",109),F.Qb(10,"label",110),F.Hc(11,"\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440"),F.Pb(),F.Lb(12,"input",111),F.Fc(13,Qn,2,1,"div",27),F.Pb(),F.Qb(14,"div",109),F.Qb(15,"label",112),F.Hc(16,"\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"),F.Pb(),F.Lb(17,"input",113),F.Fc(18,Dn,2,1,"div",27),F.Pb(),F.Qb(19,"div",109),F.Qb(20,"label",114),F.Hc(21,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(22,"input",115),F.Fc(23,Sn,2,1,"div",27),F.Pb(),F.Qb(24,"div",109),F.Qb(25,"label",116),F.Hc(26,"\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),F.Pb(),F.Lb(27,"input",117),F.Fc(28,xn,2,1,"div",27),F.Pb(),F.Qb(29,"div",109),F.Qb(30,"label",118),F.Hc(31,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438"),F.Pb(),F.Lb(32,"input",119),F.Fc(33,_n,2,1,"div",27),F.Pb(),F.Qb(34,"div",109),F.Qb(35,"label",120),F.Hc(36,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443"),F.Pb(),F.Lb(37,"input",121),F.Fc(38,An,2,1,"div",27),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac(2).formFactoring;F.zb(7),F.hc("formGroupName",i),F.zb(6),F.hc("ngIf",r.get("factoringCredits").controls[i].get("factoringCreditsCreditor").invalid),F.zb(5),F.hc("ngIf",r.get("factoringCredits").controls[i].get("factoringPlacesTypeDuty").invalid),F.zb(5),F.hc("ngIf",r.get("factoringCredits").controls[i].get("factoringPlacesDateClose").invalid),F.zb(5),F.hc("ngIf",r.get("factoringCredits").controls[i].get("factoringPlacesContractSum").invalid),F.zb(5),F.hc("ngIf",r.get("factoringCredits").controls[i].get("factoringPlacesBalanceReport").invalid),F.zb(5),F.hc("ngIf",r.get("factoringCredits").controls[i].get("factoringPlacesBalanceCurrent").invalid)}}function Tn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ln(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Tn,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.factoringSuppliers.errors.required)}}function Hn(e,t){1&e&&(F.Qb(0,"small",83),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Bn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Hn,2,0,"small",82),F.Pb()),2&e){var n=F.ac(2).formFactoring;F.zb(1),F.hc("ngIf",n.controls.factoringLimit.errors.required)}}function Rn(e,t){1&e&&(F.Qb(0,"div",144),F.Qb(1,"small",83),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Mn(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",147),F.Qb(1,"div",123),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",124),F.Qb(5,"div",148),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function qn(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Mn,7,1,"div",146),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Regulations"===n.Identifier)}}function jn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,qn,2,1,"ng-container",145),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function Un(e,t){1&e&&(F.Qb(0,"div",144),F.Qb(1,"small",83),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function $n(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",147),F.Qb(1,"div",123),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",124),F.Qb(5,"div",148),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Gn(e,t){if(1&e&&(F.Ob(0),F.Fc(1,$n,7,1,"div",146),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","GenDirPassport"===n.Identifier)}}function Vn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Gn,2,1,"ng-container",145),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function Xn(e,t){1&e&&(F.Qb(0,"div",144),F.Qb(1,"small",83),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Kn(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",147),F.Qb(1,"div",123),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",124),F.Qb(5,"div",148),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Wn(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Kn,7,1,"div",146),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","GenDirProtocol"===n.Identifier)}}function Zn(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Wn,2,1,"ng-container",145),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function Jn(e,t){1&e&&(F.Qb(0,"div",144),F.Qb(1,"small",83),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Yn(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",147),F.Qb(1,"div",123),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",124),F.Qb(5,"div",148),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function ei(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Yn,7,1,"div",146),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","GenDirOrder"===n.Identifier)}}function ti(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ei,2,1,"ng-container",145),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function ni(e,t){1&e&&(F.Qb(0,"div",144),F.Qb(1,"small",83),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function ii(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",147),F.Qb(1,"div",123),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",124),F.Qb(5,"div",148),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function ri(e,t){if(1&e&&(F.Ob(0),F.Fc(1,ii,7,1,"div",146),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Balance"===n.Identifier)}}function ai(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ri,2,1,"ng-container",145),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function oi(e,t){1&e&&(F.Qb(0,"div",144),F.Qb(1,"small",83),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function ci(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",147),F.Qb(1,"div",123),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",124),F.Qb(5,"div",148),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function si(e,t){if(1&e&&(F.Ob(0),F.Fc(1,ci,7,1,"div",146),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","OSV"===n.Identifier)}}function li(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,si,2,1,"ng-container",145),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function di(e,t){1&e&&(F.Qb(0,"div",144),F.Qb(1,"small",83),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function ui(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",147),F.Qb(1,"div",123),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",124),F.Qb(5,"div",148),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function bi(e,t){if(1&e&&(F.Ob(0),F.Fc(1,ui,7,1,"div",146),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Shareholders"===n.Identifier)}}function fi(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,bi,2,1,"ng-container",145),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function pi(e,t){1&e&&(F.Qb(0,"div",144),F.Qb(1,"small",83),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function hi(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",147),F.Qb(1,"div",123),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",124),F.Qb(5,"div",148),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function mi(e,t){if(1&e&&(F.Ob(0),F.Fc(1,hi,7,1,"div",146),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","ContractDelivery"===n.Identifier)}}function gi(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,mi,2,1,"ng-container",145),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function vi(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"div",40),F.Qb(2,"p"),F.Hc(3,"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:"),F.Pb(),F.Pb(),F.Qb(4,"div",46),F.Qb(5,"div",122),F.Qb(6,"div",123),F.Qb(7,"p"),F.Hc(8," \u0423\u0441\u0442\u0430\u0432 (\u0421\u043e \u0432\u0441\u0435\u043c\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438) "),F.Pb(),F.Pb(),F.Qb(9,"div",124),F.Qb(10,"input",125),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"Regulations")}),F.Pb(),F.Qb(11,"label",126),F.Lb(12,"i",127),F.Hc(13," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(14,Rn,3,0,"div",128),F.Fc(15,jn,2,1,"div",27),F.Pb(),F.Qb(16,"div",46),F.Qb(17,"div",122),F.Qb(18,"div",123),F.Qb(19,"p"),F.Hc(20," \u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 (\u0412\u0441\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) "),F.Pb(),F.Pb(),F.Qb(21,"div",124),F.Qb(22,"input",129),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"GenDirPassport")}),F.Pb(),F.Qb(23,"label",130),F.Lb(24,"i",127),F.Hc(25," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(26,Un,3,0,"div",128),F.Fc(27,Vn,2,1,"div",27),F.Pb(),F.Qb(28,"div",46),F.Qb(29,"div",122),F.Qb(30,"div",123),F.Qb(31,"p"),F.Hc(32," \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b/\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),F.Pb(),F.Pb(),F.Qb(33,"div",124),F.Qb(34,"input",131),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"GenDirProtocol")}),F.Pb(),F.Qb(35,"label",132),F.Lb(36,"i",127),F.Hc(37," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(38,Xn,3,0,"div",128),F.Fc(39,Zn,2,1,"div",27),F.Pb(),F.Qb(40,"div",46),F.Qb(41,"div",122),F.Qb(42,"div",123),F.Qb(43,"p"),F.Hc(44," \u041f\u0440\u0438\u043a\u0430\u0437 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),F.Pb(),F.Pb(),F.Qb(45,"div",124),F.Qb(46,"input",133),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"GenDirOrder")}),F.Pb(),F.Qb(47,"label",134),F.Lb(48,"i",127),F.Hc(49," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(50,Jn,3,0,"div",128),F.Fc(51,ti,2,1,"div",27),F.Pb(),F.Qb(52,"div",46),F.Qb(53,"div",122),F.Qb(54,"div",123),F.Qb(55,"p"),F.Hc(56," \u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0441\u043a\u0438\u0439 \u0411\u0430\u043b\u0430\u043d\u0441 "),F.Pb(),F.Pb(),F.Qb(57,"div",124),F.Qb(58,"input",135),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"Balance")}),F.Pb(),F.Qb(59,"label",136),F.Lb(60,"i",127),F.Hc(61," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(62,ni,3,0,"div",128),F.Fc(63,ai,2,1,"div",27),F.Pb(),F.Qb(64,"div",46),F.Qb(65,"div",122),F.Qb(66,"div",123),F.Qb(67,"p"),F.Hc(68," \u041e\u0421\u0412 (\u043e\u0431\u043e\u0440\u043e\u0442\u043d\u043e-\u0441\u0430\u043b\u044c\u0434\u043e\u0432\u0430\u044f \u0432\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c) "),F.Pb(),F.Pb(),F.Qb(69,"div",124),F.Qb(70,"input",137),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"OSV")}),F.Pb(),F.Qb(71,"label",138),F.Lb(72,"i",127),F.Hc(73," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(74,oi,3,0,"div",128),F.Fc(75,li,2,1,"div",27),F.Pb(),F.Qb(76,"div",139),F.Qb(77,"div",122),F.Qb(78,"div",123),F.Qb(79,"p"),F.Hc(80," \u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0423\u0447\u0440\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439 "),F.Pb(),F.Pb(),F.Qb(81,"div",124),F.Qb(82,"input",140),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"Shareholders")}),F.Pb(),F.Qb(83,"label",141),F.Lb(84,"i",127),F.Hc(85," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(86,di,3,0,"div",128),F.Fc(87,fi,2,1,"div",27),F.Pb(),F.Qb(88,"div",46),F.Qb(89,"div",122),F.Qb(90,"div",123),F.Qb(91,"p"),F.Hc(92," \u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 "),F.Pb(),F.Pb(),F.Qb(93,"div",124),F.Qb(94,"input",142),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"ContractDelivery")}),F.Pb(),F.Qb(95,"label",143),F.Lb(96,"i",127),F.Hc(97," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(98,pi,3,0,"div",128),F.Fc(99,gi,2,1,"div",27),F.Pb(),F.Nb()}if(2&e){var i=F.ac(3);F.zb(14),F.hc("ngIf",i.isFileInvalid("Regulations")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("GenDirPassport")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("GenDirProtocol")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("GenDirOrder")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("Balance")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("OSV")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("Shareholders")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("ContractDelivery")),F.zb(1),F.hc("ngIf",i.files.length)}}function Pi(e,t){if(1&e){var n=F.Rb();F.Qb(0,"form",21),F.Xb("ngSubmit",function(){return F.yc(n),F.ac(2).onSubmit()}),F.Qb(1,"div",22),F.Qb(2,"button",9),F.Xb("click",function(){return F.yc(n),F.ac(2).back()}),F.Pb(),F.Pb(),F.Qb(3,"div",23),F.Qb(4,"div",24),F.Qb(5,"label",25),F.Hc(6,"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),F.Pb(),F.Lb(7,"input",26),F.Fc(8,St,2,1,"div",27),F.Pb(),F.Qb(9,"div",24),F.Qb(10,"label",28),F.Hc(11,"\u0418\u041d\u041d"),F.Pb(),F.Lb(12,"input",29),F.Fc(13,Ot,3,2,"div",27),F.Pb(),F.Qb(14,"div",24),F.Qb(15,"label",30),F.Hc(16,"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),F.Pb(),F.Qb(17,"p-dropdown",31),F.Xb("onChange",function(e){return F.yc(n),F.ac(2).onTypeChanged(e.value)}),F.Pb(),F.Pb(),F.Fc(18,At,5,2,"div",32),F.Pb(),F.Qb(19,"div",23),F.Qb(20,"div",24),F.Qb(21,"label",33),F.Hc(22,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),F.Pb(),F.Lb(23,"p-inputMask",34),F.Fc(24,Tt,2,1,"div",27),F.Pb(),F.Qb(25,"div",24),F.Qb(26,"label",35),F.Hc(27,"E-mail"),F.Pb(),F.Lb(28,"input",36),F.Fc(29,Bt,3,2,"div",27),F.Pb(),F.Qb(30,"div",37),F.Qb(31,"label",38),F.Hc(32,"\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430"),F.Pb(),F.Lb(33,"input",39),F.Fc(34,Mt,2,1,"div",27),F.Pb(),F.Qb(35,"div",40),F.Qb(36,"h3"),F.Hc(37,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Pb(),F.Qb(38,"div",41),F.Qb(39,"label",42),F.Hc(40,"\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Qb(41,"p-autoComplete",43),F.Xb("completeMethod",function(e){return F.yc(n),F.ac(2).search(e)})("onSelect",function(e){return F.yc(n),F.ac(2).onBankSelect(e)}),F.Pb(),F.Fc(42,jt,2,1,"div",27),F.Pb(),F.Qb(43,"div",41),F.Qb(44,"label",44),F.Hc(45,"\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Lb(46,"p-inputMask",45),F.Fc(47,$t,2,1,"div",27),F.Pb(),F.Qb(48,"div",46),F.Qb(49,"label",47),F.Hc(50,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Qb(51,"p-autoComplete",48),F.Xb("completeMethod",function(e){return F.yc(n),F.ac(2).searchByBankName(e)})("onSelect",function(e){return F.yc(n),F.ac(2).onBankSelect(e)}),F.Pb(),F.Fc(52,Vt,2,1,"div",27),F.Pb(),F.Qb(53,"div",41),F.Qb(54,"label",49),F.Hc(55,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(56,"input",50),F.Fc(57,Kt,2,1,"div",27),F.Pb(),F.Qb(58,"div",41),F.Qb(59,"label",51),F.Hc(60,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(61,"p-inputMask",52),F.Fc(62,Zt,2,1,"div",27),F.Pb(),F.Qb(63,"div",46),F.Qb(64,"label",53),F.Hc(65,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),F.Pb(),F.Lb(66,"input",54),F.Fc(67,Yt,2,1,"div",27),F.Pb(),F.Qb(68,"div",40),F.Qb(69,"h3"),F.Hc(70,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0447\u0435\u0442\u043e\u0432"),F.Pb(),F.Fc(71,ln,33,6,"div",55),F.Pb(),F.Qb(72,"div",46),F.Qb(73,"div",56),F.Qb(74,"div",57),F.Qb(75,"p"),F.Hc(76," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0430 \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u0430\u043d\u043a\u0430\u0445 "),F.Pb(),F.Pb(),F.Qb(77,"button",58),F.Xb("click",function(){return F.yc(n),F.ac(2).addOtherBank()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(78,"div",40),F.Qb(79,"h3"),F.Hc(80,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a \u0410\u043d\u043a\u0435\u0442\u0435 (\u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433)"),F.Pb(),F.Pb(),F.Qb(81,"div",37),F.Qb(82,"label",59),F.Hc(83,"\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),F.Pb(),F.Lb(84,"input",60),F.Fc(85,un,2,1,"div",27),F.Pb(),F.Qb(86,"div",37),F.Qb(87,"label",61),F.Hc(88,"\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),F.Pb(),F.Lb(89,"input",62),F.Fc(90,fn,2,1,"div",27),F.Pb(),F.Qb(91,"div",37),F.Qb(92,"label",63),F.Hc(93,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438"),F.Pb(),F.Lb(94,"input",64),F.Fc(95,hn,2,1,"div",27),F.Pb(),F.Qb(96,"div",37),F.Qb(97,"label",65),F.Hc(98,"\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),F.Pb(),F.Lb(99,"p-inputNumber",66),F.Fc(100,gn,2,1,"div",27),F.Pb(),F.Qb(101,"div",37),F.Qb(102,"label",67),F.Hc(103,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438"),F.Pb(),F.Lb(104,"input",68),F.Fc(105,Pn,2,1,"div",27),F.Pb(),F.Qb(106,"div",37),F.Qb(107,"label",69),F.Hc(108,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),F.Pb(),F.Lb(109,"input",70),F.Fc(110,kn,2,1,"div",27),F.Pb(),F.Qb(111,"div",40),F.Qb(112,"h3"),F.Hc(113,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0435\u0439\u0441\u044f \u0432 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438/\u0430\u0440\u0435\u043d\u0434\u0435 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f"),F.Pb(),F.Qb(114,"p",71),F.Hc(115,"\u041f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043f\u0443\u043d\u043a\u0442\u0443 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f\u0445 \u0438 \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435 \u0432\u043b\u0430\u0434\u0435\u0435\u0442 \u0442\u0435\u043c \u0438\u043b\u0438 \u0438\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"),F.Pb(),F.Fc(116,In,19,2,"div",72),F.Pb(),F.Qb(117,"div",46),F.Qb(118,"div",56),F.Qb(119,"div",57),F.Qb(120,"p"),F.Hc(121," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(122,"button",73),F.Xb("click",function(){return F.yc(n),F.ac(2).addOtherPlace()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(123,"div",40),F.Qb(124,"h3"),F.Hc(125,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u043d\u0435\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u0445, \u0430\u043a\u043a\u0440\u0435\u0434\u0438\u0442\u0438\u0432\u0430\u0445, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f\u0445, \u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430\u0445"),F.Pb(),F.Qb(126,"p",71),F.Hc(127,"\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u0430\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0438 \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0440\u0441\u043a\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c, \u0432 \u0442. \u0447. \u0441\u0441\u0443\u0434\u044b \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),F.Pb(),F.Fc(128,Nn,39,7,"div",74),F.Pb(),F.Qb(129,"div",46),F.Qb(130,"div",56),F.Qb(131,"div",57),F.Qb(132,"p"),F.Hc(133," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(134,"button",75),F.Xb("click",function(){return F.yc(n),F.ac(2).addFactoringCredits()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(135,"div",40),F.Qb(136,"h3"),F.Hc(137,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a \u0410\u043d\u043a\u0435\u0442\u0435 (\u0424\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438)"),F.Pb(),F.Pb(),F.Qb(138,"div",46),F.Qb(139,"label",76),F.Hc(140,"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438"),F.Pb(),F.Lb(141,"input",77),F.Fc(142,Ln,2,1,"div",27),F.Pb(),F.Qb(143,"div",46),F.Qb(144,"label",78),F.Hc(145,"\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442"),F.Pb(),F.Lb(146,"p-inputNumber",79),F.Fc(147,Bn,2,1,"div",27),F.Pb(),F.Fc(148,vi,100,16,"ng-container",27),F.Qb(149,"div",40),F.Qb(150,"label",80),F.Hc(151,"\xa0"),F.Pb(),F.Lb(152,"button",81),F.bc(153,"async"),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().formFactoring,r=F.ac();F.hc("formGroup",i),F.zb(8),F.hc("ngIf",i.controls.organizationShortName.invalid),F.zb(5),F.hc("ngIf",i.controls.organizationINN.invalid),F.zb(4),F.hc("options",r.organizationTypes),F.zb(1),F.hc("ngIf",1===i.get("organizationType").value),F.zb(6),F.hc("ngIf",i.controls.organizationPhone.invalid),F.zb(5),F.hc("ngIf",i.controls.organizationEmail.invalid),F.zb(5),F.hc("ngIf",i.controls.organizationWEB.invalid),F.zb(7),F.hc("suggestions",r.resultsBIK),F.zb(1),F.hc("ngIf",i.controls.bankBik.invalid),F.zb(5),F.hc("ngIf",i.controls.bankCorrespondentAccount.invalid),F.zb(4),F.hc("suggestions",r.resultsBankname),F.zb(1),F.hc("ngIf",i.controls.bankName.invalid),F.zb(5),F.hc("ngIf",i.controls.bankAccountOpenDate.invalid),F.zb(5),F.hc("ngIf",i.controls.bankOwnerAccount.invalid),F.zb(5),F.hc("ngIf",i.controls.bankComment.invalid),F.zb(4),F.hc("ngForOf",i.get("otherBanks").controls),F.zb(14),F.hc("ngIf",i.controls.factoringProducts.invalid),F.zb(5),F.hc("ngIf",i.controls.factoringTradeMarks.invalid),F.zb(5),F.hc("ngIf",i.controls.factoringShipments.invalid),F.zb(5),F.hc("ngIf",i.controls.factoringFinanceLimit.invalid),F.zb(5),F.hc("ngIf",i.controls.factoringClients.invalid),F.zb(5),F.hc("ngIf",i.controls.factoringWorkers.invalid),F.zb(6),F.hc("ngForOf",i.get("factoringPlaces").controls),F.zb(12),F.hc("ngForOf",i.get("factoringCredits").controls),F.zb(14),F.hc("ngIf",i.controls.factoringSuppliers.invalid),F.zb(5),F.hc("ngIf",i.controls.factoringLimit.invalid),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(4),F.hc("disabled",i.invalid||F.cc(153,29,r.isLoading$)||r.isFilesInvalid())}}function yi(e,t){if(1&e&&(F.Fc(0,Dt,2,0,"ng-container",6),F.Fc(1,Pi,154,31,"ng-template",null,20,F.Gc)),2&e){var n=F.vc(2),i=F.ac();F.hc("ngIf",i.isLoading)("ngIfElse",n)}}var ki,Ii=function(e){return{"card-content":e}},Fi=((ki=function(){function e(t,n,i,a,o,c,s,l,d,u,b){r(this,e),this.dialogService=t,this.currencyPipe=n,this.authService=i,this.router=a,this.fb=o,this.route=c,this.demandService=s,this.messageService=l,this.commonService=d,this.store=u,this.fileService=b,this.isEdit=!1,this.currentDraftId=0,this.files=[],this.organizationTypes=[],this.ruleTypes=[],this.typesOfOwner=[],this.alertMessage=[],this.addressDialog=!1,this.isLoading$=new x.a,this.isLoading=!1,this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.initValues(),this.subscription$.add(this.route.queryParams.subscribe(function(t){e.isView="true"===t.View,t.ID&&"false"===t.Edit?(e.isLoading=!0,e.fetch(t.ID)):(e.isLoading=!0,e.getDraft())})),this._saveDraftAction$=setInterval(function(){return e.saveDraft()},3e4)}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"search",value:function(e){var t=this;this.subscription$.add(this.commonService.getBankByBIK(e.query).subscribe(function(e){t.banksFounded=e,t.resultsBIK=e.map(function(e){return e.BIC})}))}},{key:"saveDraft",value:function(){var e=this,t=this.prepareDraft();this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,t).subscribe(function(t){e.currentDraftId=t.ID,e.showSuccess()}))}},{key:"isFileInvalid",value:function(e){return!this.files.map(function(e){return e.Identifier}).includes(e)}},{key:"isFilesInvalid",value:function(){var e=this.files.map(function(e){return e.Identifier});return e.length<1||!(e.includes("Regulations")&&e.includes("GenDirPassport")&&e.includes("GenDirProtocol")&&e.includes("GenDirOrder")&&e.includes("Balance")&&e.includes("OSV")&&e.includes("Shareholders")&&e.includes("ContractDelivery"))}},{key:"onOtherBankSelect",value:function(e,t){var n=this.banksFounded.find(function(e){return e.BIC===t||e.Name===t});this.formFactoring.get("otherBanks").controls[e].patchValue({otherBankName:n.Name})}},{key:"onBankSelect",value:function(e){var t=this.banksFounded.find(function(t){return t.BIC===e||t.Name===e});this.formFactoring.patchValue({bankBik:t.BIC,bankCorrespondentAccount:t.AccountBank,bankName:t.Name})}},{key:"searchByBankName",value:function(e){var t=this;this.subscription$.add(this.commonService.getBankByName(e.query).subscribe(function(e){t.banksFounded=e,t.resultsBankname=e.map(function(e){return e.Name})}))}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe()}},{key:"onSubmit",value:function(){var e=this,t=this.prepareData();this.subscription$.add(this.demandService.add(t).subscribe(function(t){e.alert=!0,window.scroll(0,0),e.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}},{key:"handleSendMessage",value:function(e){var t=this;this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(function(e){t.fetch(t.currentDemand.ID)}))}},{key:"handleRemoveFile",value:function(e){this.currentDemand.Files=this.currentDemand.Files.filter(function(t){return t!==e})}},{key:"fetch",value:function(e){var t=this;this.subscription$.add(this.demandService.getDemandById(e).subscribe(function(e){t.currentDemand=e,t.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(t.currentDemand),t.isLoading=!1,t.isEdit=!0}))}},{key:"getDraft",value:function(){var e=this;this.subscription$.add(this.demandService.prepareDemandByType("AgencyFactoring ").subscribe(function(t){e.currentDemand=t,e.convertToFormData(),e.isLoading=!1}))}},{key:"addOtherBank",value:function(e){this.formFactoring.get("otherBanks").push(this.fb.group({otherBankAccountOpenDate:[e?e.Date:"",[N.x.required]],otherBankAccountCloseDate:[e?Object(_.x)(e.Expire,"yyyy-MM-dd","en"):""],otherBankName:[e?e.Bank:"",[N.x.required]],otherBankOwnerAccount:[e?e.Number:"",[N.x.required]],otherBankTarget:[e?e.Comment:"",[N.x.required]]}))}},{key:"addOtherPlace",value:function(e){var t=this.formFactoring.get("factoringPlaces");t.push(this.fb.group({displayAddress:"",factoringPlacesAddress:{PostCode:e?e.Address.PostCode:"",Country:e?e.Address.Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:e?e.Address.RegionCode:77,RegionTitle:e?e.Address.RegionTitle:"",City:e?e.Address.City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:e?e.Address.District:"",Locality:e?e.Address.Locality:"",Street:e?e.Address.Street:"",House:e?e.Address.House:"",Appartment:e?e.Address.Appartment:""},factoringPlacesLegalForm:["Own",[N.x.required]]})),this.updateDisplayAddress(t.length-1)}},{key:"addFactoringCredits",value:function(e){this.formFactoring.get("factoringCredits").push(this.fb.group({factoringCreditsCreditor:[e?e.Creditor:""],factoringPlacesTypeDuty:[e?e.Type:""],factoringPlacesDateClose:[e?Object(_.x)(e.Date,"yyyy-MM-dd","en"):""],factoringPlacesContractSum:[e?e.Summ:""],factoringPlacesBalanceReport:[e?e.ReportingRest:""],factoringPlacesBalanceCurrent:[e?e.CurrentRest:""]}))}},{key:"remove",value:function(e,t){this.formFactoring.get(t).removeAt(e)}},{key:"openAddressForm",value:function(e){var t=this;this.currentAddressFormId=e,this.ref=this.dialogService.open(q,{header:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441",width:"650px",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,styleClass:"p-fluid",data:{address:this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,index:e}}),this.ref.onClose.subscribe(function(e){e&&(t.formFactoring.value.factoringPlaces[t.currentAddressFormId].factoringPlacesAddress=e,t.updateDisplayAddress(t.currentAddressFormId))})}},{key:"onSelect",value:function(e,n){var i,r=this,a=t(e.target.files);try{var o=function(){var e=i.value,t=E.a.newGuid();r.subscription$.add(r.commonService.getBase64(e).pipe(Object(P.a)(function(n){return r.fileService.uploadFileChunks(n,e.name,e.size.toString(),t)})).subscribe(function(e){console.log(e),r.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:n})},function(e){return console.log(e)}))};for(a.s();!(i=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}}},{key:"removeFile",value:function(e){this.files.splice(this.files.indexOf(this.files.find(function(t){return t===e})),1)}},{key:"onTypeChanged",value:function(e){0===e&&this.formFactoring.patchValue({organizationLegalForm:null})}},{key:"initValues",value:function(){var e=new L.a;this.organizationTypes=e.getOrganizations(),this.ruleTypes=e.getLegalForms(),this.typesOfOwner=e.getTypesOfOwner(),this.countryList=e.getCountryList(),this.regionList=e.getRegionList(),this.isLoading$=this.store.pipe(Object(f.t)(A.e)),this.backendErrors$=this.store.pipe(Object(f.t)(T.c))}},{key:"initForm",value:function(){this.formFactoring=this.fb.group({organizationType:[0,[N.x.required]],organizationLegalForm:[""],organizationShortName:["",[N.x.required]],organizationINN:["",[N.x.required,N.x.minLength(10),N.x.maxLength(12)]],organizationPhone:["",[N.x.required]],organizationEmail:["",[N.x.required,N.x.email]],organizationWEB:[""],bankBik:["",[N.x.required]],bankCorrespondentAccount:["",[N.x.required]],bankName:["",[N.x.required]],bankAccountOpenDate:["",[N.x.required]],bankOwnerAccount:["",[N.x.required]],bankComment:[""],otherBanks:this.fb.array([]),factoringProducts:["",[N.x.required]],factoringTradeMarks:["",[N.x.required]],factoringShipments:["",[N.x.required]],factoringFinanceLimit:[null,[N.x.required]],factoringClients:["",[N.x.required]],factoringWorkers:[0,[N.x.required]],factoringPlaces:this.fb.array([]),factoringCredits:this.fb.array([]),factoringSuppliers:["",[N.x.required]],factoringLimit:[0,[N.x.required]]}),this.formFactoring.markAllAsTouched(),this.formFactoring.markAsDirty()}},{key:"updateDisplayAddress",value:function(e){var t=this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,n="";console.log(t),t.PostCode&&(n=n+" "+t.PostCode),t.Country&&(n=n+" "+t.Country),t.RegionCode&&(n=n+" "+t.RegionCode),t.RegionTitle&&(n=n+" "+t.RegionTitle),t.City&&(n=n+" "+t.City),t.District&&(n=n+" "+t.District),t.Locality&&(n=n+" "+t.Locality),t.Street&&(n=n+" "+t.Street),t.House&&(n=n+" "+t.House),t.Appartment&&(n=n+" "+t.Appartment),this.formFactoring.controls.factoringPlaces.at(e).patchValue({displayAddress:n,factoringPlacesAddress:t})}},{key:"convertToFormData",value:function(){var e,t,n,i,r,a,o,c,s,l,d,u,b,f,p,h,m,g=this,v=null===(e=this.currentDemand)||void 0===e?void 0:e.Factoring,P=null===(t=this.currentDemand)||void 0===t?void 0:t.Anket,y=null==v?void 0:v.AddonAccounts,k=null==v?void 0:v.Properties,I=null==v?void 0:v.Obligations;this.formFactoring.patchValue({organizationType:null===(n=null==P?void 0:P.Organization)||void 0===n?void 0:n.Type,organizationLegalForm:null===(i=null==P?void 0:P.Organization)||void 0===i?void 0:i.LegalForm,organizationShortName:null===(r=P.Organization)||void 0===r?void 0:r.ShortTitle,organizationINN:null===(o=null===(a=null==P?void 0:P.Organization)||void 0===a?void 0:a.Requisites)||void 0===o?void 0:o.INN,organizationPhone:null===(c=null==P?void 0:P.Organization)||void 0===c?void 0:c.Phone,organizationEmail:null===(s=null==P?void 0:P.Organization)||void 0===s?void 0:s.Email,organizationWEB:null===(l=null==P?void 0:P.Organization)||void 0===l?void 0:l.Website,bankBik:null===(d=null==v?void 0:v.Account)||void 0===d?void 0:d.BIK,bankCorrespondentAccount:null===(u=null==v?void 0:v.Account)||void 0===u?void 0:u.COR,bankName:null===(b=null==v?void 0:v.Account)||void 0===b?void 0:b.Bank,bankAccountOpenDate:Object(_.x)((null===(f=null==v?void 0:v.Account)||void 0===f?void 0:f.Date)?null===(p=null==v?void 0:v.Account)||void 0===p?void 0:p.Date:null,"yyyy-MM-dd","en"),bankOwnerAccount:null===(h=null==v?void 0:v.Account)||void 0===h?void 0:h.Number,bankComment:null===(m=null==v?void 0:v.Account)||void 0===m?void 0:m.Comment,factoringProducts:null==v?void 0:v.Products,factoringTradeMarks:null==v?void 0:v.Trademarks,factoringShipments:null==v?void 0:v.Suppliers,factoringFinanceLimit:null==v?void 0:v.LimitWanted,factoringClients:null==v?void 0:v.Buyers,factoringWorkers:null==v?void 0:v.StaffAmount,factoringSuppliers:null==v?void 0:v.Suppliers,factoringLimit:null==v?void 0:v.LimitWanted}),y&&y.forEach(function(e){return g.addOtherBank(e)}),k&&k.forEach(function(e){return g.addOtherPlace(e)}),I&&I.forEach(function(e){return g.addFactoringCredits(e)})}},{key:"showSuccess",value:function(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}},{key:"prepareCoreData",value:function(){var e=[],t=[],n=[];return this.formFactoring.value.factoringPlaces.forEach(function(e){n.push({Address:{Appartment:e.factoringPlacesAddress.Appartment,City:e.factoringPlacesAddress.City,Country:e.factoringPlacesAddress.Country,District:e.factoringPlacesAddress.District,House:e.factoringPlacesAddress.House,Locality:e.factoringPlacesAddress.Locality,PostCode:e.factoringPlacesAddress.PostCode,RegionCode:e.factoringPlacesAddress.RegionCode,Street:e.factoringPlacesAddress.Street,RegionTitle:e.factoringPlacesAddress.RegionTitle},Comment:"",Type:e.factoringPlacesLegalForm})}),this.formFactoring.value.factoringCredits.forEach(function(t){e.push({Creditor:t.factoringCreditsCreditor,CurrentRest:t.factoringPlacesBalanceCurrent,Date:new Date(t.factoringPlacesDateClose),ReportingRest:t.factoringPlacesBalanceReport,Summ:t.factoringPlacesContractSum,Type:t.factoringPlacesTypeDuty})}),this.formFactoring.value.otherBanks.forEach(function(e){t.push({BIK:"",Bank:e.otherBankName,COR:"",Comment:e.otherBankTarget,Date:new Date(e.otherBankAccountOpenDate),Expire:new Date(e.otherBankAccountCloseDate),Number:e.otherBankOwnerAccount})}),{Anket:{Registration:{Authority:"",Date:new Date,InitDate:new Date,Number:"",Place:""},Resident:{Country:"\u0420\u0424",ForeignCode:"",IsResident:!0},Shareholders:[],Signer:{FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},Passport:{Date:new Date,Expire:new Date,IsForeign:!1,IssuerCode:"",IssuerTitle:"",Nationality:"",Number:""},Person:{BirthDate:new Date,BirthPlace:"",Email:"",Gender:1,Name:{First:"",Last:"",Second:""},NameFirst:"",NameLast:"",NameSecond:"",Phone:"",SNILS:""},PositionDate:new Date,PositionTitle:"",RegistrationAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""}},Activities:[],Capital:{Total:0,Payed:0},Licenses:[],Objectives:{BankRelationObjective:16,BankRelationObjectiveOther:"",FinancialObjective:1,FinancialObjectiveOther:"",TransactionsContracts:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430",TransactionsCount:"",TransactionsSumm:""},Organization:{Email:this.formFactoring.value.organizationEmail,FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},FactAddressEquals:!1,ForeignTitle:"",FullTitle:"",LegalAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},LegalForm:this.formFactoring.value.organizationLegalForm,Phone:this.formFactoring.value.organizationPhone,PostAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},PostAddressEquals:!1,Requisites:{INN:this.formFactoring.value.organizationINN,KPP:"",OGRN:"",OKATO:"",OKPO:""},ShortTitle:this.formFactoring.value.organizationShortName,Type:this.formFactoring.value.organizationType,Website:this.formFactoring.value.organizationWEB}},Factoring:{Account:{BIK:this.formFactoring.value.bankBik,Bank:this.formFactoring.value.bankName,COR:this.formFactoring.value.bankCorrespondentAccount,Comment:this.formFactoring.value.bankComment,Date:new Date(this.formFactoring.value.bankAccountOpenDate),Expire:null,Number:this.formFactoring.value.bankOwnerAccount},AddonAccounts:t,Buyers:this.formFactoring.value.factoringClients,EDI:[],FactoringAim:0,LimitWanted:this.formFactoring.value.factoringFinanceLimit,Obligations:e,Products:this.formFactoring.value.factoringProducts,Properties:n,StaffAmount:this.formFactoring.value.factoringWorkers,Suppliers:this.formFactoring.value.factoringShipments,Trademarks:this.formFactoring.value.factoringTradeMarks},Files:this.files,Type:"AgencyFactoring "}}},{key:"prepareDraft",value:function(){return this.prepareCoreData()}},{key:"prepareData",value:function(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}]),e}()).\u0275fac=function(e){return new(e||ki)(F.Kb(H.a),F.Kb(_.d),F.Kb(j.a),F.Kb(S.f),F.Kb(N.d),F.Kb(S.a),F.Kb(D),F.Kb(U.g),F.Kb($.a),F.Kb(f.h),F.Kb(G.a))},ki.\u0275cmp=F.Eb({type:ki,selectors:[["app-demand-action-agent-factoring-page"]],decls:14,vars:8,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],["contentTemplate",""],[3,"formGroup","ngSubmit"],[1,"form-actions"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-lg-3"],["for","organizationShortName"],["id","organizationShortName","type","text","pInputText","","placeholder","\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","formControlName","organizationShortName"],[4,"ngIf"],["for","organizationINN"],["id","organizationINN","pInputText","","type","text","placeholder","\u0418\u041d\u041d","formControlName","organizationINN","minlength","10","maxlength","12"],["for","organizationType"],["id","organizationType","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationType","optionLabel","title","optionValue","value",3,"options","onChange"],["class","p-field p-col-12 p-lg-3",4,"ngIf"],["for","organizationPhone"],["id","organizationPhone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","organizationPhone","mask","+7-999-999-99-99"],["for","organizationEmail"],["id","organizationEmail","type","email","pInputText","","placeholder","E-mail","formControlName","organizationEmail"],[1,"p-field","p-col-12","p-lg-6"],["for","organizationWEB"],["id","organizationWEB","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430","formControlName","organizationWEB"],[1,"p-field","p-col-12","p-md-12"],[1,"p-field","p-col-12","p-md-3"],["for","bankBik"],["id","bankBik","placeholder","\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430","formControlName","bankBik",3,"suggestions","completeMethod","onSelect"],["for","bankCorrespondentAccount"],["id","bankCorrespondentAccount","type","text","mask","99999999999999999999","placeholder","\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430","formControlName","bankCorrespondentAccount"],[1,"p-field","p-col-12","p-md-6"],["for","bankName"],["id","bankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","bankName",3,"suggestions","completeMethod","onSelect"],["for","bankAccountOpenDate"],["id","bankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","bankAccountOpenDate"],["for","bankOwnerAccount"],["id","bankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","bankOwnerAccount"],["for","bankComment"],["id","bankComment","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439","formControlName","bankComment"],["class","mib-formset","formArrayName","otherBanks",4,"ngFor","ngForOf"],[1,"addon-button"],[1,"addon-text-small"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435","type","button",1,"basic-small",3,"click"],["for","factoringProducts"],["id","factoringProducts","type","text","pInputText","","placeholder","\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringProducts"],["for","factoringTradeMarks"],["id","factoringTradeMarks","type","text","pInputText","","placeholder","\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringTradeMarks"],["for","factoringShipments"],["id","factoringShipments","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438","formControlName","factoringShipments"],["for","factoringFinanceLimit"],["placeholder","\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","id","factoringFinanceLimit","formControlName","factoringFinanceLimit","inputId","factoringFinanceLimit","mode","currency","currency","RUB","locale","ru-RU"],["for","factoringClients"],["id","factoringClients","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438","formControlName","factoringClients"],["for","factoringWorkers"],["id","factoringWorkers","type","number","pInputText","","placeholder","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432","formControlName","factoringWorkers"],[1,"description"],["class","mib-formset","formArrayName","factoringPlaces",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringCredits",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["for","factoringSuppliers"],["id","factoringSuppliers","type","text","pInputText","","placeholder","\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438","formControlName","factoringSuppliers"],["for","factoringLimit"],["placeholder","\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442","id","factoringLimit","formControlName","factoringLimit","inputId","factoringLimit","mode","currency","currency","RUB","locale","ru-RU"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],["class","p-error",4,"ngIf"],[1,"p-error"],["for","organizationLegalForm"],["id","organizationLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443","formControlName","organizationLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","otherBanks",1,"mib-formset"],[1,"text"],[1,"button","warn",3,"click"],[1,"form"],[3,"formGroupName"],[1,"p-fluid","p-formgrid","p-grid"],["for","otherBankAccountOpenDate"],["id","otherBankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountOpenDate"],["for","otherBankAccountCloseDate"],["id","otherBankAccountCloseDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountCloseDate"],["for","otherBankName"],["id","otherBankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","otherBankName",3,"suggestions","completeMethod","onSelect"],["for","otherBankOwnerAccount"],["id","otherBankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankOwnerAccount"],["for","otherBankTarget"],["id","otherBankTarget","type","text","pInputText","","placeholder","\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","formControlName","otherBankTarget"],["formArrayName","factoringPlaces",1,"mib-formset"],["for","factoringPlacesAddress"],["id","factoringPlacesAddress","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430","disabled","","formControlName","displayAddress"],["pButton","","pRipple","","type","button","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],["for","factoringPlacesLegalForm"],["id","factoringPlacesLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0424\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f","formControlName","factoringPlacesLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","factoringCredits",1,"mib-formset"],[1,"p-field","p-col-12","p-md-4","p-lg-3"],["for","factoringCreditsCreditor"],["id","factoringCreditsCreditor","type","text","pInputText","","placeholder","\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440","formControlName","factoringCreditsCreditor"],["for","factoringPlacesTypeDuty"],["id","factoringPlacesTypeDuty","type","text","pInputText","","placeholder","\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430","formControlName","factoringPlacesTypeDuty"],["for","factoringPlacesDateClose"],["id","factoringPlacesDateClose","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f","formControlName","factoringPlacesDateClose"],["for","factoringPlacesContractSum"],["id","factoringPlacesContractSum","type","text","pInputText","","placeholder","\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430","formControlName","factoringPlacesContractSum"],["for","factoringPlacesBalanceReport"],["id","factoringPlacesBalanceReport","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438","formControlName","factoringPlacesBalanceReport"],["for","factoringPlacesBalanceCurrent"],["id","factoringPlacesBalanceCurrent","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443","formControlName","factoringPlacesBalanceCurrent"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Regulations","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Regulations",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],["type","file","id","GenDirPassport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","GenDirPassport",1,"mib-upload"],["type","file","id","GenDirProtocol","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","GenDirProtocol",1,"mib-upload"],["type","file","id","actual-btn","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","actual-btn",1,"mib-upload"],["type","file","id","Balance","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Balance",1,"mib-upload"],["type","file","id","OSV","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","OSV",1,"mib-upload"],[1,"p-field","p-col-12","p-md-6","p-lg-6"],["type","file","id","Shareholders","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Shareholders",1,"mib-upload"],["type","file","id","ContractDelivery","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","ContractDelivery",1,"mib-upload"],[1,"mib-uploader__error"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(F.Lb(0,"p-toast"),F.Qb(1,"div",0),F.Qb(2,"div",1),F.Qb(3,"div",2),F.Qb(4,"h2"),F.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0410\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433"),F.Pb(),F.Pb(),F.Qb(6,"div",3),F.Fc(7,Pt,1,0,"button",4),F.Pb(),F.Pb(),F.Qb(8,"p-messages",5),F.Xb("valueChange",function(e){return t.alertMessage=e}),F.Pb(),F.Fc(9,Ft,9,7,"ng-container",6),F.Fc(10,Ct,1,4,"ng-template",null,7,F.Gc),F.Fc(12,yi,3,2,"ng-template",null,8,F.Gc),F.Pb()),2&e){var n=F.vc(11);F.zb(1),F.hc("ngClass",F.mc(6,Ii,t.isUserVerified)),F.zb(6),F.hc("ngIf",t.isEdit),F.zb(1),F.hc("value",t.alertMessage)("enableService",!1),F.zb(1),F.hc("ngIf",t.isEdit)("ngIfElse",n)}},directives:[V.a,_.l,_.n,X.a,M.b,K.b,K.a,ye,_.s,Fe,De,N.y,N.q,N.h,N.b,B.a,N.p,N.f,N.l,N.k,R.a,ze.a,mt,_.m,vt.a,N.t,N.c,N.i],pipes:[_.b],styles:[".description[_ngcontent-%COMP%]{font-family:Ubuntu;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#989898}.small[_ngcontent-%COMP%]{padding:5px!important;width:100px!important}.addon-text[_ngcontent-%COMP%]{border:1px solid #c4c4c4;width:100%;height:39px;border-radius:10px;padding:10px}[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}.passport-confirm[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;margin-bottom:20px}.btn-attention[_ngcontent-%COMP%]{max-width:280px;font-size:14px;padding:15px 0!important}.passport-owner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0!important}.passport-owner[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:10px!important}"]}),ki),Qi=a("DVgK");function Ci(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",10),F.Xb("click",function(){return F.yc(n),F.ac().back()}),F.Pb()}}function Di(e,t){if(1&e&&F.Lb(0,"metib-backend-error-messages",11),2&e){var n=F.ac();F.hc("backendErrors",n.errorMessage)}}function zi(e,t){1&e&&F.Mb(0)}function Si(e,t){if(1&e&&(F.Qb(0,"p-tabPanel",20),F.Lb(1,"app-demand-result",21),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("result",n.currentDemand.Result)}}var wi=function(e){return{formFree:e}};function xi(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"p-tabView",12),F.Qb(2,"p-tabPanel",13),F.Qb(3,"app-demand-info",14),F.Xb("sendMessage",function(e){return F.yc(n),F.ac().handleSendMessage(e)}),F.Pb(),F.Pb(),F.Qb(4,"p-tabPanel",15),F.Fc(5,zi,1,0,"ng-container",16),F.Pb(),F.Qb(6,"p-tabPanel",17),F.Qb(7,"app-demand-files",18),F.Xb("removeFile",function(e){return F.yc(n),F.ac().handleRemoveFile(e)}),F.Pb(),F.Pb(),F.Fc(8,Si,2,1,"p-tabPanel",19),F.Pb(),F.Nb()}if(2&e){var i=F.ac(),r=F.vc(14);F.zb(3),F.hc("currentDemandInfo",i.currentInformation),F.zb(2),F.hc("ngTemplateOutlet",r)("ngTemplateOutletContext",F.mc(5,wi,i.formFree)),F.zb(2),F.hc("currentDemandFiles",i.currentDemand.Files),F.zb(1),F.hc("ngIf",i.isView)}}function Oi(e,t){1&e&&F.Mb(0)}function _i(e,t){if(1&e&&F.Fc(0,Oi,1,0,"ng-container",16),2&e){var n=F.ac(),i=F.vc(14);F.hc("ngTemplateOutlet",i)("ngTemplateOutletContext",F.mc(2,wi,n.formFree))}}function Ei(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",34),F.Qb(1,"button",10),F.Xb("click",function(){return F.yc(n),F.ac(2).back()}),F.Pb(),F.Pb()}}function Ai(e,t){1&e&&(F.Qb(0,"small",36),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ni(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ai,2,0,"small",35),F.Pb()),2&e){var n=F.ac().formFree;F.zb(1),F.hc("ngIf",n.controls.Id.errors.required)}}function Ti(e,t){1&e&&(F.Qb(0,"small",36),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Li(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ti,2,0,"small",35),F.Pb()),2&e){var n=F.ac(2).formFree;F.zb(1),F.hc("ngIf",n.controls.INN.errors.required)}}function Hi(e,t){if(1&e&&(F.Qb(0,"div",25),F.Qb(1,"label",37),F.Hc(2,"\u0418\u041d\u041d"),F.Pb(),F.Lb(3,"input",38),F.Fc(4,Li,2,1,"div",29),F.Pb()),2&e){var n=F.ac().formFree;F.zb(4),F.hc("ngIf",n.controls.INN.invalid)}}function Bi(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",48),F.Qb(1,"div",41),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",42),F.Qb(5,"div",49),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(4).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Ri(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Bi,7,1,"div",47),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","All"===n.Identifier)}}function Mi(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ri,2,1,"ng-container",46),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.hc("ngForOf",n.files)}}function qi(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"div",39),F.Qb(2,"div",40),F.Qb(3,"div",41),F.Qb(4,"p"),F.Hc(5," \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b: "),F.Pb(),F.Pb(),F.Qb(6,"div",42),F.Qb(7,"input",43),F.Xb("change",function(e){return F.yc(n),F.ac(2).onSelect(e,"All")}),F.Pb(),F.Qb(8,"label",44),F.Lb(9,"i",45),F.Hc(10," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(11,Mi,2,1,"div",29),F.Pb(),F.Nb()}if(2&e){var i=F.ac(2);F.zb(11),F.hc("ngIf",i.files.length)}}function ji(e,t){if(1&e){var n=F.Rb();F.Qb(0,"form",22),F.Xb("ngSubmit",function(){return F.yc(n),F.ac().onSubmit()}),F.Fc(1,Ei,2,0,"div",23),F.Qb(2,"div",24),F.Qb(3,"div",25),F.Qb(4,"label",26),F.Hc(5,"\u0414\u0435\u0431\u0438\u0442\u043e\u0440"),F.Pb(),F.Qb(6,"p-dropdown",27),F.Xb("change",function(){return F.yc(n),F.ac().debtorChange()})("onChange",function(){return F.yc(n),F.ac().debtorChange()}),F.Pb(),F.Qb(7,"small",28),F.Hc(8,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0438\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u0432\u043e\u0435\u0433\u043e."),F.Pb(),F.Fc(9,Ni,2,1,"div",29),F.Pb(),F.Fc(10,Hi,5,1,"div",30),F.Fc(11,qi,12,1,"ng-container",29),F.Qb(12,"div",31),F.Qb(13,"label",32),F.Hc(14,"\xa0"),F.Pb(),F.Lb(15,"button",33),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.formFree,r=F.ac();F.hc("formGroup",i),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(5),F.hc("options",r.debtors)("filter",!0),F.zb(3),F.hc("ngIf",i.controls.Id.invalid),F.zb(1),F.hc("ngIf",r.isNewDebtor),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(4),F.hc("disabled",i.invalid||r.isLoading)}}var Ui,$i=function(e){return{"card-content":e}},Gi=((Ui=function(){function e(t,n,i,a,o,c,s,l){r(this,e),this.authService=t,this.fb=n,this.demandService=i,this.commonService=a,this.messageService=o,this.fileService=c,this.router=s,this.route=l,this.isEdit=!1,this.currentDraftId=0,this.alertMessage=[],this.files=[],this.isLoading=!1,this.debtors=[],this.isNewDebtor=!1,this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.subscription$.add(this.route.queryParams.subscribe(function(t){e.isView="true"===t.View,t.ID&&"false"===t.Edit&&e.fetch(t.ID),t.DraftId&&(e.currentDraftId=t.DraftID)})),this._saveDraftAction$=setInterval(function(){return e.saveDraft()},3e4),this.subscription$.add(this.demandService.getDebtors().subscribe(function(t){e.debtors=t}))}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"debtorChange",value:function(){var e=this,t=this.debtors.find(function(t){return t.ID===e.formFree.value.Id});this.isNewDebtor=!t}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}},{key:"handleSendMessage",value:function(e){var t=this;this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(function(e){t.fetch(t.currentDemand.ID)}))}},{key:"handleRemoveFile",value:function(e){this.currentDemand.Files=this.currentDemand.Files.filter(function(t){return t!==e})}},{key:"fetch",value:function(e){var t=this;this.subscription$.add(this.demandService.getDemandById(e).subscribe(function(e){t.currentDemand=e,t.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(t.currentDemand),t.isEdit=!0,t.convertToFormData()}))}},{key:"convertToFormData",value:function(){var e=this.currentDemand.Data;this.formFree.patchValue({Id:+e.ID,inn:e.INN})}},{key:"onSubmit",value:function(){var e=this;if(this.resetAlerts(),this.isNewDebtor&&this.files.length<1)return this.errorAlert=!0,void(this.errorMessage="\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b.");this.isLoading=!0;var t=this.prepareData();this.subscription$.add(this.demandService.add(t).subscribe(function(t){e.alert=!0,e.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}],e.isLoading=!1}))}},{key:"saveDraft",value:function(){var e=this;this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,this.prepareDraft()).subscribe(function(t){console.log(t),e.currentDraftId=t.ID,e.showSuccess()}))}},{key:"prepareDraft",value:function(){return this.prepareCoreData()}},{key:"prepareData",value:function(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}},{key:"prepareCoreData",value:function(){var e=this;if(this.isNewDebtor)return{ID:0,INN:this.formFree.value.INN,IsNew:!0,Title:this.formFree.value.Id,Files:this.files,Type:"NewDebtor"};if(this.formFree.value.Id){var t=this.debtors.find(function(t){return t.ID===+e.formFree.value.Id});return{ID:t.ID,INN:t.Inn,IsNew:!1,Title:t.Title,Files:this.files,Type:"NewDebtor"}}}},{key:"initForm",value:function(){this.formFree=this.fb.group({Id:[0,[N.x.required]],INN:[""]}),this.formFree.markAllAsTouched(),this.formFree.markAsDirty()}},{key:"showSuccess",value:function(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}},{key:"removeFile",value:function(e){this.files.splice(this.files.indexOf(this.files.find(function(t){return t===e})),1)}},{key:"onSelect",value:function(e,n){var i,r=this,a=t(e.target.files);try{var o=function(){var e=i.value,t=E.a.newGuid();r.subscription$.add(r.commonService.getBase64(e).pipe(Object(P.a)(function(n){return r.fileService.uploadFileChunks(n,e.name,e.size.toString(),t)})).subscribe(function(e){console.log(e),r.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:n})},function(e){return console.log(e)}))};for(a.s();!(i=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}}},{key:"resetAlerts",value:function(){this.alert=!1,this.alertMessage=[],this.errorAlert=!1,this.errorMessage=""}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}]),e}()).\u0275fac=function(e){return new(e||Ui)(F.Kb(j.a),F.Kb(N.d),F.Kb(D),F.Kb($.a),F.Kb(U.g),F.Kb(G.a),F.Kb(S.f),F.Kb(S.a))},Ui.\u0275cmp=F.Eb({type:Ui,selectors:[["app-demand-action-debitor-page"]],decls:15,vars:9,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-12","p-lg-12"],["for","Id"],["formControlName","Id","id","Id","filterBy","Title","optionLabel","Title","optionValue","ID","editable","true",3,"options","filter","change","onChange"],["id","debtor-help"],[4,"ngIf"],["class","p-field p-col-12 p-md-12 p-lg-12",4,"ngIf"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],["for","INN"],["formControlName","INN","id","INN","type","text","pInputText","","aria-describedby","\u0418\u043d\u043d"],[1,"p-field","p-col-12","p-md-6"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","accept","image/jpeg,image/png,image/gif,application/pdf","id","All","multiple","true","hidden","",3,"change"],["for","All",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(F.Lb(0,"p-toast"),F.Qb(1,"div",0),F.Qb(2,"div",1),F.Qb(3,"div",2),F.Qb(4,"h2"),F.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430"),F.Pb(),F.Pb(),F.Qb(6,"div",3),F.Fc(7,Ci,1,0,"button",4),F.Pb(),F.Pb(),F.Qb(8,"p-messages",5),F.Xb("valueChange",function(e){return t.alertMessage=e}),F.Pb(),F.Fc(9,Di,1,1,"metib-backend-error-messages",6),F.Fc(10,xi,9,7,"ng-container",7),F.Fc(11,_i,1,4,"ng-template",null,8,F.Gc),F.Fc(13,ji,16,8,"ng-template",null,9,F.Gc),F.Pb()),2&e){var n=F.vc(12);F.zb(1),F.hc("ngClass",F.mc(7,$i,t.isUserVerified)),F.zb(6),F.hc("ngIf",t.isEdit),F.zb(1),F.hc("value",t.alertMessage)("enableService",!1),F.zb(1),F.hc("ngIf",t.errorAlert),F.zb(1),F.hc("ngIf",t.isEdit)("ngIfElse",n)}},directives:[V.a,_.l,_.n,X.a,M.b,Qi.a,K.b,K.a,ye,_.s,Fe,De,N.y,N.q,N.h,R.a,N.p,N.f,N.b,B.a,_.m],styles:[""]}),Ui),Vi=a("2Vo4"),Xi=Object(f.o)("demands"),Ki=Object(f.q)(Xi,function(e){return e.isLoading}),Wi=Object(f.q)(Xi,function(e){return e.error});Object(f.q)(Xi,function(e){return e.data}),Object(f.q)(Xi,function(e){return e.drafts});var Zi=a("SUg2"),Ji=a("4pnn");function Yi(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",10),F.Xb("click",function(){return F.yc(n),F.ac().back()}),F.Pb()}}function er(e,t){if(1&e&&(F.Lb(0,"metib-backend-error-messages",11),F.bc(1,"async")),2&e){var n=F.ac();F.hc("backendErrors",F.cc(1,1,n.backendErrors$))}}function tr(e,t){1&e&&(F.Ob(0),F.Hc(1,">"),F.Nb())}function nr(e,t){if(1&e&&(F.Qb(0,"p-tabPanel",20),F.Lb(1,"app-demand-result",21),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("result",n.currentDemand.Result)}}var ir=function(e){return{formEdit:e}};function rr(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"p-tabView",12),F.Qb(2,"p-tabPanel",13),F.Qb(3,"app-demand-info",14),F.Xb("sendMessage",function(e){return F.yc(n),F.ac().handleSendMessage(e)}),F.Pb(),F.Pb(),F.Qb(4,"p-tabPanel",15),F.Fc(5,tr,2,0,"ng-container",16),F.Pb(),F.Qb(6,"p-tabPanel",17),F.Qb(7,"app-demand-files",18),F.Xb("removeFile",function(e){return F.yc(n),F.ac().handleRemoveFile(e)}),F.Pb(),F.Pb(),F.Fc(8,nr,2,1,"p-tabPanel",19),F.Pb(),F.Nb()}if(2&e){var i=F.ac(),r=F.vc(15);F.zb(3),F.hc("currentDemandInfo",i.currentInformation),F.zb(2),F.hc("ngTemplateOutlet",r)("ngTemplateOutletContext",F.mc(5,ir,i.formEdit)),F.zb(2),F.hc("currentDemandFiles",i.currentDemand.Files),F.zb(1),F.hc("ngIf",i.isView)}}function ar(e,t){1&e&&F.Mb(0)}function or(e,t){if(1&e&&F.Fc(0,ar,1,0,"ng-container",16),2&e){var n=F.ac(),i=F.vc(15);F.hc("ngTemplateOutlet",i)("ngTemplateOutletContext",F.mc(2,ir,n.formEdit))}}function cr(e,t){1&e&&(F.Ob(0),F.Hc(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... "),F.Nb())}function sr(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",55),F.Qb(1,"button",10),F.Xb("click",function(){return F.yc(n),F.ac(3).back()}),F.Pb(),F.Pb()}}function lr(e,t){1&e&&(F.Qb(0,"small",57),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function dr(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,lr,2,0,"small",56),F.Pb()),2&e){var n=F.ac(2).formEdit;F.zb(1),F.hc("ngIf",n.controls.last.errors.required)}}function ur(e,t){1&e&&(F.Qb(0,"small",57),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function br(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ur,2,0,"small",56),F.Pb()),2&e){var n=F.ac(2).formEdit;F.zb(1),F.hc("ngIf",n.controls.first.errors.required)}}function fr(e,t){1&e&&(F.Qb(0,"small",57),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function pr(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,fr,2,0,"small",56),F.Pb()),2&e){var n=F.ac(2).formEdit;F.zb(1),F.hc("ngIf",n.controls.isMale.errors.required)}}function hr(e,t){1&e&&(F.Qb(0,"small",57),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function mr(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,hr,2,0,"small",56),F.Pb()),2&e){var n=F.ac(2).formEdit;F.zb(1),F.hc("ngIf",n.controls.phone.errors.required)}}function gr(e,t){1&e&&(F.Qb(0,"small",57),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function vr(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,gr,2,0,"small",56),F.Pb()),2&e){var n=F.ac(2).formEdit;F.zb(1),F.hc("ngIf",n.controls.email.errors.required)}}function Pr(e,t){1&e&&(F.Qb(0,"div",65),F.Qb(1,"small",57),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function yr(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"div"),F.Qb(2,"div",58),F.Qb(3,"div",59),F.Qb(4,"p"),F.Hc(5," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043a\u043e\u043f\u0438\u044e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 "),F.Pb(),F.Pb(),F.Qb(6,"div",60),F.Qb(7,"input",61),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"Passport")}),F.Pb(),F.Qb(8,"label",62),F.Lb(9,"i",63),F.Hc(10," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(11,Pr,3,0,"div",64),F.Pb(),F.Nb()}if(2&e){var i=F.ac(3);F.zb(11),F.hc("ngIf",i.isFileInvalid("Passport"))}}function kr(e,t){1&e&&(F.Qb(0,"small",57),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ir(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,kr,2,0,"small",56),F.Pb()),2&e){var n=F.ac(2).formEdit;F.zb(1),F.hc("ngIf",n.controls.number.errors.required)}}function Fr(e,t){1&e&&(F.Qb(0,"small",57),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Qr(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Fr,2,0,"small",56),F.Pb()),2&e){var n=F.ac(2).formEdit;F.zb(1),F.hc("ngIf",n.controls.date.errors.required)}}function Cr(e,t){1&e&&(F.Qb(0,"small",57),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Dr(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Cr,2,0,"small",56),F.Pb()),2&e){var n=F.ac(2).formEdit;F.zb(1),F.hc("ngIf",n.controls.issuerTitle.errors.required)}}function zr(e,t){1&e&&(F.Qb(0,"small",57),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Sr(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,zr,2,0,"small",56),F.Pb()),2&e){var n=F.ac(2).formEdit;F.zb(1),F.hc("ngIf",n.controls.issuerCode.errors.required)}}function wr(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",70),F.Qb(1,"div",59),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",60),F.Qb(5,"div",71),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function xr(e,t){if(1&e&&(F.Ob(0),F.Fc(1,wr,7,1,"div",69),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Passport"===n.Identifier)}}function Or(e,t){if(1&e&&(F.Qb(0,"div",67),F.Qb(1,"h2"),F.Hc(2,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b"),F.Pb(),F.Fc(3,xr,2,1,"ng-container",68),F.Pb()),2&e){var n=F.ac(4);F.zb(3),F.hc("ngForOf",n.files)}}function _r(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Or,4,1,"div",66),F.Nb()),2&e){var n=F.ac(3);F.zb(1),F.hc("ngIf",n.files.length)}}function Er(e,t){if(1&e){var n=F.Rb();F.Qb(0,"form",23),F.Xb("ngSubmit",function(){return F.yc(n),F.ac(2).onSubmit()}),F.Fc(1,sr,2,0,"div",24),F.Qb(2,"div",25),F.Qb(3,"div",26),F.Qb(4,"label",27),F.Hc(5,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),F.Pb(),F.Lb(6,"input",28),F.Fc(7,dr,2,1,"div",29),F.Pb(),F.Qb(8,"div",26),F.Qb(9,"label",30),F.Hc(10,"\u0418\u043c\u044f"),F.Pb(),F.Lb(11,"input",31),F.Fc(12,br,2,1,"div",29),F.Pb(),F.Qb(13,"div",26),F.Qb(14,"label",32),F.Hc(15,"\u041f\u043e\u043b"),F.Pb(),F.Lb(16,"p-dropdown",33),F.Fc(17,pr,2,1,"div",29),F.Pb(),F.Qb(18,"div",34),F.Qb(19,"label",35),F.Hc(20,"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),F.Pb(),F.Lb(21,"p-inputMask",36),F.Fc(22,mr,2,1,"div",29),F.Pb(),F.Qb(23,"div",34),F.Qb(24,"label",37),F.Hc(25,"E-mail"),F.Pb(),F.Lb(26,"input",38),F.Fc(27,vr,2,1,"div",29),F.Pb(),F.Pb(),F.Qb(28,"div",25),F.Qb(29,"div",39),F.Qb(30,"div",40),F.Qb(31,"div",41),F.Qb(32,"h1"),F.Hc(33,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"),F.Pb(),F.Qb(34,"p",42),F.Hc(35,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),F.Pb(),F.Pb(),F.Fc(36,yr,12,1,"ng-container",29),F.Pb(),F.Pb(),F.Qb(37,"div",43),F.Qb(38,"label",44),F.Hc(39,"\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442"),F.Pb(),F.Lb(40,"p-inputMask",45),F.Fc(41,Ir,2,1,"div",29),F.Pb(),F.Qb(42,"div",43),F.Qb(43,"label",46),F.Hc(44,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),F.Pb(),F.Lb(45,"input",47),F.Fc(46,Qr,2,1,"div",29),F.Pb(),F.Qb(47,"div",43),F.Qb(48,"label",48),F.Hc(49,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d"),F.Pb(),F.Lb(50,"input",49),F.Fc(51,Dr,2,1,"div",29),F.Pb(),F.Qb(52,"div",43),F.Qb(53,"label",50),F.Hc(54,"\u041a\u043e\u0434 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(55,"p-inputMask",51),F.Fc(56,Sr,2,1,"div",29),F.Pb(),F.Fc(57,_r,2,1,"ng-container",29),F.Qb(58,"div",52),F.Qb(59,"label",53),F.Hc(60,"\xa0"),F.Pb(),F.Lb(61,"button",54),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().formEdit,r=F.ac();F.hc("formGroup",i),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(6),F.hc("ngIf",i.controls.last.invalid),F.zb(5),F.hc("ngIf",i.controls.first.invalid),F.zb(4),F.hc("options",r.genderTypes),F.zb(1),F.hc("ngIf",i.controls.isMale.invalid),F.zb(5),F.hc("ngIf",i.controls.phone.invalid),F.zb(5),F.hc("ngIf",i.controls.email.invalid),F.zb(9),F.hc("ngIf",!r.isEdit),F.zb(5),F.hc("ngIf",i.controls.number.invalid),F.zb(5),F.hc("ngIf",i.controls.date.invalid),F.zb(5),F.hc("ngIf",i.controls.issuerTitle.invalid),F.zb(5),F.hc("ngIf",i.controls.issuerCode.invalid),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(4),F.hc("disabled",i.invalid||r.isRequestLoading||r.isFilesInvalid())}}function Ar(e,t){if(1&e&&(F.Fc(0,cr,2,0,"ng-container",7),F.Fc(1,Er,62,15,"ng-template",null,22,F.Gc)),2&e){var n=F.vc(2),i=F.ac();F.hc("ngIf",i.isLoading)("ngIfElse",n)}}var Nr,Tr=function(e){return{"card-content":e}},Lr=((Nr=function(){function e(t,n,i,a,o,c,s,l,d,u,b){r(this,e),this.authService=t,this.commonService=n,this.messageService=i,this.fb=a,this.demandService=o,this.store=c,this.route=s,this.router=l,this.fileService=d,this.cryptoService=u,this.cookieService=b,this.isEdit=!1,this.currentDraftId=0,this.alertMessage=[],this.alertMessage$=new Vi.a(null),this.isLoading=!1,this.isRequestLoading=!1,this.avatarSource="/assets/images/mib_ava.png",this.files=[],this.genderTypes=[{title:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",value:!1},{title:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",value:!0}],this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.initValues(),this.subscription$.add(this.route.queryParams.subscribe(function(t){e.isView="true"===t.View,t.ID&&"false"===t.Edit?e.fetch(t.ID):e.getDraft()})),this._saveDraftAction$=setInterval(function(){return e.saveDraft()},3e4)}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}},{key:"onSubmit",value:function(){var e=this,t={Data:this.prepareData(),DraftID:this.currentDraftId};this.subscription$.add(this.demandService.add(t).subscribe(function(t){e.alert=!0,window.scroll(0,0),e.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}},{key:"handleSendMessage",value:function(e){var t=this;this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(function(e){t.fetch(t.currentDemand.ID)}))}},{key:"handleRemoveFile",value:function(e){this.currentDemand.Files=this.currentDemand.Files.filter(function(t){return t!==e})}},{key:"isFilesInvalid",value:function(){var e=this.files.map(function(e){return e.Identifier});return e.length<1||!e.includes("Passport")}},{key:"getDraft",value:function(){var e=this;this.isLoading=!0,this.subscription$.add(this.demandService.prepareDemandByType("ProfileChange").subscribe(function(t){e.isLoading=!1,e.convertToFormData(t)}))}},{key:"fetch",value:function(e){var t=this;this.isLoading=!0,this.subscription$.add(this.demandService.getDemandById(e).subscribe(function(e){t.currentDemand=e,t.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(t.currentDemand),t.isEdit=!0,t.isLoading=!1,t.convertToFormData()}))}},{key:"convertToFormData",value:function(e){var t,n,i,r,a,o,c,s,l,d,u,b,f,p,h,m,g,v,P,y,k,I,F;F=e||this.currentDemand.Data,this.formEdit.patchValue({last:(null===(n=null===(t=F.Profile)||void 0===t?void 0:t.Name)||void 0===n?void 0:n.Last)?null===(r=null===(i=F.Profile)||void 0===i?void 0:i.Name)||void 0===r?void 0:r.Last:"",first:(null===(o=null===(a=F.Profile)||void 0===a?void 0:a.Name)||void 0===o?void 0:o.First)?null===(s=null===(c=F.Profile)||void 0===c?void 0:c.Name)||void 0===s?void 0:s.First:"",isMale:(null===(l=F.Profile)||void 0===l?void 0:l.IsMale)?null===(d=F.Profile)||void 0===d?void 0:d.IsMale:"",phone:(null===(u=F.Profile)||void 0===u?void 0:u.Phone)?null===(b=F.Profile)||void 0===b?void 0:b.Phone:"",email:(null===(f=F.Profile)||void 0===f?void 0:f.Email)?null===(p=F.Profile)||void 0===p?void 0:p.Email:"",number:(null===(h=F.Passport)||void 0===h?void 0:h.Number)?null===(m=F.Passport)||void 0===m?void 0:m.Number:"",date:(null===(g=F.Passport)||void 0===g?void 0:g.Date)?Object(_.x)(null===(v=F.Passport)||void 0===v?void 0:v.Date,"yyyy-MM-dd","en"):"",issuerTitle:(null===(P=F.Passport)||void 0===P?void 0:P.IssuerTitle)?null===(y=F.Passport)||void 0===y?void 0:y.IssuerTitle:"",issuerCode:(null===(k=F.Passport)||void 0===k?void 0:k.IssuerCode)?null===(I=F.Passport)||void 0===I?void 0:I.IssuerCode:""}),this.avatarCode=null==F?void 0:F.Avatar,this.avatarCode&&(this.avatarSource="".concat(Q.a.apiUrl,"avatar/").concat(this.avatarCode))}},{key:"removeFile",value:function(e){this.files.splice(this.files.indexOf(this.files.find(function(t){return t===e})),1)}},{key:"isFileInvalid",value:function(e){return!this.files.map(function(e){return e.Identifier}).includes(e)}},{key:"saveDraft",value:function(){var e=this,t=this.prepareData();this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,t).subscribe(function(t){e.currentDraftId=t.ID,e.showSuccess()}))}},{key:"prepareData",value:function(){return{Avatar:this.avatarCode,Passport:{Date:this.formEdit.value.date,Expire:null,IsForeign:!1,IssuerCode:this.formEdit.value.issuerCode,IssuerTitle:this.formEdit.value.issuerTitle,Nationality:"RUS",Number:this.formEdit.value.number},PassportFileCode:"",Profile:{Email:this.formEdit.value.email,IsMale:this.formEdit.value.isMale,Name:{First:this.formEdit.value.first,Last:this.formEdit.value.last},Phone:this.formEdit.value.phone},Files:this.files,UserID:this.currentUserId,Type:"ProfileChange"}}},{key:"initForm",value:function(){this.formEdit=this.fb.group({last:["",[N.x.required]],first:["",[N.x.required]],isMale:[!1,[N.x.required]],phone:["",[N.x.required]],email:["",[N.x.required]],number:["",[N.x.required]],date:["",[N.x.required]],issuerTitle:["",[N.x.required]],issuerCode:["",[N.x.required]]}),this.formEdit.markAllAsTouched(),this.formEdit.markAsDirty()}},{key:"initValues",value:function(){this.backendErrors$=this.store.pipe(Object(f.t)(Wi));var e=this.cookieService.get("_cu"),t=this.cryptoService.decrypt(e),n=JSON.parse(t);this.currentUserId=n.UserID}},{key:"onSelect",value:function(e,n){var i,r=this,a=t(e.target.files);try{var o=function(){var e=i.value,t=E.a.newGuid();r.subscription$.add("Avatar"===n?r.fileService.uploadAvatar(e,e.name).subscribe(function(e){r.avatarCode=e,r.avatarSource="".concat(Q.a.apiUrl,"avatar/").concat(e)},function(e){return console.log(e)}):r.commonService.getBase64(e).pipe(Object(P.a)(function(n){return r.fileService.uploadFileChunks(n,e.name,e.size.toString(),t)})).subscribe(function(e){r.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:n})},function(e){return console.log(e)}))};for(a.s();!(i=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}}},{key:"showSuccess",value:function(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}]),e}()).\u0275fac=function(e){return new(e||Nr)(F.Kb(j.a),F.Kb($.a),F.Kb(U.g),F.Kb(N.d),F.Kb(D),F.Kb(f.h),F.Kb(S.a),F.Kb(S.f),F.Kb(G.a),F.Kb(Zi.a),F.Kb(Ji.b))},Nr.\u0275cmp=F.Eb({type:Nr,selectors:[["app-demand-action-edit-profile-page"]],decls:16,vars:11,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],["contentTemplate",""],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-6","p-lg-4"],["for","last"],["id","last","type","text","pInputText","","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f","formControlName","last"],[4,"ngIf"],["for","first"],["id","first","type","text","pInputText","","placeholder","\u0418\u043c\u044f","formControlName","first"],["for","isMale"],["id","isMale","formControlName","isMale","optionLabel","title","optionValue","value",3,"options"],[1,"p-field","p-col-12","p-md-6","p-lg-6"],["for","phone"],["id","phone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","phone","mask","+7-999-999-99-99"],["for","email"],["id","email","type","email","pInputText","","placeholder","E-mail","formControlName","email"],[1,"p-col-12"],[1,"d-flex","passport-confirm"],[1,"passport-owner"],[1,"description"],[1,"p-field","p-col-12","p-md-6","p-lg-3"],["for","number"],["id","phone","type","text","placeholder","\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442","formControlName","number","mask","99 99 999999"],["for","date"],["id","date","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438","formControlName","date"],["for","issuerTitle"],["id","issuerTitle","type","text","pInputText","","placeholder","\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d","formControlName","issuerTitle"],["for","issuerCode"],["id","issuerCode","type","text","placeholder","\u041a\u043e\u0434 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","formControlName","issuerCode","mask","999-999"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Passport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Passport",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],[1,"mib-uploader__error"],["style","width: 100%;",4,"ngIf"],[2,"width","100%"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(F.Lb(0,"p-toast"),F.Qb(1,"div",0),F.Qb(2,"div",1),F.Qb(3,"div",2),F.Qb(4,"h2"),F.Hc(5,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u043e\u0444\u0438\u043b\u044f"),F.Pb(),F.Pb(),F.Qb(6,"div",3),F.Fc(7,Yi,1,0,"button",4),F.Pb(),F.Pb(),F.Qb(8,"p-messages",5),F.Xb("valueChange",function(e){return t.alertMessage=e}),F.Pb(),F.Fc(9,er,2,3,"metib-backend-error-messages",6),F.bc(10,"async"),F.Fc(11,rr,9,7,"ng-container",7),F.Fc(12,or,1,4,"ng-template",null,8,F.Gc),F.Fc(14,Ar,3,2,"ng-template",null,9,F.Gc),F.Pb()),2&e){var n=F.vc(13);F.zb(1),F.hc("ngClass",F.mc(9,Tr,t.isUserVerified)),F.zb(6),F.hc("ngIf",t.isEdit),F.zb(1),F.hc("value",t.alertMessage)("enableService",!1),F.zb(1),F.hc("ngIf",F.cc(10,7,t.backendErrors$)),F.zb(2),F.hc("ngIf",t.isEdit)("ngIfElse",n)}},directives:[V.a,_.l,_.n,X.a,M.b,Qi.a,K.b,K.a,ye,_.s,Fe,De,N.y,N.q,N.h,N.b,B.a,N.p,N.f,R.a,ze.a,_.m],pipes:[_.b],styles:[".description[_ngcontent-%COMP%]{font-family:Ubuntu;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#989898}.small[_ngcontent-%COMP%]{padding:5px!important;width:100px!important}[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}.passport-confirm[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;margin-bottom:20px}.btn-attention[_ngcontent-%COMP%]{max-width:280px;font-size:14px;padding:15px 0!important}.passport-owner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0!important}.passport-owner[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:10px!important}.avatar[_ngcontent-%COMP%]{background:#0c83f1;border-radius:10px;width:150px;height:150px;display:flex;flex-flow:row wrap;justify-content:center;align-items:center;margin-right:20px;margin-bottom:12px}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.medium[_ngcontent-%COMP%]{max-width:150px;padding:15px 20px!important;font-size:14px}"]}),Nr),Hr=a("Ji6n");function Br(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",9),F.Xb("click",function(){return F.yc(n),F.ac().back()}),F.Pb()}}function Rr(e,t){1&e&&(F.Ob(0),F.Hc(1,">"),F.Nb())}function Mr(e,t){if(1&e&&(F.Qb(0,"p-tabPanel",18),F.Lb(1,"app-demand-result",19),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("result",n.currentDemand.Result)}}var qr=function(e){return{formEDS:e}};function jr(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"p-tabView",10),F.Qb(2,"p-tabPanel",11),F.Qb(3,"app-demand-info",12),F.Xb("sendMessage",function(e){return F.yc(n),F.ac().handleSendMessage(e)}),F.Pb(),F.Pb(),F.Qb(4,"p-tabPanel",13),F.Fc(5,Rr,2,0,"ng-container",14),F.Pb(),F.Qb(6,"p-tabPanel",15),F.Qb(7,"app-demand-files",16),F.Xb("removeFile",function(e){return F.yc(n),F.ac().handleRemoveFile(e)}),F.Pb(),F.Pb(),F.Fc(8,Mr,2,1,"p-tabPanel",17),F.Pb(),F.Nb()}if(2&e){var i=F.ac(),r=F.vc(13);F.zb(3),F.hc("currentDemandInfo",i.currentInformation),F.zb(2),F.hc("ngTemplateOutlet",r)("ngTemplateOutletContext",F.mc(5,qr,i.formEDS)),F.zb(2),F.hc("currentDemandFiles",i.currentDemand.Files),F.zb(1),F.hc("ngIf",i.isView)}}function Ur(e,t){1&e&&F.Mb(0)}function $r(e,t){if(1&e&&F.Fc(0,Ur,1,0,"ng-container",14),2&e){var n=F.ac(),i=F.vc(13);F.hc("ngTemplateOutlet",i)("ngTemplateOutletContext",F.mc(2,qr,n.formEDS))}}function Gr(e,t){1&e&&(F.Ob(0),F.Hc(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... "),F.Nb())}function Vr(e,t){if(1&e&&(F.Qb(0,"div",104),F.Qb(1,"label",105),F.Hc(2,"\u041f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430"),F.Pb(),F.Lb(3,"p-dropdown",106),F.Pb()),2&e){var n=F.ac(3);F.zb(3),F.hc("options",n.ruleTypes)}}function Xr(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Kr(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0418\u041d\u041d (10 \u0438\u043b\u0438 12 \u0446\u0438\u0444\u0440). "),F.Pb())}function Wr(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Xr,2,0,"small",107),F.Fc(2,Kr,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.organizationINN.errors.required),F.zb(1),F.hc("ngIf",n.controls.organizationINN.errors.minlength)}}function Zr(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Jr(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Zr,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.organizationKPP.errors.required)}}function Yr(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ea(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Yr,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.organizationOGRN.errors.required)}}function ta(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function na(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ta,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.organizationOKPO.errors.required)}}function ia(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ra(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ia,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.organizationPhone.errors.required)}}function aa(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function oa(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443. "),F.Pb())}function ca(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,aa,2,0,"small",107),F.Fc(2,oa,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.organizationEmail.errors.required),F.zb(1),F.hc("ngIf",n.controls.organizationEmail.errors.email)}}function sa(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function la(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,sa,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.organizationWEB.errors.required)}}function da(e,t){1&e&&(F.Qb(0,"div",117),F.Qb(1,"small",85),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function ua(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",120),F.Qb(1,"div",109),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",110),F.Qb(5,"div",121),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function ba(e,t){if(1&e&&(F.Ob(0),F.Fc(1,ua,7,1,"div",119),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Inn"===n.Identifier)}}function fa(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ba,2,1,"ng-container",118),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function pa(e,t){1&e&&(F.Qb(0,"div",117),F.Qb(1,"small",85),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function ha(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",120),F.Qb(1,"div",109),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",110),F.Qb(5,"div",121),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function ma(e,t){if(1&e&&(F.Ob(0),F.Fc(1,ha,7,1,"div",119),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Ogrn"===n.Identifier)}}function ga(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ma,2,1,"ng-container",118),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function va(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"div",45),F.Qb(2,"label"),F.Hc(3," \u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b "),F.Pb(),F.Qb(4,"div",108),F.Qb(5,"div",109),F.Qb(6,"p"),F.Hc(7," \u0421\u043a\u0430\u043d-\u041a\u043e\u043f\u0438\u044f \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0418\u041d\u041d \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 "),F.Pb(),F.Pb(),F.Qb(8,"div",110),F.Qb(9,"input",111),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"Inn")}),F.Pb(),F.Qb(10,"label",112),F.Lb(11,"i",113),F.Hc(12," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(13,da,3,0,"div",114),F.Fc(14,fa,2,1,"div",34),F.Pb(),F.Qb(15,"div",45),F.Qb(16,"label"),F.Hc(17," \xa0 "),F.Pb(),F.Qb(18,"div",108),F.Qb(19,"div",109),F.Qb(20,"p"),F.Hc(21," \u0421\u043a\u0430\u043d-\u041a\u043e\u043f\u0438\u044f \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u041e\u0413\u0420\u041d \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 "),F.Pb(),F.Pb(),F.Qb(22,"div",110),F.Qb(23,"input",115),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"Ogrn")}),F.Pb(),F.Qb(24,"label",116),F.Lb(25,"i",113),F.Hc(26," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(27,pa,3,0,"div",114),F.Fc(28,ga,2,1,"div",34),F.Pb(),F.Nb()}if(2&e){var i=F.ac(3);F.zb(13),F.hc("ngIf",i.isFileInvalid("Inn")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(13),F.hc("ngIf",i.isFileInvalid("Ogrn")),F.zb(1),F.hc("ngIf",i.files.length)}}function Pa(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ya(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Pa,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.ownerSurname.errors.required)}}function ka(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ia(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ka,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.ownerName.errors.required)}}function Fa(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Qa(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Fa,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.ownerMiddlename.errors.required)}}function Ca(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Da(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ca,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.ownerEmail.errors.required)}}function za(e,t){1&e&&(F.Qb(0,"div",117),F.Qb(1,"small",85),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Sa(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",120),F.Qb(1,"div",109),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",110),F.Qb(5,"div",121),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function wa(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Sa,7,1,"div",119),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Snils"===n.Identifier)}}function xa(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,wa,2,1,"ng-container",118),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function Oa(e,t){1&e&&(F.Qb(0,"div",117),F.Qb(1,"small",85),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function _a(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",120),F.Qb(1,"div",109),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",110),F.Qb(5,"div",121),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Ea(e,t){if(1&e&&(F.Ob(0),F.Fc(1,_a,7,1,"div",119),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Director"===n.Identifier)}}function Aa(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ea,2,1,"ng-container",118),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function Na(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"div",45),F.Qb(2,"label"),F.Hc(3," \u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b "),F.Pb(),F.Qb(4,"div",108),F.Qb(5,"div",109),F.Qb(6,"p"),F.Hc(7," \u0421\u043a\u0430\u043d-\u041a\u043e\u043f\u0438\u044f \u0421\u041d\u0418\u041b\u0421 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043a\u043b\u044e\u0447\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 "),F.Pb(),F.Pb(),F.Qb(8,"div",110),F.Qb(9,"input",122),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"Snils")}),F.Pb(),F.Qb(10,"label",123),F.Lb(11,"i",113),F.Hc(12," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(13,za,3,0,"div",114),F.Fc(14,xa,2,1,"div",34),F.Pb(),F.Qb(15,"div",45),F.Qb(16,"label"),F.Hc(17," \xa0 "),F.Pb(),F.Qb(18,"div",108),F.Qb(19,"div",109),F.Qb(20,"p"),F.Hc(21," \u0421\u043a\u0430\u043d-\u041a\u043e\u043f\u0438\u044f \u043f\u0440\u0438\u043a\u0430\u0437\u0430 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0413\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),F.Pb(),F.Pb(),F.Qb(22,"div",110),F.Qb(23,"input",124),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"Director")}),F.Pb(),F.Qb(24,"label",125),F.Lb(25,"i",113),F.Hc(26," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(27,Oa,3,0,"div",114),F.Fc(28,Aa,2,1,"div",34),F.Pb(),F.Nb()}if(2&e){var i=F.ac(3);F.zb(13),F.hc("ngIf",i.isFileInvalid("Snils")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(13),F.hc("ngIf",i.isFileInvalid("Director")),F.zb(1),F.hc("ngIf",i.files.length)}}function Ta(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",82),F.Qb(1,"label",126),F.Hc(2,"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0426\u0435\u043d\u0442\u0440 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"),F.Pb(),F.Qb(3,"p-dropdown",127),F.Xb("onChange",function(e){return F.yc(n),F.ac(3).setIDCenter(e)}),F.Pb(),F.Qb(4,"div"),F.Qb(5,"small",85),F.Hc(6," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0426\u0435\u043d\u0442\u0440 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac(3);F.zb(3),F.hc("options",i.idCenterList)}}function La(e,t){if(1&e&&(F.Qb(0,"div",82),F.Qb(1,"p"),F.Hc(2),F.Lb(3,"br"),F.Hc(4),F.Lb(5,"br"),F.Hc(6),F.Lb(7,"br"),F.Hc(8),F.Lb(9,"br"),F.Pb(),F.Pb()),2&e){var n=F.ac(3);F.zb(2),F.Jc(" ",n.selectedIdCenter.name," "),F.zb(2),F.Jc(" \u0410\u0434\u0440\u0435\u0441: ",n.selectedIdCenter.address," "),F.zb(2),F.Jc(" \u0420\u0435\u0436\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u044b: ",n.selectedIdCenter.schedule," "),F.zb(2),F.Kc(" \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",n.selectedIdCenter.email," ",n.selectedIdCenter.phone," ")}}function Ha(e,t){1&e&&(F.Qb(0,"div",117),F.Qb(1,"small",85),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Ba(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",120),F.Qb(1,"div",109),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",110),F.Qb(5,"div",121),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(5).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Ra(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Ba,7,1,"div",119),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Passport"===n.Identifier)}}function Ma(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ra,2,1,"ng-container",118),F.Pb()),2&e){var n=F.ac(4);F.zb(1),F.hc("ngForOf",n.files)}}function qa(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"div"),F.Qb(2,"div",108),F.Qb(3,"div",109),F.Qb(4,"p"),F.Hc(5," \u0421\u043a\u0430\u043d-\u043a\u043e\u043f\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043a\u043b\u044e\u0447\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 "),F.Pb(),F.Pb(),F.Qb(6,"div",110),F.Qb(7,"input",128),F.Xb("change",function(e){return F.yc(n),F.ac(3).onSelect(e,"Passport")}),F.Pb(),F.Qb(8,"label",129),F.Lb(9,"i",113),F.Hc(10," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(11,Ha,3,0,"div",114),F.Pb(),F.Fc(12,Ma,2,1,"div",34),F.Nb()}if(2&e){var i=F.ac(3);F.zb(11),F.hc("ngIf",i.isFileInvalid("Passport")),F.zb(1),F.hc("ngIf",i.files.length)}}function ja(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ua(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ja,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.passportNumber.errors.required)}}function $a(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ga(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,$a,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.passportDate.errors.required)}}function Va(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Xa(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Va,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.passportFrom.errors.required)}}function Ka(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Wa(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ka,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.passportCode.errors.required)}}function Za(e,t){1&e&&(F.Qb(0,"small",85),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ja(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Za,2,0,"small",107),F.Pb()),2&e){var n=F.ac(2).formEDS;F.zb(1),F.hc("ngIf",n.controls.passportNationality.errors.required)}}function Ya(e,t){if(1&e){var n=F.Rb();F.Qb(0,"form",21),F.Xb("ngSubmit",function(){return F.yc(n),F.ac(2).onSubmit()}),F.Qb(1,"div",22),F.Qb(2,"button",9),F.Xb("click",function(){return F.yc(n),F.ac(2).back()}),F.Pb(),F.Pb(),F.Qb(3,"div",23),F.Qb(4,"div",24),F.Qb(5,"label",25),F.Hc(6,"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),F.Pb(),F.Lb(7,"p-dropdown",26),F.Pb(),F.Fc(8,Vr,4,1,"div",27),F.Pb(),F.Qb(9,"div",23),F.Qb(10,"div",24),F.Qb(11,"label",28),F.Hc(12,"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),F.Pb(),F.Lb(13,"input",29),F.Pb(),F.Qb(14,"div",24),F.Qb(15,"label",30),F.Hc(16,"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),F.Pb(),F.Lb(17,"input",31),F.Pb(),F.Qb(18,"div",24),F.Qb(19,"label",32),F.Hc(20,"\u0418\u041d\u041d"),F.Pb(),F.Lb(21,"input",33),F.Fc(22,Wr,3,2,"div",34),F.Pb(),F.Qb(23,"div",24),F.Qb(24,"label",35),F.Hc(25,"\u041a\u041f\u041f"),F.Pb(),F.Lb(26,"input",36),F.Fc(27,Jr,2,1,"div",34),F.Pb(),F.Qb(28,"div",24),F.Qb(29,"label",37),F.Hc(30,"\u041e\u0413\u0420\u041d"),F.Pb(),F.Lb(31,"input",38),F.Fc(32,ea,2,1,"div",34),F.Pb(),F.Qb(33,"div",24),F.Qb(34,"label",39),F.Hc(35,"\u041e\u041a\u041f\u041e"),F.Pb(),F.Lb(36,"input",40),F.Fc(37,na,2,1,"div",34),F.Pb(),F.Qb(38,"div",24),F.Qb(39,"label",41),F.Hc(40,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),F.Pb(),F.Lb(41,"p-inputMask",42),F.Fc(42,ra,2,1,"div",34),F.Pb(),F.Qb(43,"div",24),F.Qb(44,"label",43),F.Hc(45,"E-mail"),F.Pb(),F.Lb(46,"input",44),F.Fc(47,ca,3,2,"div",34),F.Pb(),F.Qb(48,"div",45),F.Qb(49,"label",46),F.Hc(50,"\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430"),F.Pb(),F.Lb(51,"input",47),F.Fc(52,la,2,1,"div",34),F.Pb(),F.Qb(53,"div",45),F.Qb(54,"label",48),F.Hc(55,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),F.Pb(),F.Qb(56,"div",49),F.Lb(57,"input",50),F.Qb(58,"button",51),F.Xb("click",function(){return F.yc(n),F.ac(2).openAddressForm("organizationLegalAddress")}),F.Pb(),F.Pb(),F.Qb(59,"div",52),F.Qb(60,"p-checkbox",53),F.Xb("onChange",function(){return F.yc(n),F.ac(2).isAddressEqual("organizationLegalAddress")}),F.Pb(),F.Qb(61,"label",54),F.Hc(62," \u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u043c"),F.Pb(),F.Pb(),F.Pb(),F.Qb(63,"div",45),F.Qb(64,"label",55),F.Hc(65,"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),F.Pb(),F.Qb(66,"div",56),F.Lb(67,"input",57),F.Qb(68,"button",51),F.Xb("click",function(){return F.yc(n),F.ac(2).openAddressForm("organizationActualAddress")}),F.Pb(),F.Pb(),F.Qb(69,"div",52),F.Qb(70,"p-checkbox",58),F.Xb("onChange",function(){return F.yc(n),F.ac(2).isAddressEqual("organizationActualAddress")}),F.Pb(),F.Qb(71,"label",59),F.Hc(72,"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u043c"),F.Pb(),F.Pb(),F.Pb(),F.Fc(73,va,29,4,"ng-container",34),F.Qb(74,"div",60),F.Qb(75,"h1"),F.Hc(76," \u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 "),F.Pb(),F.Qb(77,"p",61),F.Hc(78,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0437\u0434\u0430\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043b\u0438\u0447\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430!"),F.Pb(),F.Pb(),F.Qb(79,"div",24),F.Qb(80,"label",62),F.Hc(81,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),F.Pb(),F.Lb(82,"input",63),F.Fc(83,ya,2,1,"div",34),F.Pb(),F.Qb(84,"div",24),F.Qb(85,"label",64),F.Hc(86,"\u0418\u043c\u044f"),F.Pb(),F.Lb(87,"input",65),F.Fc(88,Ia,2,1,"div",34),F.Pb(),F.Qb(89,"div",24),F.Qb(90,"label",66),F.Hc(91,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),F.Pb(),F.Lb(92,"input",67),F.Fc(93,Qa,2,1,"div",34),F.Pb(),F.Qb(94,"div",24),F.Qb(95,"label",68),F.Hc(96,"\u041f\u043e\u043b"),F.Pb(),F.Lb(97,"p-dropdown",69),F.Pb(),F.Qb(98,"div",24),F.Qb(99,"label",70),F.Hc(100,"\u0421\u041d\u0418\u041b\u0421"),F.Pb(),F.Lb(101,"input",71),F.Pb(),F.Qb(102,"div",24),F.Qb(103,"label",72),F.Hc(104,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(105,"input",73),F.Pb(),F.Qb(106,"div",24),F.Qb(107,"label",74),F.Hc(108,"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(109,"input",75),F.Pb(),F.Qb(110,"div",24),F.Qb(111,"label",76),F.Hc(112,"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),F.Pb(),F.Lb(113,"input",77),F.Pb(),F.Qb(114,"div",45),F.Qb(115,"label",78),F.Hc(116,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),F.Pb(),F.Lb(117,"p-dropdown",79),F.Pb(),F.Qb(118,"div",45),F.Qb(119,"label",80),F.Hc(120,"E-mail"),F.Pb(),F.Lb(121,"input",81),F.Fc(122,Da,2,1,"div",34),F.Pb(),F.Pb(),F.Qb(123,"div",23),F.Fc(124,Na,29,4,"ng-container",34),F.Pb(),F.Qb(125,"div",23),F.Qb(126,"div",82),F.Qb(127,"label",83),F.Hc(128,"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0433\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),F.Pb(),F.Qb(129,"p-dropdown",84),F.Xb("onChange",function(e){return F.yc(n),F.ac(2).selectGeoPosition(e)}),F.Pb(),F.Qb(130,"div"),F.Qb(131,"small",85),F.Hc(132," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0412\u0430\u0448\u0435 \u0433\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0445 \u0426\u0435\u043d\u0442\u0440\u043e\u0432 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 "),F.Pb(),F.Pb(),F.Pb(),F.Fc(133,Ta,7,1,"div",86),F.Fc(134,La,10,5,"div",86),F.Qb(135,"div",60),F.Qb(136,"div",87),F.Qb(137,"div",88),F.Qb(138,"h1"),F.Hc(139,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"),F.Pb(),F.Qb(140,"p",61),F.Hc(141,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),F.Pb(),F.Pb(),F.Fc(142,qa,13,2,"ng-container",34),F.Pb(),F.Pb(),F.Qb(143,"div",24),F.Qb(144,"label",89),F.Hc(145,"\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442"),F.Pb(),F.Lb(146,"input",90),F.Fc(147,Ua,2,1,"div",34),F.Pb(),F.Qb(148,"div",24),F.Qb(149,"label",91),F.Hc(150,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),F.Pb(),F.Lb(151,"input",92),F.Fc(152,Ga,2,1,"div",34),F.Pb(),F.Qb(153,"div",24),F.Qb(154,"label",93),F.Hc(155,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d"),F.Pb(),F.Lb(156,"input",94),F.Fc(157,Xa,2,1,"div",34),F.Pb(),F.Qb(158,"div",24),F.Qb(159,"label",95),F.Hc(160,"\u041a\u043e\u0434 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(161,"input",96),F.Fc(162,Wa,2,1,"div",34),F.Pb(),F.Qb(163,"div",24),F.Qb(164,"label",97),F.Hc(165,"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e"),F.Pb(),F.Lb(166,"p-dropdown",98),F.Fc(167,Ja,2,1,"div",34),F.Pb(),F.Qb(168,"div",60),F.Qb(169,"h1"),F.Hc(170,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"),F.Pb(),F.Pb(),F.Qb(171,"div",99),F.Qb(172,"p"),F.Hc(173,"1. \u041f\u0435\u0440\u0435\u0434 \u0442\u0435\u043c \u043a\u0430\u043a \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f, \u0441\u043a\u0430\u0447\u0430\u0439\u0442\u0435 \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u0432\u044b\u0434\u0430\u0447\u0443 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 \u0438 \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0439\u0442\u0435 \u0435\u0451 \u043d\u0430 \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0435. \u041e\u043d\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0412\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u0432\u0435\u0440\u043a\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430!"),F.Pb(),F.Qb(174,"button",100),F.Xb("click",function(){return F.yc(n),F.ac(2).getDigitalSignatureRequest()}),F.Pb(),F.Pb(),F.Qb(175,"p"),F.Hc(176,"2. \u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u042d\u0426\u041f, \u0434\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f \u043e\u0442 \u041a\u0430\u043b\u0443\u0433\u0438-\u0410\u0441\u0442\u0440\u0430\u043b (\u043f\u043e e-mail) \u0432 "),F.Qb(177,"a",101),F.Hc(178," \u043e\u0434\u0438\u043d \u0438\u0437 \u0446\u0435\u043d\u0442\u0440\u043e\u0432 \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432"),F.Pb(),F.Hc(179," \u0434\u043b\u044f \u0441\u0432\u0435\u0440\u043a\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"),F.Pb(),F.Qb(180,"p"),F.Hc(181,'\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c \u0412\u0430\u0448\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 \u043f\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0443 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u0417\u0430\u043f\u0440\u043e\u0441\u044b"'),F.Pb(),F.Qb(182,"div",82),F.Qb(183,"label",102),F.Hc(184,"\xa0"),F.Pb(),F.Lb(185,"button",103),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().formEDS,r=F.ac();F.hc("formGroup",i),F.zb(7),F.hc("options",r.organizationTypes),F.zb(1),F.hc("ngIf",1===i.value.organizationType),F.zb(14),F.hc("ngIf",i.controls.organizationINN.invalid),F.zb(5),F.hc("ngIf",i.controls.organizationKPP.invalid),F.zb(5),F.hc("ngIf",i.controls.organizationOGRN.invalid),F.zb(5),F.hc("ngIf",i.controls.organizationOKPO.invalid),F.zb(5),F.hc("ngIf",i.controls.organizationPhone.invalid),F.zb(5),F.hc("ngIf",i.controls.organizationEmail.invalid),F.zb(5),F.hc("ngIf",i.controls.organizationWEB.invalid),F.zb(21),F.hc("ngIf",!r.isEdit),F.zb(10),F.hc("ngIf",i.controls.ownerSurname.invalid),F.zb(5),F.hc("ngIf",i.controls.ownerName.invalid),F.zb(5),F.hc("ngIf",i.controls.ownerMiddlename.invalid),F.zb(4),F.hc("disabled",!0)("options",r.genderTypes),F.zb(20),F.hc("options",r.postList),F.zb(5),F.hc("ngIf",i.controls.ownerEmail.invalid),F.zb(2),F.hc("ngIf",!r.isEdit),F.zb(5),F.hc("options",r.regionList),F.zb(4),F.hc("ngIf",i.value.ownerGeoPosition),F.zb(1),F.hc("ngIf",i.value.ownerIdCenter),F.zb(8),F.hc("ngIf",!r.isEdit),F.zb(5),F.hc("ngIf",i.controls.passportNumber.invalid),F.zb(5),F.hc("ngIf",i.controls.passportDate.invalid),F.zb(5),F.hc("ngIf",i.controls.passportFrom.invalid),F.zb(5),F.hc("ngIf",i.controls.passportCode.invalid),F.zb(4),F.hc("options",r.countryList),F.zb(1),F.hc("ngIf",i.controls.passportNationality.invalid),F.zb(18),F.hc("disabled",i.invalid||r.isFilesInvalid())}}function eo(e,t){if(1&e&&(F.Fc(0,Gr,2,0,"ng-container",6),F.Fc(1,Ya,186,30,"ng-template",null,20,F.Gc)),2&e){var n=F.vc(2),i=F.ac();F.hc("ngIf",i.isLoading)("ngIfElse",n)}}var to,no=function(e){return{"card-content":e}},io=((to=function(){function e(t,n,i,a,o,c,s,l,d){r(this,e),this.dialogService=t,this.authService=n,this.messageService=i,this.fb=a,this.commonService=o,this.fileService=c,this.route=s,this.router=l,this.demandService=d,this.isEdit=!1,this.alertMessage=[],this.files=[],this.organizationTypes=[{title:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e",value:1},{title:"\u0418\u041f",value:2}],this.ruleTypes=[{title:"\u041e\u041e\u041e",value:"\u041e\u041e\u041e"},{title:"\u0417\u0410\u041e",value:"\u0417\u0410\u041e"},{title:"\u041f\u0410\u041e",value:"\u041f\u0410\u041e"},{title:"\u041e\u0410\u041e",value:"\u041e\u0410\u041e"},{title:"\u041d\u0410\u041e",value:"\u041d\u0410\u041e"},{title:"\u0410\u041e",value:"\u0410\u041e"}],this.postionTypes=[{title:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",value:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440"}],this.genderTypes=[{title:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",value:0},{title:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",value:1}],this.locationTypes=[{title:"\u0420\u043e\u0441\u0441\u0438\u044f",value:"\u0420\u043e\u0441\u0441\u0438\u044f"}],this.currentDraftId=0,this.subscription$=new O.a,this.postList=[],this.countryList=[],this.regionList=[],this.idCenterList=[]}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.subscription$.add(this.route.queryParams.subscribe(function(t){e.isView="true"===t.View,t.ID&&"false"===t.Edit?e.fetch(t.ID):(e.isLoading=!0,e.getDraft())})),this.initAdditionalData(),this._saveDraftAction$=setInterval(function(){return e.saveDraft()},3e4)}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}},{key:"getDigitalSignatureRequest",value:function(){this.demandService.getDigitalSignatureRequest(this.prepareCoreData()).subscribe(function(e){var t=[];t.push(e);var n=document.createElement("a");n.href=window.URL.createObjectURL(new Blob(t,{type:"application/msword"})),n.setAttribute("download","\u0417\u0430\u044f\u0432\u043a\u0430 \u043d\u0430 \u0432\u044b\u0434\u0430\u0447\u0443 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"),document.body.appendChild(n),n.click()})}},{key:"saveDraft",value:function(){var e=this,t=this.prepareDraft();this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,t).subscribe(function(t){e.currentDraftId=t.ID,e.showSuccess()}))}},{key:"initForm",value:function(){this.formEDS=this.fb.group({organizationType:[1],organizationLegalForm:[""],organizationShortName:["",[N.x.required]],organizationFullName:["",[N.x.required]],organizationINN:["",[N.x.required]],organizationKPP:["",[N.x.required]],organizationOGRN:["",[N.x.required]],organizationOKPO:["",[N.x.required]],organizationPhone:["",[N.x.required]],organizationEmail:["",[N.x.required]],organizationWEB:["",[N.x.required]],organizationLegalAddress:this.fb.group({displayAddress:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f, 77 \u041c\u043e\u0441\u043a\u0432\u0430",factoringPlacesAddress:{PostCode:"",Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:77,RegionTitle:"",City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:"",Locality:"",Street:"",House:"",Appartment:""}}),organizationIsActualAdressEqual:[!1],organizationActualAddress:this.fb.group({displayAddress:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f, 77 \u041c\u043e\u0441\u043a\u0432\u0430",factoringPlacesAddress:{PostCode:"",Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:77,RegionTitle:"",City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:"",Locality:"",Street:"",House:"",Appartment:""}}),organizationIsLegalAdressEqual:[!1],ownerSurname:["",[N.x.required]],ownerName:["",[N.x.required]],ownerMiddlename:["",[N.x.required]],ownerGender:[0,[N.x.required]],ownerSNILS:["",[N.x.required]],ownerDateBurn:["",[N.x.required]],ownerPlaceBurn:["",[N.x.required]],ownerPhone:["",[N.x.required]],ownerWorkPosition:["",[N.x.required]],ownerEmail:["",[N.x.required]],ownerGeoPosition:[""],ownerIdCenter:[""],passportNumber:["",[N.x.required]],passportDate:["",[N.x.required]],passportFrom:["",[N.x.required]],passportCode:["",[N.x.required]],passportNationality:["",[N.x.required]]})}},{key:"onSubmit",value:function(){var e=this;console.log(this.formEDS.value),this.subscription$.add(this.demandService.add(this.prepareData()).subscribe(function(t){e.alert=!0,e.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}},{key:"prepareDraft",value:function(){return this.prepareCoreData()}},{key:"prepareData",value:function(){var e=this.prepareCoreData();return{DraftID:this.currentDraftId,Data:e}}},{key:"prepareCoreData",value:function(){return{Files:this.files,Organization:{Email:"",FactAddress:this.formEDS.value.organizationActualAddress,FactAddressEquals:this.formEDS.value.organizationIsActualAdressEqual,ForeignTitle:"",FullTitle:"",LegalAddress:this.formEDS.value.organizationLegalAddress.factoringPlacesAddress,LegalForm:this.formEDS.value.organizationLegalForm,Phone:this.formEDS.value.organizationPhone,PostAddress:this.formEDS.value.organizationLegalAddress.factoringPlacesAddress,PostAddressEquals:this.formEDS.value.organizationIsLegalAdressEqual,Requisites:{INN:this.formEDS.value.organizationINN,KPP:this.formEDS.value.organizationKPP,OGRN:this.formEDS.value.organizationOGRN,OKATO:"",OKPO:this.formEDS.value.organizationOKPO},ShortTitle:this.formEDS.value.organizationShortName,Type:this.formEDS.value.organizationType,Website:this.formEDS.value.organizationWEB},Passport:{Date:this.formEDS.value.passportDate,IsForeign:!1,IssuerCode:this.formEDS.value.passportCode,IssuerTitle:this.formEDS.value.passportFrom,Nationality:this.formEDS.value.passportNationality,Number:this.formEDS.value.passportNumber},Person:{Name:{First:"",Last:"",Second:""},NameFirst:this.formEDS.value.ownerName,NameLast:this.formEDS.value.ownerSurname,NameSecond:this.formEDS.value.ownerMiddlename,Gender:this.formEDS.value.ownerGender,SNILS:this.formEDS.value.ownerSNILS,BirthDate:this.formEDS.value.valueownerDateBurn,BirthPlace:this.formEDS.value.ownerPlaceBurn,Phone:this.formEDS.value.ownerPhone,Email:this.formEDS.value.ownerEmail},PersonPosition:this.formEDS.value.ownerWorkPosition,Type:"DigitalSignature"}}},{key:"onSelect",value:function(e,n){var i,r=this,a=t(e.target.files);try{var o=function(){var e=i.value,t=E.a.newGuid();r.subscription$.add(r.commonService.getBase64(e).pipe(Object(P.a)(function(n){return r.fileService.uploadFileChunks(n,e.name,e.size.toString(),t)})).subscribe(function(e){console.log(e),r.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:n})},function(e){return console.log(e)}))};for(a.s();!(i=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}}},{key:"removeFile",value:function(e){this.files.splice(this.files.indexOf(this.files.find(function(t){return t===e})),1)}},{key:"selectGeoPosition",value:function(e){var t=this;this.commonService.getIdCenters(e.value).subscribe(function(e){t.idCenterList=e})}},{key:"setIDCenter",value:function(e){this.selectedIdCenter=this.idCenterList.find(function(t){return t.guid===e.value})}},{key:"handleSendMessage",value:function(e){var t=this;this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(function(e){t.fetch(t.currentDemand.ID)}))}},{key:"handleRemoveFile",value:function(e){this.currentDemand.Files=this.currentDemand.Files.filter(function(t){return t!==e})}},{key:"isFileInvalid",value:function(e){return!this.files.map(function(e){return e.Identifier}).includes(e)}},{key:"isFilesInvalid",value:function(){var e=this.files.map(function(e){return e.Identifier});return e.length<1||!(e.includes("Inn")&&e.includes("Ogrn")&&e.includes("Snils")&&e.includes("Director")&&e.includes("Passport"))}},{key:"isAddressEqual",value:function(e){"organizationLegalAddress"===e&&(this.formEDS.controls.organizationActualAddress.patchValue({factoringPlacesAddress:this.formEDS.value.organizationLegalAddress.factoringPlacesAddress}),this.updateDisplayAddress("organizationActualAddress")),"organizationActualAddress"===e&&(this.formEDS.controls.organizationLegalAddress.patchValue({factoringPlacesAddress:this.formEDS.value.organizationActualAddress.factoringPlacesAddress}),this.updateDisplayAddress("organizationLegalAddress"))}},{key:"openAddressForm",value:function(e){var t=this;this.ref=this.dialogService.open(q,{header:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441",width:"650px",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,styleClass:"p-fluid",data:{address:this.formEDS.value[e].factoringPlacesAddress}}),this.ref.onClose.subscribe(function(n){n&&(t.formEDS.value[e].factoringPlacesAddress=n,t.updateDisplayAddress(e))})}},{key:"updateDisplayAddress",value:function(e){var t=this.formEDS.value[e].factoringPlacesAddress,n="";console.log(t),t.PostCode&&(n=n+" "+t.PostCode),t.Country&&(n=n+" "+t.Country),t.RegionCode&&(n=n+" "+t.RegionCode),t.RegionTitle&&(n=n+" "+t.RegionTitle),t.City&&(n=n+" "+t.City),t.District&&(n=n+" "+t.District),t.Locality&&(n=n+" "+t.Locality),t.Street&&(n=n+" "+t.Street),t.House&&(n=n+" "+t.House),t.Appartment&&(n=n+" "+t.Appartment),this.formEDS.controls[e].patchValue({displayAddress:n,factoringPlacesAddress:t})}},{key:"getDraft",value:function(){var e=this;this.subscription$.add(this.demandService.prepareDemandByType("DigitalSignature").subscribe(function(t){e.currentDemand=t,e.convertToFormData(),e.isLoading=!1}))}},{key:"fetch",value:function(e){var t=this;this.subscription$.add(this.demandService.getDemandById(e).subscribe(function(e){t.currentDemand=e,t.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(t.currentDemand),t.isEdit=!0,t.convertToFormData()}))}},{key:"convertToFormData",value:function(){var e,t,n,i,r,a,o,c,s,l;console.log(this.currentDemand);var d=this.currentDemand.Organization,u=this.currentDemand.Passport,b=this.currentDemand.Person;this.formEDS.patchValue({organizationType:(null==d?void 0:d.Type)?null==d?void 0:d.Type:"",organizationLegalForm:(null==d?void 0:d.LegalForm)?null==d?void 0:d.LegalForm:"",organizationShortName:(null==d?void 0:d.ShortTitle)?null==d?void 0:d.ShortTitle:"",organizationFullName:(null==d?void 0:d.FullTitle)?null==d?void 0:d.FullTitle:"",organizationINN:(null===(e=null==d?void 0:d.Requisites)||void 0===e?void 0:e.INN)?null===(t=null==d?void 0:d.Requisites)||void 0===t?void 0:t.INN:"",organizationKPP:(null===(n=null==d?void 0:d.Requisites)||void 0===n?void 0:n.KPP)?null===(i=null==d?void 0:d.Requisites)||void 0===i?void 0:i.KPP:"",organizationOGRN:(null===(r=null==d?void 0:d.Requisites)||void 0===r?void 0:r.OGRN)?null===(a=null==d?void 0:d.Requisites)||void 0===a?void 0:a.OGRN:"",organizationOKPO:(null===(o=null==d?void 0:d.Requisites)||void 0===o?void 0:o.OKPO)?null===(c=null==d?void 0:d.Requisites)||void 0===c?void 0:c.OKPO:"",organizationPhone:(null==d?void 0:d.Phone)?null==d?void 0:d.Phone:"",organizationEmail:(null==d?void 0:d.Email)?null==d?void 0:d.Email:"",organizationWEB:(null==d?void 0:d.Website)?null==d?void 0:d.Website:"",organizationIsActualAdressEqual:(null==d?void 0:d.FactAddressEquals)?null==d?void 0:d.FactAddressEquals:"",organizationIsLegalAdressEqual:(null==d?void 0:d.PostAddressEquals)?null==d?void 0:d.PostAddressEquals:"",ownerSurname:(null==b?void 0:b.NameLast)?null==b?void 0:b.NameLast:"",ownerName:(null==b?void 0:b.NameFirst)?null==b?void 0:b.NameFirst:"",ownerMiddlename:(null==b?void 0:b.NameSecond)?null==b?void 0:b.NameSecond:"",ownerGender:(null==b?void 0:b.Gender)?null==b?void 0:b.Gender:"",ownerSNILS:(null==b?void 0:b.SNILS)?null==b?void 0:b.SNILS:"",ownerDateBurn:(null==b?void 0:b.BirthDate)?Object(_.x)(null==b?void 0:b.BirthDate,"yyyy-MM-dd","en"):"",ownerPlaceBurn:(null==b?void 0:b.BirthPlace)?null==b?void 0:b.BirthPlace:"",ownerPhone:(null==b?void 0:b.Phone)?null==b?void 0:b.Phone:"",ownerWorkPosition:(null===(s=this.currentDemand)||void 0===s?void 0:s.PersonPosition)?null===(l=this.currentDemand)||void 0===l?void 0:l.PersonPosition:"",ownerEmail:(null==b?void 0:b.Email)?null==b?void 0:b.Email:"",passportNumber:(null==u?void 0:u.Number)?null==u?void 0:u.Number:"",passportDate:(null==u?void 0:u.Date)?Object(_.x)(u.Date,"yyyy-MM-dd","en"):"",passportFrom:(null==u?void 0:u.IssuerTitle)?null==u?void 0:u.IssuerTitle:"",passportCode:(null==u?void 0:u.IssuerCode)?null==u?void 0:u.IssuerCode:"",passportNationality:(null==u?void 0:u.Nationality)?u.Nationality:""}),this.formEDS.controls.organizationActualAddress.patchValue({displayAddress:this.getDisplayAddress(null==d?void 0:d.FactAddress),factoringPlacesAddress:null==d?void 0:d.FactAddress})}},{key:"getDisplayAddress",value:function(e){return""}},{key:"initAdditionalData",value:function(){var e=this;this.subscription$.add(this.commonService.getPosts().subscribe(function(t){e.postList=t})),this.subscription$.add(this.commonService.getCountries().subscribe(function(t){e.countryList=t})),this.subscription$.add(this.commonService.getRegions().subscribe(function(t){e.regionList=t}))}},{key:"showSuccess",value:function(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}]),e}()).\u0275fac=function(e){return new(e||to)(F.Kb(H.a),F.Kb(j.a),F.Kb(U.g),F.Kb(N.d),F.Kb($.a),F.Kb(G.a),F.Kb(S.a),F.Kb(S.f),F.Kb(D))},to.\u0275cmp=F.Eb({type:to,selectors:[["app-demand-action-eds-page"]],decls:14,vars:8,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],["contentTemplate",""],[3,"formGroup","ngSubmit"],[1,"form-actions"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-3"],["for","organizationType"],["id","organizationType","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationType","optionLabel","title","optionValue","value",3,"options"],["class","p-field p-col-12 p-md-9",4,"ngIf"],["for","organizationShortName"],["id","organizationShortName","type","text","pInputText","","placeholder","\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationShortName"],["for","organizationFullName"],["id","organizationFullName","type","text","pInputText","","placeholder","\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationFullName"],["for","organizationINN"],["id","organizationINN","type","text","pInputText","","placeholder","\u0418\u041d\u041d","minlength","10","maxlength","12","formControlName","organizationINN"],[4,"ngIf"],["for","organizationKPP"],["id","organizationKPP","type","text","pInputText","","placeholder","\u041a\u041f\u041f","formControlName","organizationKPP"],["for","organizationOGRN"],["id","organizationOGRN","type","text","pInputText","","placeholder","\u041e\u0413\u0420\u041d","formControlName","organizationOGRN"],["for","organizationOKPO"],["id","organizationOKPO","type","text","pInputText","","placeholder","\u041e\u041a\u041f\u041e","formControlName","organizationOKPO"],["for","organizationPhone"],["id","organizationPhone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","organizationPhone","mask","+7-999-999-99-99"],["for","organizationEmail"],["id","organizationEmail","type","email","pInputText","","placeholder","E-mail","formControlName","organizationEmail"],[1,"p-field","p-col-12","p-md-6"],["for","organizationWEB"],["id","organizationWEB","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430","formControlName","organizationWEB"],["for","organizationLegalAddress"],["formGroupName","organizationLegalAddress",1,"addon-button","p-mb-2"],["id","organizationLegalAddress","type","text","pInputText","","placeholder","\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441","disabled","","formControlName","displayAddress"],["pButton","","pRipple","","type","button","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","small",3,"click"],[1,"p-field-checkbox"],["formControlName","organizationIsActualAdressEqual","binary","true","inputId","organizationIsActualAdressEqual",3,"onChange"],["for","organizationIsActualAdressEqual"],["for","organizationActualAddress"],["formGroupName","organizationActualAddress",1,"addon-button","p-mb-2"],["id","organizationActualAddress","type","text","pInputText","","placeholder","\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441","disabled","","formControlName","displayAddress"],["formControlName","organizationIsLegalAdressEqual","binary","true","inputId","organizationIsLegalAdressEqual",3,"onChange"],["for","organizationIsLegalAdressEqual"],[1,"p-col-12"],[1,"description"],["for","ownerSurname"],["id","ownerSurname","type","text","pInputText","","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f","disabled","","formControlName","ownerSurname"],["for","ownerName"],["id","ownerName","disabled","","type","text","pInputText","","placeholder","\u0418\u043c\u044f","formControlName","ownerName"],["for","ownerMiddlename"],["id","ownerMiddlename","type","text","pInputText","","placeholder","\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e","formControlName","ownerMiddlename"],["for","ownerGender"],["id","ownerGender","formControlName","ownerGender","optionLabel","title","optionValue","value",3,"disabled","options"],["for","ownerSNILS"],["id","ownerSNILS","type","text","pInputText","","placeholder","\u0421\u041d\u0418\u041b\u0421","formControlName","ownerSNILS"],["for","ownerDateBurn"],["id","ownerDateBurn","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f","formControlName","ownerDateBurn"],["for","ownerPlaceBurn"],["id","ownerPlaceBurn","type","text","pInputText","","placeholder","\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f","formControlName","ownerPlaceBurn"],["for","ownerPhone"],["id","ownerPhone","disabled","","type","tel","pInputText","","placeholder","\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","ownerPhone"],["for","ownerWorkPosition"],["id","ownerWorkPosition","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c","formControlName","ownerWorkPosition","optionLabel","Title","optionValue","Title",3,"options"],["for","ownerEmail"],["id","ownerEmail","type","email","pInputText","","disabled","","placeholder","E-mail","formControlName","ownerEmail"],[1,"p-field","p-col-12","p-md-12"],["for","ownerGeoPosition"],["id","ownerGeoPosition","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","formControlName","ownerGeoPosition","optionLabel","Title","optionValue","Code",3,"options","onChange"],[1,"p-error"],["class","p-field p-col-12 p-md-12",4,"ngIf"],[1,"d-flex","passport-confirm"],[1,"passport-owner"],["for","passportNumber"],["id","passportNumber","type","text","pInputText","","placeholder","\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442","formControlName","passportNumber"],["for","passportDate"],["id","passportDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438","formControlName","passportDate"],["for","passportFrom"],["id","passportFrom","type","text","pInputText","","placeholder","\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d","formControlName","passportFrom"],["for","passportCode"],["id","passportCode","type","text","pInputText","","placeholder","\u041a\u0435\u043c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","formControlName","passportCode"],["for","passportNationality"],["id","passportNationality","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e","formControlName","passportNationality","optionLabel","Title","optionValue","Identifier",3,"options"],[1,"d-flex","p-justify-between"],["pButton","","pRipple","","type","button","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u0432\u044b\u0434\u0430\u0447\u0443 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430",1,"btn-mib-submit","btn-attention",3,"click"],["href","https://astral.ru/","target","_blank"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"p-field","p-col-12","p-md-9"],["for","organizationLegalForm"],["id","organizationLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443","formControlName","organizationLegalForm","optionLabel","title","optionValue","value",3,"options"],["class","p-error",4,"ngIf"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Inn","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Inn",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],["type","file","id","Ogrn","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Ogrn",1,"mib-upload"],[1,"mib-uploader__error"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"],["type","file","id","Snils","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Snils",1,"mib-upload"],["type","file","id","Director","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Director",1,"mib-upload"],["for","ownerIdCenter"],["id","ownerIdCenter","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","formControlName","ownerIdCenter","optionLabel","name","optionValue","guid",3,"options","onChange"],["type","file","id","Passport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Passport",1,"mib-upload"]],template:function(e,t){if(1&e&&(F.Lb(0,"p-toast"),F.Qb(1,"div",0),F.Qb(2,"div",1),F.Qb(3,"div",2),F.Qb(4,"h2"),F.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f"),F.Pb(),F.Pb(),F.Qb(6,"div",3),F.Fc(7,Br,1,0,"button",4),F.Pb(),F.Pb(),F.Qb(8,"p-messages",5),F.Xb("valueChange",function(e){return t.alertMessage=e}),F.Pb(),F.Fc(9,jr,9,7,"ng-container",6),F.Fc(10,$r,1,4,"ng-template",null,7,F.Gc),F.Fc(12,eo,3,2,"ng-template",null,8,F.Gc),F.Pb()),2&e){var n=F.vc(11);F.zb(1),F.hc("ngClass",F.mc(6,no,t.isUserVerified)),F.zb(6),F.hc("ngIf",t.isEdit),F.zb(1),F.hc("value",t.alertMessage)("enableService",!1),F.zb(1),F.hc("ngIf",t.isEdit)("ngIfElse",n)}},directives:[V.a,_.l,_.n,X.a,M.b,K.b,K.a,ye,_.s,Fe,De,N.y,N.q,N.h,R.a,N.p,N.f,N.b,B.a,N.l,N.k,ze.a,N.i,Hr.a,_.m],styles:[".description[_ngcontent-%COMP%]{font-family:Ubuntu;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#989898}.small[_ngcontent-%COMP%]{padding:5px!important;width:100px!important}.addon-text[_ngcontent-%COMP%]{border:1px solid #c4c4c4;width:100%;height:39px;border-radius:10px;padding:10px}[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}.passport-confirm[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;margin-bottom:20px}.btn-attention[_ngcontent-%COMP%]{max-width:280px;font-size:14px;padding:15px 0!important}.passport-owner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0!important}.passport-owner[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:10px!important}"]}),to);function ro(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",62),F.Xb("click",function(){return F.yc(n),F.ac().onBack()}),F.Pb()}}function ao(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function oo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ao,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationShortName.errors.required)}}function co(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function so(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0418\u041d\u041d (10 \u0438\u043b\u0438 12 \u0446\u0438\u0444\u0440). "),F.Pb())}function lo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,co,2,0,"small",63),F.Fc(2,so,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationINN.errors.required),F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationINN.errors.minlength)}}function uo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function bo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,uo,2,0,"small",63),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationLegalForm.errors.required)}}function fo(e,t){if(1&e&&(F.Qb(0,"div",4),F.Qb(1,"label",65),F.Hc(2,"\u041f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430"),F.Pb(),F.Lb(3,"p-dropdown",66),F.Fc(4,bo,2,1,"div",7),F.Pb()),2&e){var n=F.ac();F.zb(3),F.hc("options",n.ruleTypes),F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationLegalForm.invalid)}}function po(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ho(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,po,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationPhone.errors.required)}}function mo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function go(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443. "),F.Pb())}function vo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,mo,2,0,"small",63),F.Fc(2,go,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationEmail.errors.required),F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationEmail.errors.email)}}function Po(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function yo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Po,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationWEB.errors.required)}}function ko(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0411\u0418\u041a \u0431\u0430\u043d\u043a\u0430 (9 \u0446\u0438\u0444\u0440). "),F.Pb())}function Io(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ko,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankBik.errors.required)}}function Fo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u0440 \u0441\u0447\u0435\u0442 (20 \u0446\u0438\u0444\u0440) "),F.Pb())}function Qo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Fo,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankCorrespondentAccount.errors.required)}}function Co(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Do(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Co,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankName.errors.required)}}function zo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function So(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,zo,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankAccountOpenDate.errors.required)}}function wo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),F.Pb())}function xo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,wo,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankOwnerAccount.errors.required)}}function Oo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function _o(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Oo,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankComment.errors.required)}}function Eo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ao(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Eo,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("otherBanks").controls[n].get("otherBankAccountOpenDate").errors.required)}}function No(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function To(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,No,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("otherBanks").controls[n].get("otherBankName").errors.required)}}function Lo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),F.Pb())}function Ho(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Lo,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("otherBanks").controls[n].get("otherBankOwnerAccount").errors.required)}}function Bo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ro(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Bo,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("otherBanks").controls[n].get("otherBankTarget").errors.required)}}function Mo(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",67),F.Qb(1,"div",68),F.Qb(2,"div",69),F.Hc(3," \u0421\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435 "),F.Pb(),F.Qb(4,"button",70),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().remove(e,"otherBanks")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",71),F.Qb(7,"div",72),F.Qb(8,"div",73),F.Qb(9,"div",21),F.Qb(10,"label",74),F.Hc(11,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(12,"input",75),F.Fc(13,Ao,2,1,"div",7),F.Pb(),F.Qb(14,"div",21),F.Qb(15,"label",76),F.Hc(16,"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(17,"input",77),F.Pb(),F.Qb(18,"div",17),F.Qb(19,"label",78),F.Hc(20,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Qb(21,"p-autoComplete",79),F.Xb("completeMethod",function(e){return F.yc(n),F.ac().searchByBankName(e)})("onSelect",function(e){F.yc(n);var i=t.index,r=F.ac();return r.onOtherBankSelect(r.formFactoring.get("otherBanks").controls[i],e)}),F.Pb(),F.Fc(22,To,2,1,"div",7),F.Pb(),F.Qb(23,"div",17),F.Qb(24,"label",80),F.Hc(25,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(26,"p-inputMask",81),F.Fc(27,Ho,2,1,"div",7),F.Pb(),F.Qb(28,"div",17),F.Qb(29,"label",82),F.Hc(30,"\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"),F.Pb(),F.Lb(31,"input",83),F.Fc(32,Ro,2,1,"div",7),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac();F.zb(7),F.hc("formGroupName",i),F.zb(6),F.hc("ngIf",r.formFactoring.get("otherBanks").controls[i].get("otherBankAccountOpenDate").invalid),F.zb(8),F.hc("suggestions",r.resultsBankname),F.zb(1),F.hc("ngIf",r.formFactoring.get("otherBanks").controls[i].get("otherBankName").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("otherBanks").controls[i].get("otherBankOwnerAccount").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("otherBanks").controls[i].get("otherBankTarget").invalid)}}function qo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function jo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,qo,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringProducts.errors.required)}}function Uo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function $o(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Uo,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringTradeMarks.errors.required)}}function Go(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Vo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Go,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringShipments.errors.required)}}function Xo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ko(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Xo,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringFinanceLimit.errors.required)}}function Wo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Zo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Wo,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringClients.errors.required)}}function Jo(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Yo(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Jo,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringWorkers.errors.required)}}function ec(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",84),F.Qb(1,"div",68),F.Qb(2,"div",69),F.Hc(3," \u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),F.Pb(),F.Qb(4,"button",70),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().remove(e,"factoringPlaces")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",71),F.Qb(7,"div",72),F.Qb(8,"div",73),F.Qb(9,"div",17),F.Qb(10,"label",85),F.Hc(11,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430"),F.Pb(),F.Qb(12,"div",35),F.Lb(13,"input",86),F.Qb(14,"button",87),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().openAddressForm(e)}),F.Pb(),F.Pb(),F.Pb(),F.Qb(15,"div",17),F.Qb(16,"label",88),F.Hc(17,"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(18,"p-dropdown",89),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac();F.zb(7),F.hc("formGroupName",i),F.zb(11),F.hc("options",r.typesOfOwner)}}function tc(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function nc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,tc,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringCreditsCreditor").errors.required)}}function ic(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function rc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ic,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesTypeDuty").errors.required)}}function ac(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function oc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ac,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesDateClose").errors.required)}}function cc(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function sc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,cc,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesContractSum").errors.required)}}function lc(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function dc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,lc,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesBalanceReport").errors.required)}}function uc(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function bc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,uc,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesBalanceCurrent").errors.required)}}function fc(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",90),F.Qb(1,"div",68),F.Qb(2,"div",69),F.Hc(3," \u041a\u0440\u0435\u0434\u0438\u0442, \u0437\u0430\u0439\u043c, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f, ... "),F.Pb(),F.Qb(4,"button",70),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().remove(e,"factoringCredits")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",71),F.Qb(7,"div",72),F.Qb(8,"div",73),F.Qb(9,"div",4),F.Qb(10,"label",91),F.Hc(11,"\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440"),F.Pb(),F.Lb(12,"input",92),F.Fc(13,nc,2,1,"div",7),F.Pb(),F.Qb(14,"div",4),F.Qb(15,"label",93),F.Hc(16,"\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"),F.Pb(),F.Lb(17,"input",94),F.Fc(18,rc,2,1,"div",7),F.Pb(),F.Qb(19,"div",4),F.Qb(20,"label",95),F.Hc(21,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(22,"input",96),F.Fc(23,oc,2,1,"div",7),F.Pb(),F.Qb(24,"div",4),F.Qb(25,"label",97),F.Hc(26,"\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),F.Pb(),F.Lb(27,"input",98),F.Fc(28,sc,2,1,"div",7),F.Pb(),F.Qb(29,"div",99),F.Qb(30,"label",100),F.Hc(31,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438"),F.Pb(),F.Lb(32,"input",101),F.Fc(33,dc,2,1,"div",7),F.Pb(),F.Qb(34,"div",99),F.Qb(35,"label",102),F.Hc(36,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443"),F.Pb(),F.Lb(37,"input",103),F.Fc(38,bc,2,1,"div",7),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac();F.zb(7),F.hc("formGroupName",i),F.zb(6),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringCreditsCreditor").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesTypeDuty").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesDateClose").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesContractSum").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesBalanceReport").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesBalanceCurrent").invalid)}}function pc(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function hc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,pc,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringEDIProviders").controls[n].get("factoringEDIProvidersDebitor").errors.required)}}function mc(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function gc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,mc,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringEDIProviders").controls[n].get("factoringEDIProvidersProvider").errors.required)}}function vc(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",104),F.Qb(1,"div",68),F.Qb(2,"div",69),F.Hc(3," EDI "),F.Pb(),F.Qb(4,"button",70),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().remove(e,"factoringEDIProviders")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",71),F.Qb(7,"div",72),F.Qb(8,"div",73),F.Qb(9,"div",17),F.Qb(10,"label",105),F.Hc(11,"\u0414\u0435\u0431\u0438\u0442\u043e\u0440"),F.Pb(),F.Lb(12,"input",106),F.Fc(13,hc,2,1,"div",7),F.Pb(),F.Qb(14,"div",17),F.Qb(15,"label",107),F.Hc(16,"EDI-\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440"),F.Pb(),F.Lb(17,"input",108),F.Fc(18,gc,2,1,"div",7),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac();F.zb(7),F.hc("formGroupName",i),F.zb(6),F.hc("ngIf",r.formFactoring.get("factoringEDIProviders").controls[i].get("factoringEDIProvidersDebitor").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringEDIProviders").controls[i].get("factoringEDIProvidersProvider").invalid)}}function Pc(e,t){1&e&&(F.Qb(0,"div",130),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function yc(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",133),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",134),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function kc(e,t){if(1&e&&(F.Ob(0),F.Fc(1,yc,7,1,"div",132),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Regulations"===n.Identifier)}}function Ic(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,kc,2,1,"ng-container",131),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Fc(e,t){1&e&&(F.Qb(0,"div",130),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Qc(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",133),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",134),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Cc(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Qc,7,1,"div",132),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","GenDirPassport"===n.Identifier)}}function Dc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Cc,2,1,"ng-container",131),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function zc(e,t){1&e&&(F.Qb(0,"div",130),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Sc(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",133),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",134),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function wc(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Sc,7,1,"div",132),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","GenDirProtocol"===n.Identifier)}}function xc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,wc,2,1,"ng-container",131),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Oc(e,t){1&e&&(F.Qb(0,"div",130),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function _c(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",133),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",134),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Ec(e,t){if(1&e&&(F.Ob(0),F.Fc(1,_c,7,1,"div",132),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","GenDirOrder"===n.Identifier)}}function Ac(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ec,2,1,"ng-container",131),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Nc(e,t){1&e&&(F.Qb(0,"div",130),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Tc(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",133),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",134),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Lc(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Tc,7,1,"div",132),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Balance"===n.Identifier)}}function Hc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Lc,2,1,"ng-container",131),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Bc(e,t){1&e&&(F.Qb(0,"div",130),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Rc(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",133),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",134),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Mc(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Rc,7,1,"div",132),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","OSV"===n.Identifier)}}function qc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Mc,2,1,"ng-container",131),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function jc(e,t){1&e&&(F.Qb(0,"div",130),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Uc(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",133),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",134),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function $c(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Uc,7,1,"div",132),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Shareholders"===n.Identifier)}}function Gc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,$c,2,1,"ng-container",131),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Vc(e,t){1&e&&(F.Qb(0,"div",130),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Xc(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",133),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",134),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Kc(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Xc,7,1,"div",132),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","ContractDelivery"===n.Identifier)}}function Wc(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Kc,2,1,"ng-container",131),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Zc(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"div",20),F.Qb(2,"p"),F.Hc(3,"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:"),F.Pb(),F.Pb(),F.Qb(4,"div",17),F.Qb(5,"div",109),F.Qb(6,"div",110),F.Qb(7,"p"),F.Hc(8," \u0423\u0441\u0442\u0430\u0432 (\u0421\u043e \u0432\u0441\u0435\u043c\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438) "),F.Pb(),F.Pb(),F.Qb(9,"div",111),F.Qb(10,"input",112),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"Regulations")}),F.Pb(),F.Qb(11,"label",113),F.Lb(12,"i",114),F.Hc(13," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(14,Pc,3,0,"div",115),F.Fc(15,Ic,2,1,"div",7),F.Pb(),F.Qb(16,"div",17),F.Qb(17,"div",109),F.Qb(18,"div",110),F.Qb(19,"p"),F.Hc(20," \u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 (\u0412\u0441\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) "),F.Pb(),F.Pb(),F.Qb(21,"div",111),F.Qb(22,"input",116),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"GenDirPassport")}),F.Pb(),F.Qb(23,"label",117),F.Lb(24,"i",114),F.Hc(25," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(26,Fc,3,0,"div",115),F.Fc(27,Dc,2,1,"div",7),F.Pb(),F.Qb(28,"div",17),F.Qb(29,"div",109),F.Qb(30,"div",110),F.Qb(31,"p"),F.Hc(32," \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b/\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),F.Pb(),F.Pb(),F.Qb(33,"div",111),F.Qb(34,"input",118),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"GenDirProtocol")}),F.Pb(),F.Qb(35,"label",119),F.Lb(36,"i",114),F.Hc(37," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(38,zc,3,0,"div",115),F.Fc(39,xc,2,1,"div",7),F.Pb(),F.Qb(40,"div",17),F.Qb(41,"div",109),F.Qb(42,"div",110),F.Qb(43,"p"),F.Hc(44," \u041f\u0440\u0438\u043a\u0430\u0437 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),F.Pb(),F.Pb(),F.Qb(45,"div",111),F.Qb(46,"input",120),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"GenDirOrder")}),F.Pb(),F.Qb(47,"label",121),F.Lb(48,"i",114),F.Hc(49," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(50,Oc,3,0,"div",115),F.Fc(51,Ac,2,1,"div",7),F.Pb(),F.Qb(52,"div",17),F.Qb(53,"div",109),F.Qb(54,"div",110),F.Qb(55,"p"),F.Hc(56," \u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0441\u043a\u0438\u0439 \u0411\u0430\u043b\u0430\u043d\u0441 "),F.Pb(),F.Pb(),F.Qb(57,"div",111),F.Qb(58,"input",122),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"Balance")}),F.Pb(),F.Qb(59,"label",123),F.Lb(60,"i",114),F.Hc(61," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(62,Nc,3,0,"div",115),F.Fc(63,Hc,2,1,"div",7),F.Pb(),F.Qb(64,"div",17),F.Qb(65,"div",109),F.Qb(66,"div",110),F.Qb(67,"p"),F.Hc(68," \u041e\u0421\u0412 (\u043e\u0431\u043e\u0440\u043e\u0442\u043d\u043e-\u0441\u0430\u043b\u044c\u0434\u043e\u0432\u0430\u044f \u0432\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c) "),F.Pb(),F.Pb(),F.Qb(69,"div",111),F.Qb(70,"input",124),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"OSV")}),F.Pb(),F.Qb(71,"label",125),F.Lb(72,"i",114),F.Hc(73," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(74,Bc,3,0,"div",115),F.Fc(75,qc,2,1,"div",7),F.Pb(),F.Qb(76,"div",99),F.Qb(77,"div",109),F.Qb(78,"div",110),F.Qb(79,"p"),F.Hc(80," \u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0423\u0447\u0440\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439 "),F.Pb(),F.Pb(),F.Qb(81,"div",111),F.Qb(82,"input",126),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"Shareholders")}),F.Pb(),F.Qb(83,"label",127),F.Lb(84,"i",114),F.Hc(85," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(86,jc,3,0,"div",115),F.Fc(87,Gc,2,1,"div",7),F.Pb(),F.Qb(88,"div",17),F.Qb(89,"div",109),F.Qb(90,"div",110),F.Qb(91,"p"),F.Hc(92," \u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 "),F.Pb(),F.Pb(),F.Qb(93,"div",111),F.Qb(94,"input",128),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"ContractDelivery")}),F.Pb(),F.Qb(95,"label",129),F.Lb(96,"i",114),F.Hc(97," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(98,Vc,3,0,"div",115),F.Fc(99,Wc,2,1,"div",7),F.Pb(),F.Nb()}if(2&e){var i=F.ac();F.zb(14),F.hc("ngIf",i.isFileInvalid("Regulations")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("GenDirPassport")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("GenDirProtocol")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("GenDirOrder")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("Balance")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("OSV")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("Shareholders")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("ContractDelivery")),F.zb(1),F.hc("ngIf",i.files.length)}}var Jc,Yc=((Jc=function(){function e(t,n,i,a,o,c){r(this,e),this.dialogService=t,this.messageService=n,this.commonService=i,this.fileService=a,this.currencyPipe=o,this.fb=c,this.save=new F.n,this.create=new F.n,this.back=new F.n,this.organizationTypes=[],this.ruleTypes=[],this.typesOfOwner=[],this.files=[],this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.initForm(),this.initValues(),this.currentDemand&&this.convertToFormData(),this._saveDraftAction$=setInterval(function(){return e.saveDraft()},3e4)}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}},{key:"onSubmit",value:function(){this.create.emit(this.prepareData())}},{key:"saveDraft",value:function(){this.save.emit(this.prepareDraft())}},{key:"isFilesInvalid",value:function(){var e=this.files.map(function(e){return e.Identifier});return e.length<1||!(e.includes("Regulations")&&e.includes("ContractDelivery")&&e.includes("GenDirPassport")&&e.includes("GenDirProtocol")&&e.includes("Balance")&&e.includes("GenDirOrder")&&e.includes("OSV")&&e.includes("Shareholders"))}},{key:"isFileInvalid",value:function(e){return!this.files.map(function(e){return e.Identifier}).includes(e)}},{key:"onBack",value:function(){this.back.emit()}},{key:"search",value:function(e){var t=this;this.subscription$.add(this.commonService.getBankByBIK(e.query).subscribe(function(e){t.banksFounded=e,t.resultsBIK=e.map(function(e){return e.BIC})}))}},{key:"onOtherBankSelect",value:function(e,t){var n=this.banksFounded.find(function(e){return e.BIC===t||e.Name===t});this.formFactoring.get("otherBanks").controls[e].patchValue({otherBankName:n.Name})}},{key:"onBankSelect",value:function(e){var t=this.banksFounded.find(function(t){return t.BIC===e||t.Name===e});this.formFactoring.patchValue({bankBik:t.BIC,bankCorrespondentAccount:t.AccountBank,bankName:t.Name})}},{key:"searchByBankName",value:function(e){var t=this;this.subscription$.add(this.commonService.getBankByName(e.query).subscribe(function(e){t.banksFounded=e,t.resultsBankname=e.map(function(e){return e.Name})}))}},{key:"addOtherBank",value:function(e){this.formFactoring.get("otherBanks").push(this.fb.group({otherBankAccountOpenDate:[(null==e?void 0:e.Date)?Object(_.x)(null==e?void 0:e.Date,"yyyy-MM-dd","en"):"",[N.x.required]],otherBankAccountCloseDate:[(null==e?void 0:e.Expire)?Object(_.x)(null==e?void 0:e.Expire,"yyyy-MM-dd","en"):""],otherBankName:[(null==e?void 0:e.Bank)?null==e?void 0:e.Bank:"",[N.x.required]],otherBankOwnerAccount:[(null==e?void 0:e.Number)?null==e?void 0:e.Number:"",[N.x.required]],otherBankTarget:[(null==e?void 0:e.Comment)?null==e?void 0:e.Comment:"",[N.x.required]]}))}},{key:"addOtherPlace",value:function(e){var t=this.formFactoring.get("factoringPlaces");t.push(this.fb.group({displayAddress:"",factoringPlacesAddress:{PostCode:e?e.Address.PostCode:"",Country:e?e.Address.Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:e?e.Address.RegionCode:77,RegionTitle:e?e.Address.RegionTitle:"",City:e?e.Address.City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:e?e.Address.District:"",Locality:e?e.Address.Locality:"",Street:e?e.Address.Street:"",House:e?e.Address.House:"",Appartment:e?e.Address.Appartment:""},factoringPlacesLegalForm:["Own",[N.x.required]]})),this.updateDisplayAddress(t.length-1)}},{key:"addFactoringCredits",value:function(e){this.formFactoring.get("factoringCredits").push(this.fb.group({factoringCreditsCreditor:[e?e.Creditor:""],factoringPlacesTypeDuty:[e?e.Type:""],factoringPlacesDateClose:[e?Object(_.x)(e.Date,"yyyy-MM-dd","en"):""],factoringPlacesContractSum:[e?e.Summ:""],factoringPlacesBalanceReport:[e?e.ReportingRest:""],factoringPlacesBalanceCurrent:[e?e.CurrentRest:""]}))}},{key:"addEDIProvider",value:function(e){this.formFactoring.get("factoringEDIProviders").push(this.fb.group({factoringEDIProvidersDebitor:[e?e.Company:"",[N.x.required]],factoringEDIProvidersProvider:[e?e.EDIProvider:"",[N.x.required]]}))}},{key:"remove",value:function(e,t){this.formFactoring.get(t).removeAt(e)}},{key:"openAddressForm",value:function(e){var t=this;this.currentAddressFormId=e,this.ref=this.dialogService.open(q,{header:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441",width:"650px",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,styleClass:"p-fluid",data:{address:this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,index:e}}),this.ref.onClose.subscribe(function(e){e&&(t.formFactoring.value.factoringPlaces[t.currentAddressFormId].factoringPlacesAddress=e,t.updateDisplayAddress(t.currentAddressFormId))})}},{key:"onSelect",value:function(e,n){var i,r=this,a=t(e.target.files);try{var o=function(){var e=i.value,t=E.a.newGuid();r.subscription$.add(r.commonService.getBase64(e).pipe(Object(P.a)(function(n){return r.fileService.uploadFileChunks(n,e.name,e.size.toString(),t)})).subscribe(function(e){console.log(e),r.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:n})},function(e){return console.log(e)}))};for(a.s();!(i=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}}},{key:"removeFile",value:function(e){this.files.splice(this.files.indexOf(this.files.find(function(t){return t===e})),1)}},{key:"onTypeChanged",value:function(e){0===e&&this.formFactoring.patchValue({organizationLegalForm:null})}},{key:"updateDisplayAddress",value:function(e){var t=this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,n="";console.log(t),t.PostCode&&(n=n+" "+t.PostCode),t.Country&&(n=n+" "+t.Country),t.RegionCode&&(n=n+" "+t.RegionCode),t.RegionTitle&&(n=n+" "+t.RegionTitle),t.City&&(n=n+" "+t.City),t.District&&(n=n+" "+t.District),t.Locality&&(n=n+" "+t.Locality),t.Street&&(n=n+" "+t.Street),t.House&&(n=n+" "+t.House),t.Appartment&&(n=n+" "+t.Appartment),this.formFactoring.controls.factoringPlaces.at(e).patchValue({displayAddress:n,factoringPlacesAddress:t})}},{key:"initValues",value:function(){var e=new L.a;this.organizationTypes=e.getOrganizations(),this.ruleTypes=e.getLegalForms(),this.typesOfOwner=e.getTypesOfOwner()}},{key:"initForm",value:function(){this.formFactoring=this.fb.group({organizationType:[0,[N.x.required]],organizationLegalForm:[""],organizationShortName:["",[N.x.required]],organizationINN:["",[N.x.required,N.x.minLength(10),N.x.maxLength(12)]],organizationPhone:["",[N.x.required]],organizationEmail:["",[N.x.required,N.x.email]],organizationWEB:[""],bankBik:["",[N.x.required]],bankCorrespondentAccount:["",[N.x.required]],bankName:["",[N.x.required]],bankAccountOpenDate:["",[N.x.required]],bankOwnerAccount:["",[N.x.required]],bankComment:[""],otherBanks:this.fb.array([]),factoringProducts:["",[N.x.required]],factoringTradeMarks:["",[N.x.required]],factoringShipments:["",[N.x.required]],factoringFinanceLimit:[null,[N.x.required]],factoringClients:["",[N.x.required]],factoringWorkers:[0,[N.x.required]],factoringPlaces:this.fb.array([]),factoringCredits:this.fb.array([]),factoringEDIProviders:this.fb.array([])}),this.formFactoring.markAllAsTouched(),this.formFactoring.markAsDirty()}},{key:"prepareDraft",value:function(){return this.prepareCoreData()}},{key:"prepareData",value:function(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}},{key:"convertToFormData",value:function(){var e=this,t=this.currentDemand.Factoring,n=this.currentDemand.Anket,i=t.AddonAccounts,r=t.Properties,a=t.Obligations,o=t.EDI;this.formFactoring.patchValue({organizationType:n.Organization.Type,organizationLegalForm:n.Organization.LegalForm,organizationShortName:n.Organization.ShortTitle,organizationINN:n.Organization.Requisites.INN,organizationPhone:n.Organization.Phone,organizationEmail:n.Organization.Email,organizationWEB:n.Organization.Website,bankBik:t.Account.BIK,bankCorrespondentAccount:t.Account.COR,bankName:t.Account.Bank,bankAccountOpenDate:Object(_.x)(t.Account.Date,"yyyy-MM-dd","en"),bankOwnerAccount:t.Account.Number,bankComment:t.Account.Comment,factoringProducts:t.Products,factoringTradeMarks:t.Trademarks,factoringShipments:t.Suppliers,factoringFinanceLimit:t.LimitWanted,factoringClients:t.Buyers,factoringWorkers:t.StaffAmount}),i.forEach(function(t){return e.addOtherBank(t)}),r.forEach(function(t){return e.addOtherPlace(t)}),a.forEach(function(t){return e.addFactoringCredits(t)}),o.forEach(function(t){return e.addEDIProvider(t)})}},{key:"prepareCoreData",value:function(){var e=[],t=[],n=[],i=[];return this.formFactoring.value.factoringPlaces.forEach(function(e){i.push({Address:{Appartment:e.factoringPlacesAddress.Appartment,City:e.factoringPlacesAddress.City,Country:e.factoringPlacesAddress.Country,District:e.factoringPlacesAddress.District,House:e.factoringPlacesAddress.House,Locality:e.factoringPlacesAddress.Locality,PostCode:e.factoringPlacesAddress.PostCode,RegionCode:e.factoringPlacesAddress.RegionCode,Street:e.factoringPlacesAddress.Street,RegionTitle:e.factoringPlacesAddress.RegionTitle},Comment:"",Type:e.factoringPlacesLegalForm})}),this.formFactoring.value.factoringCredits.forEach(function(e){t.push({Creditor:e.factoringCreditsCreditor,CurrentRest:e.factoringPlacesBalanceCurrent,Date:new Date(e.factoringPlacesDateClose),ReportingRest:e.factoringPlacesBalanceReport,Summ:e.factoringPlacesContractSum,Type:e.factoringPlacesTypeDuty})}),this.formFactoring.value.otherBanks.forEach(function(e){n.push({BIK:"",Bank:e.otherBankName,COR:"",Comment:e.otherBankTarget,Date:new Date(e.otherBankAccountOpenDate),Expire:new Date(e.otherBankAccountCloseDate),Number:e.otherBankOwnerAccount})}),this.formFactoring.value.factoringEDIProviders.forEach(function(t){e.push({Company:t.factoringEDIProvidersDebitor,EDIProvider:t.factoringEDIProvidersProvider})}),{Anket:{Registration:{Authority:"",Date:new Date,InitDate:new Date,Number:"",Place:""},Resident:{Country:"\u0420\u0424",ForeignCode:"",IsResident:!0},Shareholders:[],Signer:{FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},Passport:{Date:new Date,Expire:new Date,IsForeign:!1,IssuerCode:"",IssuerTitle:"",Nationality:"",Number:""},Person:{BirthDate:new Date,BirthPlace:"",Email:"",Gender:1,Name:{First:"",Last:"",Second:""},NameFirst:"",NameLast:"",NameSecond:"",Phone:"",SNILS:""},PositionDate:new Date,PositionTitle:"",RegistrationAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""}},Activities:[],Capital:{Total:0,Payed:0},Licenses:[],Objectives:{BankRelationObjective:16,BankRelationObjectiveOther:"",FinancialObjective:1,FinancialObjectiveOther:"",TransactionsContracts:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430",TransactionsCount:"",TransactionsSumm:""},Organization:{Email:this.formFactoring.value.organizationEmail,FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},FactAddressEquals:!1,ForeignTitle:"",FullTitle:"",LegalAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},LegalForm:this.formFactoring.value.organizationLegalForm,Phone:this.formFactoring.value.organizationPhone,PostAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},PostAddressEquals:!1,Requisites:{INN:this.formFactoring.value.organizationINN,KPP:"",OGRN:"",OKATO:"",OKPO:""},ShortTitle:this.formFactoring.value.organizationShortName,Type:this.formFactoring.value.organizationType,Website:this.formFactoring.value.organizationWEB}},Factoring:{Account:{BIK:this.formFactoring.value.bankBik,Bank:this.formFactoring.value.bankName,COR:this.formFactoring.value.bankCorrespondentAccount,Comment:this.formFactoring.value.bankComment,Date:new Date(this.formFactoring.value.bankAccountOpenDate),Expire:null,Number:this.formFactoring.value.bankOwnerAccount},AddonAccounts:n,Buyers:this.formFactoring.value.factoringClients,EDI:e,FactoringAim:0,LimitWanted:this.formFactoring.value.factoringFinanceLimit,Obligations:t,Products:this.formFactoring.value.factoringProducts,Properties:i,StaffAmount:this.formFactoring.value.factoringWorkers,Suppliers:this.formFactoring.value.factoringShipments,Trademarks:this.formFactoring.value.factoringTradeMarks},Files:this.files,Type:"Factoring"}}}]),e}()).\u0275fac=function(e){return new(e||Jc)(F.Kb(H.a),F.Kb(U.g),F.Kb($.a),F.Kb(G.a),F.Kb(_.d),F.Kb(N.d))},Jc.\u0275cmp=F.Eb({type:Jc,selectors:[["app-factoring-data"]],inputs:{isEdit:"isEdit",currentDemand:"currentDemand",currentDraftId:"currentDraftId"},outputs:{save:"save",create:"create",back:"back"},decls:150,vars:29,consts:[[3,"formGroup","ngSubmit"],[1,"form-actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-4","p-lg-3"],["for","organizationShortName"],["id","organizationShortName","type","text","pInputText","","placeholder","\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","formControlName","organizationShortName"],[4,"ngIf"],["for","organizationINN"],["id","organizationINN","pInputText","","type","text","placeholder","\u0418\u041d\u041d","formControlName","organizationINN","minlength","10","maxlength","12"],["for","organizationType"],["id","organizationType","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationType","optionLabel","title","optionValue","value",3,"options","onChange"],["class","p-field p-col-12 p-md-4 p-lg-3",4,"ngIf"],["for","organizationPhone"],["id","organizationPhone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","organizationPhone","mask","+7-999-999-99-99"],["for","organizationEmail"],["id","organizationEmail","type","email","pInputText","","placeholder","E-mail","formControlName","organizationEmail"],[1,"p-field","p-col-12","p-md-6"],["for","organizationWEB"],["id","organizationWEB","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430","formControlName","organizationWEB"],[1,"p-field","p-col-12","p-md-12"],[1,"p-field","p-col-12","p-md-3"],["for","bankBik"],["id","bankBik","placeholder","\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430","formControlName","bankBik",3,"suggestions","completeMethod","onSelect"],["for","bankCorrespondentAccount"],["id","bankCorrespondentAccount","type","text","mask","99999999999999999999","placeholder","\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430","formControlName","bankCorrespondentAccount"],["for","bankName"],["id","bankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","bankName",3,"suggestions","completeMethod","onSelect"],["for","bankAccountOpenDate"],["id","bankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","bankAccountOpenDate"],["for","bankOwnerAccount"],["id","bankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","bankOwnerAccount"],["for","bankComment"],["id","bankComment","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439","formControlName","bankComment"],["class","mib-formset","formArrayName","otherBanks",4,"ngFor","ngForOf"],[1,"addon-button"],[1,"addon-text-small"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435","type","button",1,"basic-small",3,"click"],[1,"p-field","p-col-12","p-lg-4"],["for","factoringProducts"],["id","factoringProducts","type","text","pInputText","","placeholder","\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringProducts"],[1,"p-field","p-col-12","p-lg-8"],["for","factoringTradeMarks"],["id","factoringTradeMarks","type","text","pInputText","","placeholder","\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringTradeMarks"],[1,"p-field","p-col-12","p-lg-6"],["for","factoringShipments"],["id","factoringShipments","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438","formControlName","factoringShipments"],["for","factoringFinanceLimit"],["placeholder","\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","id","factoringFinanceLimit","formControlName","factoringFinanceLimit","inputId","factoringFinanceLimit","mode","currency","currency","RUB","locale","ru-RU"],["for","factoringClients"],["id","factoringClients","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438","formControlName","factoringClients"],["for","factoringWorkers"],["id","factoringWorkers","type","number","pInputText","","placeholder","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432","formControlName","factoringWorkers"],[1,"description"],["class","mib-formset","formArrayName","factoringPlaces",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringCredits",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringEDIProviders",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435","type","button",1,"basic-small",3,"click"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],["class","p-error",4,"ngIf"],[1,"p-error"],["for","organizationLegalForm"],["id","organizationLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443","formControlName","organizationLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","otherBanks",1,"mib-formset"],[1,"title"],[1,"text"],[1,"button","warn",3,"click"],[1,"form"],[3,"formGroupName"],[1,"p-fluid","p-formgrid","p-grid"],["for","otherBankAccountOpenDate"],["id","otherBankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountOpenDate"],["for","otherBankAccountCloseDate"],["id","otherBankAccountCloseDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountCloseDate"],["for","otherBankName"],["id","otherBankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","otherBankName",3,"suggestions","completeMethod","onSelect"],["for","otherBankOwnerAccount"],["id","otherBankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankOwnerAccount"],["for","otherBankTarget"],["id","otherBankTarget","type","text","pInputText","","placeholder","\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","formControlName","otherBankTarget"],["formArrayName","factoringPlaces",1,"mib-formset"],["for","factoringPlacesAddress"],["id","factoringPlacesAddress","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430","disabled","","formControlName","displayAddress"],["pButton","","pRipple","","type","button","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],["for","factoringPlacesLegalForm"],["id","factoringPlacesLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0424\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f","formControlName","factoringPlacesLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","factoringCredits",1,"mib-formset"],["for","factoringCreditsCreditor"],["id","factoringCreditsCreditor","type","text","pInputText","","placeholder","\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440","formControlName","factoringCreditsCreditor"],["for","factoringPlacesTypeDuty"],["id","factoringPlacesTypeDuty","type","text","pInputText","","placeholder","\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430","formControlName","factoringPlacesTypeDuty"],["for","factoringPlacesDateClose"],["id","factoringPlacesDateClose","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f","formControlName","factoringPlacesDateClose"],["for","factoringPlacesContractSum"],["id","factoringPlacesContractSum","type","text","pInputText","","placeholder","\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430","formControlName","factoringPlacesContractSum"],[1,"p-field","p-col-12","p-md-6","p-lg-6"],["for","factoringPlacesBalanceReport"],["id","factoringPlacesBalanceReport","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438","formControlName","factoringPlacesBalanceReport"],["for","factoringPlacesBalanceCurrent"],["id","factoringPlacesBalanceCurrent","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443","formControlName","factoringPlacesBalanceCurrent"],["formArrayName","factoringEDIProviders",1,"mib-formset"],["for","factoringEDIProvidersDebitor"],["id","factoringEDIProvidersDebitor","type","text","pInputText","","placeholder","\u0414\u0435\u0431\u0438\u0442\u043e\u0440","formControlName","factoringEDIProvidersDebitor"],["for","factoringEDIProvidersProvider"],["id","factoringEDIProvidersProvider","type","text","pInputText","","placeholder","EDI-\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440","formControlName","factoringEDIProvidersProvider"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Regulations","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Regulations",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],["type","file","id","GenDirPassport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","GenDirPassport",1,"mib-upload"],["type","file","id","GenDirProtocol","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","GenDirProtocol",1,"mib-upload"],["type","file","id","actual-btn","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","actual-btn",1,"mib-upload"],["type","file","id","Balance","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Balance",1,"mib-upload"],["type","file","id","OSV","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","OSV",1,"mib-upload"],["type","file","id","Shareholders","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Shareholders",1,"mib-upload"],["type","file","id","ContractDelivery","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","ContractDelivery",1,"mib-upload"],[1,"mib-uploader__error"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){1&e&&(F.Qb(0,"form",0),F.Xb("ngSubmit",function(){return t.onSubmit()}),F.Qb(1,"div",1),F.Fc(2,ro,1,0,"button",2),F.Pb(),F.Qb(3,"div",3),F.Qb(4,"div",4),F.Qb(5,"label",5),F.Hc(6,"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),F.Pb(),F.Lb(7,"input",6),F.Fc(8,oo,2,1,"div",7),F.Pb(),F.Qb(9,"div",4),F.Qb(10,"label",8),F.Hc(11,"\u0418\u041d\u041d"),F.Pb(),F.Lb(12,"input",9),F.Fc(13,lo,3,2,"div",7),F.Pb(),F.Qb(14,"div",4),F.Qb(15,"label",10),F.Hc(16,"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),F.Pb(),F.Qb(17,"p-dropdown",11),F.Xb("onChange",function(e){return t.onTypeChanged(e.value)}),F.Pb(),F.Pb(),F.Fc(18,fo,5,2,"div",12),F.Pb(),F.Qb(19,"div",3),F.Qb(20,"div",4),F.Qb(21,"label",13),F.Hc(22,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),F.Pb(),F.Lb(23,"p-inputMask",14),F.Fc(24,ho,2,1,"div",7),F.Pb(),F.Qb(25,"div",4),F.Qb(26,"label",15),F.Hc(27,"E-mail"),F.Pb(),F.Lb(28,"input",16),F.Fc(29,vo,3,2,"div",7),F.Pb(),F.Qb(30,"div",17),F.Qb(31,"label",18),F.Hc(32,"\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430"),F.Pb(),F.Lb(33,"input",19),F.Fc(34,yo,2,1,"div",7),F.Pb(),F.Qb(35,"div",20),F.Qb(36,"h3"),F.Hc(37,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Pb(),F.Qb(38,"div",21),F.Qb(39,"label",22),F.Hc(40,"\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Qb(41,"p-autoComplete",23),F.Xb("completeMethod",function(e){return t.search(e)})("onSelect",function(e){return t.onBankSelect(e)}),F.Pb(),F.Fc(42,Io,2,1,"div",7),F.Pb(),F.Qb(43,"div",21),F.Qb(44,"label",24),F.Hc(45,"\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Lb(46,"p-inputMask",25),F.Fc(47,Qo,2,1,"div",7),F.Pb(),F.Qb(48,"div",17),F.Qb(49,"label",26),F.Hc(50,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Qb(51,"p-autoComplete",27),F.Xb("completeMethod",function(e){return t.searchByBankName(e)})("onSelect",function(e){return t.onBankSelect(e)}),F.Pb(),F.Fc(52,Do,2,1,"div",7),F.Pb(),F.Qb(53,"div",21),F.Qb(54,"label",28),F.Hc(55,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(56,"input",29),F.Fc(57,So,2,1,"div",7),F.Pb(),F.Qb(58,"div",21),F.Qb(59,"label",30),F.Hc(60,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(61,"p-inputMask",31),F.Fc(62,xo,2,1,"div",7),F.Pb(),F.Qb(63,"div",17),F.Qb(64,"label",32),F.Hc(65,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),F.Pb(),F.Lb(66,"input",33),F.Fc(67,_o,2,1,"div",7),F.Pb(),F.Qb(68,"div",20),F.Qb(69,"h3"),F.Hc(70,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0447\u0435\u0442\u043e\u0432"),F.Pb(),F.Fc(71,Mo,33,6,"div",34),F.Pb(),F.Qb(72,"div",17),F.Qb(73,"div",35),F.Qb(74,"div",36),F.Qb(75,"p"),F.Hc(76," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0430 \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u0430\u043d\u043a\u0430\u0445 "),F.Pb(),F.Pb(),F.Qb(77,"button",37),F.Xb("click",function(){return t.addOtherBank()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(78,"div",20),F.Qb(79,"h3"),F.Hc(80,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a \u0410\u043d\u043a\u0435\u0442\u0435 (\u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433)"),F.Pb(),F.Pb(),F.Qb(81,"div",38),F.Qb(82,"label",39),F.Hc(83,"\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),F.Pb(),F.Lb(84,"input",40),F.Fc(85,jo,2,1,"div",7),F.Pb(),F.Qb(86,"div",41),F.Qb(87,"label",42),F.Hc(88,"\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),F.Pb(),F.Lb(89,"input",43),F.Fc(90,$o,2,1,"div",7),F.Pb(),F.Qb(91,"div",44),F.Qb(92,"label",45),F.Hc(93,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438"),F.Pb(),F.Lb(94,"input",46),F.Fc(95,Vo,2,1,"div",7),F.Pb(),F.Qb(96,"div",44),F.Qb(97,"label",47),F.Hc(98,"\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),F.Pb(),F.Lb(99,"p-inputNumber",48),F.Fc(100,Ko,2,1,"div",7),F.Pb(),F.Qb(101,"div",17),F.Qb(102,"label",49),F.Hc(103,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438"),F.Pb(),F.Lb(104,"input",50),F.Fc(105,Zo,2,1,"div",7),F.Pb(),F.Qb(106,"div",17),F.Qb(107,"label",51),F.Hc(108,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),F.Pb(),F.Lb(109,"input",52),F.Fc(110,Yo,2,1,"div",7),F.Pb(),F.Qb(111,"div",20),F.Qb(112,"h3"),F.Hc(113,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0435\u0439\u0441\u044f \u0432 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438/\u0430\u0440\u0435\u043d\u0434\u0435 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f"),F.Pb(),F.Qb(114,"p",53),F.Hc(115,"\u041f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043f\u0443\u043d\u043a\u0442\u0443 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f\u0445 \u0438 \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435 \u0432\u043b\u0430\u0434\u0435\u0435\u0442 \u0442\u0435\u043c \u0438\u043b\u0438 \u0438\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"),F.Pb(),F.Fc(116,ec,19,2,"div",54),F.Pb(),F.Qb(117,"div",17),F.Qb(118,"div",35),F.Qb(119,"div",36),F.Qb(120,"p"),F.Hc(121," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(122,"button",55),F.Xb("click",function(){return t.addOtherPlace()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(123,"div",20),F.Qb(124,"h3"),F.Hc(125,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u043d\u0435\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u0445, \u0430\u043a\u043a\u0440\u0435\u0434\u0438\u0442\u0438\u0432\u0430\u0445, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f\u0445, \u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430\u0445"),F.Pb(),F.Qb(126,"p",53),F.Hc(127,"\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u0430\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0438 \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0440\u0441\u043a\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c, \u0432 \u0442. \u0447. \u0441\u0441\u0443\u0434\u044b \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),F.Pb(),F.Fc(128,fc,39,7,"div",56),F.Pb(),F.Qb(129,"div",17),F.Qb(130,"div",35),F.Qb(131,"div",36),F.Qb(132,"p"),F.Hc(133," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(134,"button",57),F.Xb("click",function(){return t.addFactoringCredits()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(135,"div",20),F.Qb(136,"h3"),F.Hc(137,"\u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 EDI-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u043c\u0438 \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u043e\u0431\u043e\u0440\u043e\u0442\u0443"),F.Pb(),F.Fc(138,vc,19,3,"div",58),F.Pb(),F.Qb(139,"div",17),F.Qb(140,"div",35),F.Qb(141,"div",36),F.Qb(142,"p"),F.Hc(143," EDI \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 "),F.Pb(),F.Pb(),F.Qb(144,"button",59),F.Xb("click",function(){return t.addEDIProvider()}),F.Pb(),F.Pb(),F.Pb(),F.Fc(145,Zc,100,16,"ng-container",7),F.Qb(146,"div",20),F.Qb(147,"label",60),F.Hc(148,"\xa0"),F.Pb(),F.Lb(149,"button",61),F.Pb(),F.Pb(),F.Pb()),2&e&&(F.hc("formGroup",t.formFactoring),F.zb(2),F.hc("ngIf",!t.isEdit),F.zb(6),F.hc("ngIf",t.formFactoring.controls.organizationShortName.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.organizationINN.invalid),F.zb(4),F.hc("options",t.organizationTypes),F.zb(1),F.hc("ngIf",1===t.formFactoring.get("organizationType").value),F.zb(6),F.hc("ngIf",t.formFactoring.controls.organizationPhone.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.organizationEmail.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.organizationWEB.invalid),F.zb(7),F.hc("suggestions",t.resultsBIK),F.zb(1),F.hc("ngIf",t.formFactoring.controls.bankBik.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.bankCorrespondentAccount.invalid),F.zb(4),F.hc("suggestions",t.resultsBankname),F.zb(1),F.hc("ngIf",t.formFactoring.controls.bankName.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.bankAccountOpenDate.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.bankOwnerAccount.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.bankComment.invalid),F.zb(4),F.hc("ngForOf",t.formFactoring.get("otherBanks").controls),F.zb(14),F.hc("ngIf",t.formFactoring.controls.factoringProducts.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringTradeMarks.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringShipments.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringFinanceLimit.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringClients.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringWorkers.invalid),F.zb(6),F.hc("ngForOf",t.formFactoring.get("factoringPlaces").controls),F.zb(12),F.hc("ngForOf",t.formFactoring.get("factoringCredits").controls),F.zb(10),F.hc("ngForOf",t.formFactoring.get("factoringEDIProviders").controls),F.zb(7),F.hc("ngIf",!t.isEdit),F.zb(4),F.hc("disabled",t.formFactoring.invalid||t.isFilesInvalid()))},directives:[N.y,N.q,N.h,_.n,N.b,B.a,N.p,N.f,N.l,N.k,R.a,ze.a,mt,_.m,M.b,vt.a,N.t,N.c,N.i],encapsulation:2}),Jc);function es(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",9),F.Xb("click",function(){return F.yc(n),F.ac().back()}),F.Pb()}}function ts(e,t){if(1&e&&(F.Lb(0,"metib-backend-error-messages",10),F.bc(1,"async")),2&e){var n=F.ac();F.hc("backendErrors",F.cc(1,1,n.backendErrors$))}}function ns(e,t){1&e&&(F.Ob(0),F.Qb(1,"p"),F.Hc(2,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),F.Pb(),F.Nb())}function is(e,t){if(1&e&&(F.Qb(0,"p-tabPanel",20),F.Lb(1,"app-demand-result",21),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.hc("result",n.currentDemand.Result)}}function rs(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"p-tabView",12),F.Qb(2,"p-tabPanel",13),F.Qb(3,"app-demand-info",14),F.Xb("sendMessage",function(e){return F.yc(n),F.ac(2).handleSendMessage(e)}),F.Pb(),F.Pb(),F.Qb(4,"p-tabPanel",15),F.Qb(5,"app-factoring-data",16),F.Xb("save",function(e){return F.yc(n),F.ac(2).handleSave(e)})("create",function(e){return F.yc(n),F.ac(2).handleSubmit(e)})("back",function(){return F.yc(n),F.ac(2).back()}),F.Pb(),F.Pb(),F.Qb(6,"p-tabPanel",17),F.Qb(7,"app-demand-files",18),F.Xb("removeFile",function(e){return F.yc(n),F.ac(2).handleRemoveFile(e)}),F.Pb(),F.Pb(),F.Fc(8,is,2,1,"p-tabPanel",19),F.Pb(),F.Nb()}if(2&e){var i=F.ac(2);F.zb(3),F.hc("currentDemandInfo",i.currentInformation),F.zb(2),F.hc("isEdit",!0)("currentDemand",i.currentDemand)("currentDraftId",i.currentDraftId),F.zb(2),F.hc("currentDemandFiles",i.currentDemand.Files),F.zb(1),F.hc("ngIf",i.isView)}}function as(e,t){if(1&e){var n=F.Rb();F.Qb(0,"app-factoring-data",22),F.Xb("back",function(){return F.yc(n),F.ac(2).back()})("save",function(e){return F.yc(n),F.ac(2).handleSave(e)})("create",function(e){return F.yc(n),F.ac(2).handleSubmit(e)}),F.Pb()}if(2&e){var i=F.ac(2);F.hc("isEdit",!1)("currentDemand",i.currentDemand)("currentDraftId",i.currentDraftId)}}function os(e,t){if(1&e&&(F.Fc(0,rs,9,6,"ng-container",7),F.Fc(1,as,1,3,"ng-template",null,11,F.Gc)),2&e){var n=F.vc(2),i=F.ac();F.hc("ngIf",i.isEdit)("ngIfElse",n)}}var cs,ss=function(e){return{"card-content":e}},ls=((cs=function(){function e(t,n,i,a,o,c){r(this,e),this.authService=t,this.messageService=n,this.demandService=i,this.route=a,this.router=o,this.store=c,this.alertMessage=[],this.currentDraftId=0,this.isEdit=!1,this.isLoading=!1,this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.isUserVerified=this.authService.isUserVerified(),this.subscription$.add(this.route.queryParams.subscribe(function(t){e.isView="true"===t.View,t.ID&&"false"===t.Edit?e.fetch(t.ID):(e.isLoading=!0,e.getDraft())}))}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe()}},{key:"handleSubmit",value:function(e){var t=this;this.isEdit&&(e.Data.Files=this.currentDemand.Files),this.subscription$.add(this.demandService.add(e).subscribe(function(e){t.alert=!0,window.scroll(0,0),t.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}},{key:"handleSave",value:function(e){var t=this;this.currentDemand.Files&&(e.Files=this.currentDemand.Files),this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,e).subscribe(function(e){t.currentDraftId=e.ID,t.showSuccess()}))}},{key:"handleSendMessage",value:function(e){var t=this;this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(function(e){t.fetch(t.currentDemand.ID)}))}},{key:"handleRemoveFile",value:function(e){this.currentDemand.Files=this.currentDemand.Files.filter(function(t){return t!==e})}},{key:"getDraft",value:function(){var e=this;this.subscription$.add(this.demandService.prepareDemandByType("Factoring").subscribe(function(t){e.currentDemand=t,e.isLoading=!1}))}},{key:"fetch",value:function(e){var t=this;this.subscription$.add(this.demandService.getDemandById(e).subscribe(function(e){t.currentDemand=e.Data,t.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},t.isEdit=!0}))}},{key:"showSuccess",value:function(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}]),e}()).\u0275fac=function(e){return new(e||cs)(F.Kb(j.a),F.Kb(U.g),F.Kb(D),F.Kb(S.a),F.Kb(S.f),F.Kb(f.h))},cs.\u0275cmp=F.Eb({type:cs,selectors:[["app-demand-action-factoring-page"]],decls:14,vars:11,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["contentTemplate",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],["createTemplate",""],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[3,"isEdit","currentDemand","currentDraftId","save","create","back"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"isEdit","currentDemand","currentDraftId","back","save","create"]],template:function(e,t){if(1&e&&(F.Lb(0,"p-toast"),F.Qb(1,"div",0),F.Qb(2,"div",1),F.Qb(3,"div",2),F.Qb(4,"h2"),F.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433"),F.Pb(),F.Pb(),F.Qb(6,"div",3),F.Fc(7,es,1,0,"button",4),F.Pb(),F.Pb(),F.Qb(8,"p-messages",5),F.Xb("valueChange",function(e){return t.alertMessage=e}),F.Pb(),F.Fc(9,ts,2,3,"metib-backend-error-messages",6),F.bc(10,"async"),F.Fc(11,ns,3,0,"ng-container",7),F.Fc(12,os,3,2,"ng-template",null,8,F.Gc),F.Pb()),2&e){var n=F.vc(13);F.zb(1),F.hc("ngClass",F.mc(9,ss,t.isUserVerified)),F.zb(6),F.hc("ngIf",t.isEdit),F.zb(1),F.hc("value",t.alertMessage)("enableService",!1),F.zb(1),F.hc("ngIf",F.cc(10,7,t.backendErrors$)),F.zb(2),F.hc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[V.a,_.l,_.n,X.a,M.b,Qi.a,K.b,K.a,ye,Yc,Fe,De],pipes:[_.b],styles:[".description[_ngcontent-%COMP%]{font-family:Ubuntu;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#989898}.small[_ngcontent-%COMP%]{padding:5px!important;width:100px!important}[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}.passport-confirm[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;margin-bottom:20px}.btn-attention[_ngcontent-%COMP%]{max-width:280px;font-size:14px;padding:15px 0!important}.passport-owner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0!important}.passport-owner[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:10px!important}"]}),cs);function ds(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",9),F.Xb("click",function(){return F.yc(n),F.ac().back()}),F.Pb()}}function us(e,t){1&e&&(F.Ob(0),F.Hc(1,">"),F.Nb())}function bs(e,t){if(1&e&&(F.Qb(0,"p-tabPanel",18),F.Lb(1,"app-demand-result",19),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("result",n.currentDemand.Result)}}var fs=function(e){return{formFree:e}};function ps(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"p-tabView",10),F.Qb(2,"p-tabPanel",11),F.Qb(3,"app-demand-info",12),F.Xb("sendMessage",function(e){return F.yc(n),F.ac().handleSendMessage(e)}),F.Pb(),F.Pb(),F.Qb(4,"p-tabPanel",13),F.Fc(5,us,2,0,"ng-container",14),F.Pb(),F.Qb(6,"p-tabPanel",15),F.Qb(7,"app-demand-files",16),F.Xb("removeFile",function(e){return F.yc(n),F.ac().handleRemoveFile(e)}),F.Pb(),F.Pb(),F.Fc(8,bs,2,1,"p-tabPanel",17),F.Pb(),F.Nb()}if(2&e){var i=F.ac(),r=F.vc(13);F.zb(3),F.hc("currentDemandInfo",i.currentInformation),F.zb(2),F.hc("ngTemplateOutlet",r)("ngTemplateOutletContext",F.mc(5,fs,i.formFree)),F.zb(2),F.hc("currentDemandFiles",i.currentDemand.Files),F.zb(1),F.hc("ngIf",i.isView)}}function hs(e,t){1&e&&F.Mb(0)}function ms(e,t){if(1&e&&F.Fc(0,hs,1,0,"ng-container",14),2&e){var n=F.ac(),i=F.vc(13);F.hc("ngTemplateOutlet",i)("ngTemplateOutletContext",F.mc(2,fs,n.formFree))}}function gs(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",33),F.Qb(1,"button",9),F.Xb("click",function(){return F.yc(n),F.ac(2).back()}),F.Pb(),F.Pb()}}function vs(e,t){1&e&&(F.Qb(0,"small",35),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ps(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,vs,2,0,"small",34),F.Pb()),2&e){var n=F.ac().formFree;F.zb(1),F.hc("ngIf",n.controls.limit.errors.required)}}function ys(e,t){1&e&&(F.Qb(0,"small",35),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ks(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ys,2,0,"small",34),F.Pb()),2&e){var n=F.ac().formFree;F.zb(1),F.hc("ngIf",n.controls.comment.errors.required)}}function Is(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",50),F.Qb(1,"div",39),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",40),F.Qb(5,"div",51),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(4).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Fs(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Is,7,1,"div",49),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","OSV"===n.Identifier)}}function Qs(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Fs,2,1,"ng-container",48),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.hc("ngForOf",n.files)}}function Cs(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",50),F.Qb(1,"div",39),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",40),F.Qb(5,"div",51),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(4).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Ds(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Cs,7,1,"div",49),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Balance"===n.Identifier)}}function zs(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ds,2,1,"ng-container",48),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.hc("ngForOf",n.files)}}function Ss(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",50),F.Qb(1,"div",39),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",40),F.Qb(5,"div",51),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(4).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function ws(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Ss,7,1,"div",49),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Loans"===n.Identifier)}}function xs(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ws,2,1,"ng-container",48),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.hc("ngForOf",n.files)}}function Os(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"div",36),F.Hc(2," \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b: "),F.Pb(),F.Qb(3,"div",37),F.Qb(4,"div",38),F.Qb(5,"div",39),F.Qb(6,"p"),F.Hc(7," \u041e\u0431\u043e\u0440\u043e\u0442\u043d\u043e-\u0441\u0430\u043b\u044c\u0434\u043e\u0432\u0430\u044f \u0432\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c \u043f\u043e P/C \u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 12 \u043c\u0435\u0441\u044f\u0446\u0435\u0432 "),F.Pb(),F.Pb(),F.Qb(8,"div",40),F.Qb(9,"input",41),F.Xb("change",function(e){return F.yc(n),F.ac(2).onSelect(e,"OSV")}),F.Pb(),F.Qb(10,"label",42),F.Lb(11,"i",43),F.Hc(12," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(13,Qs,2,1,"div",27),F.Pb(),F.Qb(14,"div",37),F.Qb(15,"div",38),F.Qb(16,"div",39),F.Qb(17,"p"),F.Hc(18," \u041e\u0442\u0447\u0451\u0442\u043d\u043e\u0441\u0442\u044c \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u043e\u0442\u0447\u0435\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0411\u0411\u0438\u041e\u041f\u0438\u0423 "),F.Pb(),F.Pb(),F.Qb(19,"div",40),F.Qb(20,"input",44),F.Xb("change",function(e){return F.yc(n),F.ac(2).onSelect(e,"Balance")}),F.Pb(),F.Qb(21,"label",45),F.Lb(22,"i",43),F.Hc(23," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(24,zs,2,1,"div",27),F.Pb(),F.Qb(25,"div",37),F.Qb(26,"div",38),F.Qb(27,"div",39),F.Qb(28,"p"),F.Hc(29," \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u043e \u0437\u0430\u0439\u043c\u0430\u0445 \u0438 \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u0445 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443 "),F.Pb(),F.Pb(),F.Qb(30,"div",40),F.Qb(31,"input",46),F.Xb("change",function(e){return F.yc(n),F.ac(2).onSelect(e,"Loans")}),F.Pb(),F.Qb(32,"label",47),F.Lb(33,"i",43),F.Hc(34," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(35,xs,2,1,"div",27),F.Pb(),F.Nb()}if(2&e){var i=F.ac(2);F.zb(13),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.files.length)}}function _s(e,t){if(1&e){var n=F.Rb();F.Qb(0,"form",20),F.Xb("ngSubmit",function(){return F.yc(n),F.ac().onSubmit()}),F.Fc(1,gs,2,0,"div",21),F.Qb(2,"div",22),F.Qb(3,"div",23),F.Qb(4,"div",24),F.Qb(5,"div",25),F.Hc(6,"\u0422\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442"),F.Pb(),F.Lb(7,"p-inputNumber",26),F.Pb(),F.Fc(8,Ps,2,1,"div",27),F.Pb(),F.Qb(9,"div",23),F.Qb(10,"label",28),F.Hc(11,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),F.Pb(),F.Lb(12,"textarea",29),F.Fc(13,ks,2,1,"div",27),F.Pb(),F.Fc(14,Os,36,3,"ng-container",27),F.Qb(15,"div",30),F.Qb(16,"label",31),F.Hc(17,"\xa0"),F.Pb(),F.Lb(18,"button",32),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.formFree,r=F.ac();F.hc("formGroup",i),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(7),F.hc("ngIf",i.controls.limit.invalid),F.zb(5),F.hc("ngIf",i.controls.comment.invalid),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(4),F.hc("disabled",i.invalid||r.isLoading)}}var Es,As=function(e){return{"card-content":e}},Ns=((Es=function(){function e(t,n,i,a,o,c,s,l){r(this,e),this.authService=t,this.fb=n,this.demandService=i,this.commonService=a,this.messageService=o,this.fileService=c,this.route=s,this.router=l,this.isEdit=!1,this.alertMessage=[],this.files=[],this.currentDraftId=0,this.isLoading=!1,this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.subscription$.add(this.route.queryParams.subscribe(function(t){e.isView="true"===t.View,t.ID&&"false"===t.Edit&&e.fetch(t.ID),t.DraftId&&(e.currentDraftId=t.DraftID,e.isEdit=!0)})),this._saveDraftAction$=setInterval(function(){return e.saveDraft()},3e4)}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}},{key:"onSubmit",value:function(){var e=this;this.isLoading=!0;var t=this.prepareData();this.subscription$.add(this.demandService.add(t).subscribe(function(t){e.alert=!0,e.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}],e.isLoading=!1}))}},{key:"handleSendMessage",value:function(e){var t=this;this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(function(e){t.fetch(t.currentDemand.ID)}))}},{key:"handleRemoveFile",value:function(e){this.currentDemand.Files=this.currentDemand.Files.filter(function(t){return t!==e})}},{key:"fetch",value:function(e){var t=this;this.subscription$.add(this.demandService.getDemandById(e).subscribe(function(e){t.currentDemand=e,t.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(t.currentDemand),t.isEdit=!0,t.convertToFormData()}))}},{key:"convertToFormData",value:function(){var e=this.currentDemand.Data;this.formFree.patchValue({limit:e.Limit,comment:e.Comment})}},{key:"saveDraft",value:function(){var e=this;this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,this.prepareDraft()).subscribe(function(t){console.log(t),e.currentDraftId=t.ID,e.showSuccess()}))}},{key:"prepareDraft",value:function(){return this.prepareCoreData()}},{key:"prepareData",value:function(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}},{key:"prepareCoreData",value:function(){return{Limit:this.formFree.value.limit,Comment:this.formFree.value.comment,Files:this.files,Type:"Limit"}}},{key:"initForm",value:function(){this.formFree=this.fb.group({limit:[0,[N.x.required]],comment:["",[N.x.required]]}),this.formFree.markAllAsTouched(),this.formFree.markAsDirty()}},{key:"showSuccess",value:function(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}},{key:"removeFile",value:function(e){this.files.splice(this.files.indexOf(this.files.find(function(t){return t===e})),1)}},{key:"onSelect",value:function(e,n){var i,r=this,a=t(e.target.files);try{var o=function(){var e=i.value,t=E.a.newGuid();r.subscription$.add(r.commonService.getBase64(e).pipe(Object(P.a)(function(n){return r.fileService.uploadFileChunks(n,e.name,e.size.toString(),t)})).subscribe(function(e){console.log(e),r.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:n})},function(e){return console.log(e)}))};for(a.s();!(i=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}]),e}()).\u0275fac=function(e){return new(e||Es)(F.Kb(j.a),F.Kb(N.d),F.Kb(D),F.Kb($.a),F.Kb(U.g),F.Kb(G.a),F.Kb(S.a),F.Kb(S.f))},Es.\u0275cmp=F.Eb({type:Es,selectors:[["app-demand-action-limit-page"]],decls:14,vars:8,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-12","p-lg-12"],[1,"addon-input"],[1,"text"],["formControlName","limit","mode","currency","currency","RUB","locale","ru-RU"],[4,"ngIf"],["for","comment"],["id","comment","type","text","pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439","formControlName","comment",2,"resize","none"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],[1,"p-field","p-col-12"],[1,"p-field","p-col-12","p-md-6"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","OSV","multiple","true","hidden","",3,"change"],["for","OSV",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["type","file","id","Balance","multiple","true","hidden","",3,"change"],["for","Balance",1,"mib-upload"],["type","file","id","Loans","multiple","true","hidden","",3,"change"],["for","Loans",1,"mib-upload"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(F.Lb(0,"p-toast"),F.Qb(1,"div",0),F.Qb(2,"div",1),F.Qb(3,"div",2),F.Qb(4,"h2"),F.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430"),F.Pb(),F.Pb(),F.Qb(6,"div",3),F.Fc(7,ds,1,0,"button",4),F.Pb(),F.Pb(),F.Qb(8,"p-messages",5),F.Xb("valueChange",function(e){return t.alertMessage=e}),F.Pb(),F.Fc(9,ps,9,7,"ng-container",6),F.Fc(10,ms,1,4,"ng-template",null,7,F.Gc),F.Fc(12,_s,19,6,"ng-template",null,8,F.Gc),F.Pb()),2&e){var n=F.vc(11);F.zb(1),F.hc("ngClass",F.mc(6,As,t.isUserVerified)),F.zb(6),F.hc("ngIf",t.isEdit),F.zb(1),F.hc("value",t.alertMessage)("enableService",!1),F.zb(1),F.hc("ngIf",t.isEdit)("ngIfElse",n)}},directives:[V.a,_.l,_.n,X.a,M.b,K.b,K.a,ye,_.s,Fe,De,N.y,N.q,N.h,vt.a,N.p,N.f,N.b,de.a,_.m],styles:[""]}),Es);function Ts(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",10),F.Xb("click",function(){return F.yc(n),F.ac().back()}),F.Pb()}}function Ls(e,t){if(1&e&&(F.Lb(0,"metib-backend-error-messages",11),F.bc(1,"async")),2&e){var n=F.ac();F.hc("backendErrors",F.cc(1,1,n.backendErrors$))}}function Hs(e,t){1&e&&F.Mb(0)}function Bs(e,t){if(1&e&&(F.Qb(0,"p-tabPanel",20),F.Lb(1,"app-demand-result",21),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("result",n.currentDemand.Result)}}var Rs=function(e){return{formFree:e}};function Ms(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"p-tabView",12),F.Qb(2,"p-tabPanel",13),F.Qb(3,"app-demand-info",14),F.Xb("sendMessage",function(e){return F.yc(n),F.ac().handleSendMessage(e)}),F.Pb(),F.Pb(),F.Qb(4,"p-tabPanel",15),F.Fc(5,Hs,1,0,"ng-container",16),F.Pb(),F.Qb(6,"p-tabPanel",17),F.Qb(7,"app-demand-files",18),F.Xb("removeFile",function(e){return F.yc(n),F.ac().handleRemoveFile(e)}),F.Pb(),F.Pb(),F.Fc(8,Bs,2,1,"p-tabPanel",19),F.Pb(),F.Nb()}if(2&e){var i=F.ac(),r=F.vc(15);F.zb(3),F.hc("currentDemandInfo",i.currentInformation),F.zb(2),F.hc("ngTemplateOutlet",r)("ngTemplateOutletContext",F.mc(5,Rs,i.formFree)),F.zb(2),F.hc("currentDemandFiles",i.currentDemand.Files),F.zb(1),F.hc("ngIf",i.isView)}}function qs(e,t){1&e&&F.Mb(0)}function js(e,t){if(1&e&&F.Fc(0,qs,1,0,"ng-container",16),2&e){var n=F.ac(),i=F.vc(15);F.hc("ngTemplateOutlet",i)("ngTemplateOutletContext",F.mc(2,Rs,n.formFree))}}function Us(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",35),F.Qb(1,"button",10),F.Xb("click",function(){return F.yc(n),F.ac(2).back()}),F.Pb(),F.Pb()}}function $s(e,t){1&e&&(F.Qb(0,"small",37),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Gs(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,$s,2,0,"small",36),F.Pb()),2&e){var n=F.ac().formFree;F.zb(1),F.hc("ngIf",n.controls.subject.errors.required)}}function Vs(e,t){1&e&&(F.Qb(0,"small",37),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Xs(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Vs,2,0,"small",36),F.Pb()),2&e){var n=F.ac().formFree;F.zb(1),F.hc("ngIf",n.controls.question.errors.required)}}function Ks(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",47),F.Qb(1,"div",40),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",41),F.Qb(5,"div",48),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(4).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Ws(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Ks,7,1,"div",46),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","All"===n.Identifier)}}function Zs(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ws,2,1,"ng-container",45),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.hc("ngForOf",n.files)}}function Js(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",38),F.Qb(1,"div",39),F.Qb(2,"div",40),F.Qb(3,"p"),F.Hc(4," \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b: "),F.Pb(),F.Pb(),F.Qb(5,"div",41),F.Qb(6,"input",42),F.Xb("change",function(e){return F.yc(n),F.ac(2).onSelect(e,"All")}),F.Pb(),F.Qb(7,"label",43),F.Lb(8,"i",44),F.Hc(9," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(10,Zs,2,1,"div",28),F.Pb()}if(2&e){var i=F.ac(2);F.zb(10),F.hc("ngIf",i.files.length)}}function Ys(e,t){if(1&e){var n=F.Rb();F.Qb(0,"form",22),F.Xb("ngSubmit",function(){return F.yc(n),F.ac().onSubmit()}),F.Fc(1,Us,2,0,"div",23),F.Qb(2,"div",24),F.Qb(3,"div",25),F.Qb(4,"label",26),F.Hc(5,"\u0422\u0435\u043c\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(6,"input",27),F.Fc(7,Gs,2,1,"div",28),F.Pb(),F.Qb(8,"div",25),F.Qb(9,"label",29),F.Hc(10,"\u0412\u043e\u043f\u0440\u043e\u0441"),F.Pb(),F.Lb(11,"textarea",30),F.Fc(12,Xs,2,1,"div",28),F.Pb(),F.Fc(13,Js,11,1,"div",31),F.Qb(14,"div",32),F.Qb(15,"label",33),F.Hc(16,"\xa0"),F.Pb(),F.Lb(17,"button",34),F.bc(18,"async"),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.formFree,r=F.ac();F.hc("formGroup",i),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(6),F.hc("ngIf",i.controls.subject.invalid),F.zb(5),F.hc("ngIf",i.controls.question.invalid),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(4),F.hc("disabled",i.invalid||F.cc(18,6,r.isLoading$))}}var el,tl,nl=function(e){return{"card-content":e}},il=((el=function(){function e(t,n,i,a,o,c,s,l,d){r(this,e),this.authService=t,this.fb=n,this.demandService=i,this.commonService=a,this.messageService=o,this.fileService=c,this.route=s,this.router=l,this.store=d,this.alertMessage=[],this.isEdit=!1,this.isLoading$=new x.a,this.files=[],this.currentDraftId=0,this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.initValues(),this.subscription$.add(this.route.queryParams.subscribe(function(t){e.isView="true"===t.View,t.ID&&"false"===t.Edit&&e.fetch(t.ID),t.DraftId&&(e.currentDraftId=t.DraftID,e.isEdit=!0)})),this._saveDraftAction$=setInterval(function(){return e.saveDraft()},3e4)}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}},{key:"onSubmit",value:function(){var e=this,t=this.prepareData();this.subscription$.add(this.demandService.add(t).subscribe(function(t){e.alert=!0,e.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}},{key:"removeFile",value:function(e){this.files.splice(this.files.indexOf(this.files.find(function(t){return t===e})),1)}},{key:"onSelect",value:function(e,n){var i,r=this,a=t(e.target.files);try{var o=function(){var e=i.value,t=E.a.newGuid();r.commonService.getBase64(e).pipe(Object(P.a)(function(n){return r.fileService.uploadFileChunks(n,e.name,e.size.toString(),t)})).subscribe(function(e){console.log(e),r.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:n})},function(e){return console.log(e)})};for(a.s();!(i=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}}},{key:"saveDraft",value:function(){var e=this;this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,this.prepareDraft()).subscribe(function(t){console.log(t),e.currentDraftId=t.ID,e.showSuccess()}))}},{key:"handleSendMessage",value:function(e){var t=this;this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(function(e){t.fetch(t.currentDemand.ID)}))}},{key:"handleRemoveFile",value:function(e){this.currentDemand.Files=this.currentDemand.Files.filter(function(t){return t!==e})}},{key:"fetch",value:function(e){var t=this;this.subscription$.add(this.demandService.getDemandById(e).subscribe(function(e){t.currentDemand=e,t.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(t.currentDemand),t.isEdit=!0,t.convertToFormData()}))}},{key:"convertToFormData",value:function(){var e=this.currentDemand.Data;this.formFree.patchValue({subject:e.Subject,question:e.Question})}},{key:"prepareDraft",value:function(){return{Question:this.formFree.value.question,Subject:this.formFree.value.subject,Files:this.files,Type:"Question"}}},{key:"prepareData",value:function(){return{Data:{Question:this.formFree.value.question,Subject:this.formFree.value.subject,Files:this.files,Type:"Question"},DraftID:this.currentDraftId}}},{key:"initForm",value:function(){this.formFree=this.fb.group({subject:["",[N.x.required]],question:["",[N.x.required]]}),this.formFree.markAllAsTouched(),this.formFree.markAsDirty()}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}},{key:"initValues",value:function(){this.isLoading$=this.store.pipe(Object(f.t)(Ki)),this.backendErrors$=this.store.pipe(Object(f.t)(Wi))}},{key:"showSuccess",value:function(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}}]),e}()).\u0275fac=function(e){return new(e||el)(F.Kb(j.a),F.Kb(N.d),F.Kb(D),F.Kb($.a),F.Kb(U.g),F.Kb(G.a),F.Kb(S.a),F.Kb(S.f),F.Kb(f.h))},el.\u0275cmp=F.Eb({type:el,selectors:[["app-demand-action-request-free-page"]],decls:16,vars:11,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-12","p-lg-12"],["for","subject"],["id","subject","type","text","pInputText","","placeholder","\u0422\u0435\u043c\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f","formControlName","subject"],[4,"ngIf"],["for","question"],["id","question","type","text","pInputTextarea","","placeholder","\u0412\u043e\u043f\u0440\u043e\u0441","formControlName","question",2,"resize","none"],["class","p-field p-col-12 p-md-6",4,"ngIf"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],[1,"p-field","p-col-12","p-md-6"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","All","hidden","",3,"change"],["for","All",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(F.Lb(0,"p-toast"),F.Qb(1,"div",0),F.Qb(2,"div",1),F.Qb(3,"div",2),F.Qb(4,"h2"),F.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0422\u0435\u043c\u0443"),F.Pb(),F.Pb(),F.Qb(6,"div",3),F.Fc(7,Ts,1,0,"button",4),F.Pb(),F.Pb(),F.Qb(8,"p-messages",5),F.Xb("valueChange",function(e){return t.alertMessage=e}),F.Pb(),F.Fc(9,Ls,2,3,"metib-backend-error-messages",6),F.bc(10,"async"),F.Fc(11,Ms,9,7,"ng-container",7),F.Fc(12,js,1,4,"ng-template",null,8,F.Gc),F.Fc(14,Ys,19,8,"ng-template",null,9,F.Gc),F.Pb()),2&e){var n=F.vc(13);F.zb(1),F.hc("ngClass",F.mc(9,nl,t.isUserVerified)),F.zb(6),F.hc("ngIf",t.isEdit),F.zb(1),F.hc("value",t.alertMessage)("enableService",!1),F.zb(1),F.hc("ngIf",F.cc(10,7,t.backendErrors$)),F.zb(2),F.hc("ngIf",t.isEdit)("ngIfElse",n)}},directives:[V.a,_.l,_.n,X.a,M.b,Qi.a,K.b,K.a,ye,_.s,Fe,De,N.y,N.q,N.h,N.b,B.a,N.p,N.f,de.a,_.m],pipes:[_.b],styles:["[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}"]}),el),rl=function(e){return{"card-content":e}},al=((tl=function(){function e(t,n){r(this,e),this.authService=t,this.router=n}return o(e,[{key:"ngOnInit",value:function(){this.isUserVerified=this.authService.isUserVerified()}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"ngOnDestroy",value:function(){}},{key:"a",value:function(){}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}]),e}()).\u0275fac=function(e){return new(e||tl)(F.Kb(j.a),F.Kb(S.f))},tl.\u0275cmp=F.Eb({type:tl,selectors:[["app-demand-action-request-support-page"]],decls:7,vars:3,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined",3,"click"]],template:function(e,t){1&e&&(F.Qb(0,"div",0),F.Qb(1,"div",1),F.Qb(2,"div",2),F.Qb(3,"h2"),F.Hc(4,"\u0417\u0430\u0434\u0430\u0442\u044c \u0432 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443"),F.Pb(),F.Pb(),F.Qb(5,"div",3),F.Qb(6,"button",4),F.Xb("click",function(){return t.back()}),F.Pb(),F.Pb(),F.Pb(),F.Pb()),2&e&&F.hc("ngClass",F.mc(1,rl,t.isUserVerified))},directives:[_.l,M.b],styles:[""]}),tl);function ol(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",62),F.Xb("click",function(){return F.yc(n),F.ac().onBack()}),F.Pb()}}function cl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function sl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,cl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationShortName.errors.required)}}function ll(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function dl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0418\u041d\u041d (10 \u0438\u043b\u0438 12 \u0446\u0438\u0444\u0440). "),F.Pb())}function ul(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,ll,2,0,"small",63),F.Fc(2,dl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationINN.errors.required),F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationINN.errors.minlength)}}function bl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function fl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,bl,2,0,"small",63),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationLegalForm.errors.required)}}function pl(e,t){if(1&e&&(F.Qb(0,"div",4),F.Qb(1,"label",65),F.Hc(2,"\u041f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430"),F.Pb(),F.Lb(3,"p-dropdown",66),F.Fc(4,fl,2,1,"div",7),F.Pb()),2&e){var n=F.ac();F.zb(3),F.hc("options",n.ruleTypes),F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationLegalForm.invalid)}}function hl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ml(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,hl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationPhone.errors.required)}}function gl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function vl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443. "),F.Pb())}function Pl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,gl,2,0,"small",63),F.Fc(2,vl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationEmail.errors.required),F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationEmail.errors.email)}}function yl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function kl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,yl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.organizationWEB.errors.required)}}function Il(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0411\u0418\u041a \u0431\u0430\u043d\u043a\u0430 (9 \u0446\u0438\u0444\u0440). "),F.Pb())}function Fl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Il,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankBik.errors.required)}}function Ql(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u0440 \u0441\u0447\u0435\u0442 (20 \u0446\u0438\u0444\u0440) "),F.Pb())}function Cl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ql,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankCorrespondentAccount.errors.required)}}function Dl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function zl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Dl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankName.errors.required)}}function Sl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function wl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Sl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankAccountOpenDate.errors.required)}}function xl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),F.Pb())}function Ol(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,xl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankOwnerAccount.errors.required)}}function _l(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function El(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,_l,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.bankComment.errors.required)}}function Al(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Nl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Al,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("otherBanks").controls[n].get("otherBankAccountOpenDate").errors.required)}}function Tl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ll(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Tl,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("otherBanks").controls[n].get("otherBankName").errors.required)}}function Hl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),F.Pb())}function Bl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Hl,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("otherBanks").controls[n].get("otherBankOwnerAccount").errors.required)}}function Rl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ml(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Rl,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("otherBanks").controls[n].get("otherBankTarget").errors.required)}}function ql(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",67),F.Qb(1,"div",68),F.Qb(2,"div",69),F.Hc(3," \u0421\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435 "),F.Pb(),F.Qb(4,"button",70),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().remove(e,"otherBanks")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",71),F.Qb(7,"div",72),F.Qb(8,"div",73),F.Qb(9,"div",21),F.Qb(10,"label",74),F.Hc(11,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(12,"input",75),F.Fc(13,Nl,2,1,"div",7),F.Pb(),F.Qb(14,"div",21),F.Qb(15,"label",76),F.Hc(16,"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(17,"input",77),F.Pb(),F.Qb(18,"div",17),F.Qb(19,"label",78),F.Hc(20,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Qb(21,"p-autoComplete",79),F.Xb("completeMethod",function(e){return F.yc(n),F.ac().searchByBankName(e)})("onSelect",function(e){F.yc(n);var i=t.index,r=F.ac();return r.onOtherBankSelect(r.formFactoring.get("otherBanks").controls[i],e)}),F.Pb(),F.Fc(22,Ll,2,1,"div",7),F.Pb(),F.Qb(23,"div",17),F.Qb(24,"label",80),F.Hc(25,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(26,"p-inputMask",81),F.Fc(27,Bl,2,1,"div",7),F.Pb(),F.Qb(28,"div",17),F.Qb(29,"label",82),F.Hc(30,"\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"),F.Pb(),F.Lb(31,"input",83),F.Fc(32,Ml,2,1,"div",7),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac();F.zb(7),F.hc("formGroupName",i),F.zb(6),F.hc("ngIf",r.formFactoring.get("otherBanks").controls[i].get("otherBankAccountOpenDate").invalid),F.zb(8),F.hc("suggestions",r.resultsBankname),F.zb(1),F.hc("ngIf",r.formFactoring.get("otherBanks").controls[i].get("otherBankName").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("otherBanks").controls[i].get("otherBankOwnerAccount").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("otherBanks").controls[i].get("otherBankTarget").invalid)}}function jl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Ul(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,jl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringProducts.errors.required)}}function $l(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Gl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,$l,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringTradeMarks.errors.required)}}function Vl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Xl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Vl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringShipments.errors.required)}}function Kl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Wl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Kl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringFinanceLimit.errors.required)}}function Zl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Jl(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Zl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringClients.errors.required)}}function Yl(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ed(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Yl,2,0,"small",63),F.Pb()),2&e){var n=F.ac();F.zb(1),F.hc("ngIf",n.formFactoring.controls.factoringWorkers.errors.required)}}function td(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",84),F.Qb(1,"div",68),F.Qb(2,"div",69),F.Hc(3," \u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),F.Pb(),F.Qb(4,"button",70),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().remove(e,"factoringPlaces")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",71),F.Qb(7,"div",72),F.Qb(8,"div",73),F.Qb(9,"div",17),F.Qb(10,"label",85),F.Hc(11,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430"),F.Pb(),F.Qb(12,"div",35),F.Lb(13,"input",86),F.Qb(14,"button",87),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().openAddressForm(e)}),F.Pb(),F.Pb(),F.Pb(),F.Qb(15,"div",17),F.Qb(16,"label",88),F.Hc(17,"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(18,"p-dropdown",89),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac();F.zb(7),F.hc("formGroupName",i),F.zb(11),F.hc("options",r.typesOfOwner)}}function nd(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function id(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,nd,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringCreditsCreditor").errors.required)}}function rd(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ad(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,rd,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesTypeDuty").errors.required)}}function od(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function cd(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,od,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesDateClose").errors.required)}}function sd(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ld(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,sd,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesContractSum").errors.required)}}function dd(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ud(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,dd,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesBalanceReport").errors.required)}}function bd(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function fd(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,bd,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringCredits").controls[n].get("factoringPlacesBalanceCurrent").errors.required)}}function pd(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",90),F.Qb(1,"div",68),F.Qb(2,"div",69),F.Hc(3," \u041a\u0440\u0435\u0434\u0438\u0442, \u0437\u0430\u0439\u043c, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f, ... "),F.Pb(),F.Qb(4,"button",70),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().remove(e,"factoringCredits")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",71),F.Qb(7,"div",72),F.Qb(8,"div",73),F.Qb(9,"div",4),F.Qb(10,"label",91),F.Hc(11,"\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440"),F.Pb(),F.Lb(12,"input",92),F.Fc(13,id,2,1,"div",7),F.Pb(),F.Qb(14,"div",4),F.Qb(15,"label",93),F.Hc(16,"\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"),F.Pb(),F.Lb(17,"input",94),F.Fc(18,ad,2,1,"div",7),F.Pb(),F.Qb(19,"div",4),F.Qb(20,"label",95),F.Hc(21,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f"),F.Pb(),F.Lb(22,"input",96),F.Fc(23,cd,2,1,"div",7),F.Pb(),F.Qb(24,"div",4),F.Qb(25,"label",97),F.Hc(26,"\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),F.Pb(),F.Lb(27,"input",98),F.Fc(28,ld,2,1,"div",7),F.Pb(),F.Qb(29,"div",99),F.Qb(30,"label",100),F.Hc(31,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438"),F.Pb(),F.Lb(32,"input",101),F.Fc(33,ud,2,1,"div",7),F.Pb(),F.Qb(34,"div",99),F.Qb(35,"label",102),F.Hc(36,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443"),F.Pb(),F.Lb(37,"input",103),F.Fc(38,fd,2,1,"div",7),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac();F.zb(7),F.hc("formGroupName",i),F.zb(6),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringCreditsCreditor").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesTypeDuty").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesDateClose").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesContractSum").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesBalanceReport").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringCredits").controls[i].get("factoringPlacesBalanceCurrent").invalid)}}function hd(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function md(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,hd,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringEDIProviders").controls[n].get("factoringEDIProvidersDebitor").errors.required)}}function gd(e,t){1&e&&(F.Qb(0,"small",64),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function vd(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,gd,2,0,"small",63),F.Pb()),2&e){var n=F.ac().index,i=F.ac();F.zb(1),F.hc("ngIf",i.formFactoring.get("factoringEDIProviders").controls[n].get("factoringEDIProvidersProvider").errors.required)}}function Pd(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",104),F.Qb(1,"div",68),F.Qb(2,"div",69),F.Hc(3," EDI "),F.Pb(),F.Qb(4,"button",70),F.Xb("click",function(){F.yc(n);var e=t.index;return F.ac().remove(e,"factoringEDIProviders")}),F.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(6,"div",71),F.Qb(7,"div",72),F.Qb(8,"div",73),F.Qb(9,"div",17),F.Qb(10,"label",105),F.Hc(11,"\u0414\u0435\u0431\u0438\u0442\u043e\u0440"),F.Pb(),F.Lb(12,"input",106),F.Fc(13,md,2,1,"div",7),F.Pb(),F.Qb(14,"div",17),F.Qb(15,"label",107),F.Hc(16,"EDI-\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440"),F.Pb(),F.Lb(17,"input",108),F.Fc(18,vd,2,1,"div",7),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.index,r=F.ac();F.zb(7),F.hc("formGroupName",i),F.zb(6),F.hc("ngIf",r.formFactoring.get("factoringEDIProviders").controls[i].get("factoringEDIProvidersDebitor").invalid),F.zb(5),F.hc("ngIf",r.formFactoring.get("factoringEDIProviders").controls[i].get("factoringEDIProvidersProvider").invalid)}}function yd(e,t){1&e&&(F.Qb(0,"div",128),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function kd(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",131),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",132),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Id(e,t){if(1&e&&(F.Ob(0),F.Fc(1,kd,7,1,"div",130),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Regulations"===n.Identifier)}}function Fd(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Id,2,1,"ng-container",129),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Qd(e,t){1&e&&(F.Qb(0,"div",128),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Cd(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",131),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",132),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Dd(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Cd,7,1,"div",130),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","GenDirPassport"===n.Identifier)}}function zd(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Dd,2,1,"ng-container",129),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Sd(e,t){1&e&&(F.Qb(0,"div",128),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function wd(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",131),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",132),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function xd(e,t){if(1&e&&(F.Ob(0),F.Fc(1,wd,7,1,"div",130),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","GenDirProtocol"===n.Identifier)}}function Od(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,xd,2,1,"ng-container",129),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function _d(e,t){1&e&&(F.Qb(0,"div",128),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Ed(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",131),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",132),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Ad(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Ed,7,1,"div",130),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","GenDirOrder"===n.Identifier)}}function Nd(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Ad,2,1,"ng-container",129),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Td(e,t){1&e&&(F.Qb(0,"div",128),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Ld(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",131),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",132),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Hd(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Ld,7,1,"div",130),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Balance"===n.Identifier)}}function Bd(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Hd,2,1,"ng-container",129),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Rd(e,t){1&e&&(F.Qb(0,"div",128),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function Md(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",131),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",132),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function qd(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Md,7,1,"div",130),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","OSV"===n.Identifier)}}function jd(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,qd,2,1,"ng-container",129),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Ud(e,t){1&e&&(F.Qb(0,"div",128),F.Qb(1,"small",64),F.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),F.Pb(),F.Pb())}function $d(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",131),F.Qb(1,"div",110),F.Qb(2,"p"),F.Hc(3),F.Pb(),F.Pb(),F.Qb(4,"div",111),F.Qb(5,"div",132),F.Xb("click",function(){F.yc(n);var e=F.ac().$implicit;return F.ac(3).removeFile(e)}),F.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.ac().$implicit;F.zb(3),F.Jc(" ",i.FileName," ")}}function Gd(e,t){if(1&e&&(F.Ob(0),F.Fc(1,$d,7,1,"div",130),F.Nb()),2&e){var n=t.$implicit;F.zb(1),F.hc("ngIf","Shareholders"===n.Identifier)}}function Vd(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Gd,2,1,"ng-container",129),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.hc("ngForOf",n.files)}}function Xd(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"div",20),F.Qb(2,"p"),F.Hc(3,"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:"),F.Pb(),F.Pb(),F.Qb(4,"div",17),F.Qb(5,"div",109),F.Qb(6,"div",110),F.Qb(7,"p"),F.Hc(8," \u0423\u0441\u0442\u0430\u0432 (\u0421\u043e \u0432\u0441\u0435\u043c\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438) "),F.Pb(),F.Pb(),F.Qb(9,"div",111),F.Qb(10,"input",112),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"Regulations")}),F.Pb(),F.Qb(11,"label",113),F.Lb(12,"i",114),F.Hc(13," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(14,yd,3,0,"div",115),F.Fc(15,Fd,2,1,"div",7),F.Pb(),F.Qb(16,"div",17),F.Qb(17,"div",109),F.Qb(18,"div",110),F.Qb(19,"p"),F.Hc(20," \u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 (\u0412\u0441\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) "),F.Pb(),F.Pb(),F.Qb(21,"div",111),F.Qb(22,"input",116),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"GenDirPassport")}),F.Pb(),F.Qb(23,"label",117),F.Lb(24,"i",114),F.Hc(25," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(26,Qd,3,0,"div",115),F.Fc(27,zd,2,1,"div",7),F.Pb(),F.Qb(28,"div",17),F.Qb(29,"div",109),F.Qb(30,"div",110),F.Qb(31,"p"),F.Hc(32," \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b/\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),F.Pb(),F.Pb(),F.Qb(33,"div",111),F.Qb(34,"input",118),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"GenDirProtocol")}),F.Pb(),F.Qb(35,"label",119),F.Lb(36,"i",114),F.Hc(37," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(38,Sd,3,0,"div",115),F.Fc(39,Od,2,1,"div",7),F.Pb(),F.Qb(40,"div",17),F.Qb(41,"div",109),F.Qb(42,"div",110),F.Qb(43,"p"),F.Hc(44," \u041f\u0440\u0438\u043a\u0430\u0437 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),F.Pb(),F.Pb(),F.Qb(45,"div",111),F.Qb(46,"input",120),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"GenDirOrder")}),F.Pb(),F.Qb(47,"label",121),F.Lb(48,"i",114),F.Hc(49," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(50,_d,3,0,"div",115),F.Fc(51,Nd,2,1,"div",7),F.Pb(),F.Qb(52,"div",17),F.Qb(53,"div",109),F.Qb(54,"div",110),F.Qb(55,"p"),F.Hc(56," \u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0441\u043a\u0438\u0439 \u0411\u0430\u043b\u0430\u043d\u0441 "),F.Pb(),F.Pb(),F.Qb(57,"div",111),F.Qb(58,"input",122),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"Balance")}),F.Pb(),F.Qb(59,"label",123),F.Lb(60,"i",114),F.Hc(61," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(62,Td,3,0,"div",115),F.Fc(63,Bd,2,1,"div",7),F.Pb(),F.Qb(64,"div",17),F.Qb(65,"div",109),F.Qb(66,"div",110),F.Qb(67,"p"),F.Hc(68," \u041e\u0421\u0412 (\u043e\u0431\u043e\u0440\u043e\u0442\u043d\u043e-\u0441\u0430\u043b\u044c\u0434\u043e\u0432\u0430\u044f \u0432\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c) "),F.Pb(),F.Pb(),F.Qb(69,"div",111),F.Qb(70,"input",124),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"OSV")}),F.Pb(),F.Qb(71,"label",125),F.Lb(72,"i",114),F.Hc(73," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(74,Rd,3,0,"div",115),F.Fc(75,jd,2,1,"div",7),F.Pb(),F.Qb(76,"div",99),F.Qb(77,"div",109),F.Qb(78,"div",110),F.Qb(79,"p"),F.Hc(80," \u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0423\u0447\u0440\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439 "),F.Pb(),F.Pb(),F.Qb(81,"div",111),F.Qb(82,"input",126),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"Shareholders")}),F.Pb(),F.Qb(83,"label",127),F.Lb(84,"i",114),F.Hc(85," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Fc(86,Ud,3,0,"div",115),F.Fc(87,Vd,2,1,"div",7),F.Pb(),F.Nb()}if(2&e){var i=F.ac();F.zb(14),F.hc("ngIf",i.isFileInvalid("Regulations")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("GenDirPassport")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("GenDirProtocol")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("GenDirOrder")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("Balance")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("OSV")),F.zb(1),F.hc("ngIf",i.files.length),F.zb(11),F.hc("ngIf",i.isFileInvalid("Shareholders")),F.zb(1),F.hc("ngIf",i.files.length)}}var Kd,Wd=((Kd=function(){function e(t,n,i,a,o,c){r(this,e),this.dialogService=t,this.messageService=n,this.commonService=i,this.fileService=a,this.currencyPipe=o,this.fb=c,this.save=new F.n,this.create=new F.n,this.back=new F.n,this.organizationTypes=[],this.ruleTypes=[],this.typesOfOwner=[],this.files=[],this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.initForm(),this.initValues(),this.currentDemand&&this.convertToFormData(),this._saveDraftAction$=setInterval(function(){return e.saveDraft()},3e4)}},{key:"onBack",value:function(){this.back.emit()}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}},{key:"onSubmit",value:function(){this.create.emit(this.prepareData())}},{key:"saveDraft",value:function(){this.save.emit(this.prepareDraft())}},{key:"search",value:function(e){var t=this;this.subscription$.add(this.commonService.getBankByBIK(e.query).subscribe(function(e){t.banksFounded=e,t.resultsBIK=e.map(function(e){return e.BIC})}))}},{key:"onOtherBankSelect",value:function(e,t){var n=this.banksFounded.find(function(e){return e.BIC===t||e.Name===t});this.formFactoring.get("otherBanks").controls[e].patchValue({otherBankName:n.Name})}},{key:"onBankSelect",value:function(e){var t=this.banksFounded.find(function(t){return t.BIC===e||t.Name===e});this.formFactoring.patchValue({bankBik:t.BIC,bankCorrespondentAccount:t.AccountBank,bankName:t.Name})}},{key:"searchByBankName",value:function(e){var t=this;this.subscription$.add(this.commonService.getBankByName(e.query).subscribe(function(e){t.banksFounded=e,t.resultsBankname=e.map(function(e){return e.Name})}))}},{key:"addOtherBank",value:function(e){this.formFactoring.get("otherBanks").push(this.fb.group({otherBankAccountOpenDate:[(null==e?void 0:e.Date)?Object(_.x)(null==e?void 0:e.Date,"yyyy-MM-dd","en"):"",[N.x.required]],otherBankAccountCloseDate:[(null==e?void 0:e.Expire)?Object(_.x)(null==e?void 0:e.Expire,"yyyy-MM-dd","en"):""],otherBankName:[(null==e?void 0:e.Bank)?null==e?void 0:e.Bank:"",[N.x.required]],otherBankOwnerAccount:[(null==e?void 0:e.Number)?null==e?void 0:e.Number:"",[N.x.required]],otherBankTarget:[(null==e?void 0:e.Comment)?null==e?void 0:e.Comment:"",[N.x.required]]}))}},{key:"addOtherPlace",value:function(e){var t=this.formFactoring.get("factoringPlaces");t.push(this.fb.group({displayAddress:"",factoringPlacesAddress:{PostCode:e?e.Address.PostCode:"",Country:e?e.Address.Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:e?e.Address.RegionCode:77,RegionTitle:e?e.Address.RegionTitle:"",City:e?e.Address.City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:e?e.Address.District:"",Locality:e?e.Address.Locality:"",Street:e?e.Address.Street:"",House:e?e.Address.House:"",Appartment:e?e.Address.Appartment:""},factoringPlacesLegalForm:["Own",[N.x.required]]})),this.updateDisplayAddress(t.length-1)}},{key:"addFactoringCredits",value:function(e){this.formFactoring.get("factoringCredits").push(this.fb.group({factoringCreditsCreditor:[e?e.Creditor:""],factoringPlacesTypeDuty:[e?e.Type:""],factoringPlacesDateClose:[e?Object(_.x)(e.Date,"yyyy-MM-dd","en"):""],factoringPlacesContractSum:[e?e.Summ:""],factoringPlacesBalanceReport:[e?e.ReportingRest:""],factoringPlacesBalanceCurrent:[e?e.CurrentRest:""]}))}},{key:"addEDIProvider",value:function(e){this.formFactoring.get("factoringEDIProviders").push(this.fb.group({factoringEDIProvidersDebitor:[e?e.Company:"",[N.x.required]],factoringEDIProvidersProvider:[e?e.EDIProvider:"",[N.x.required]]}))}},{key:"remove",value:function(e,t){this.formFactoring.get(t).removeAt(e)}},{key:"openAddressForm",value:function(e){var t=this;this.currentAddressFormId=e,this.ref=this.dialogService.open(q,{header:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441",width:"650px",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,styleClass:"p-fluid",data:{address:this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,index:e}}),this.ref.onClose.subscribe(function(e){e&&(t.formFactoring.value.factoringPlaces[t.currentAddressFormId].factoringPlacesAddress=e,t.updateDisplayAddress(t.currentAddressFormId))})}},{key:"isFilesInvalid",value:function(){var e=this.files.map(function(e){return e.Identifier});return e.length<1||!(e.includes("Regulations")&&e.includes("GenDirPassport")&&e.includes("GenDirProtocol")&&e.includes("GenDirOrder")&&e.includes("Balance")&&e.includes("OSV")&&e.includes("Shareholders"))}},{key:"isFileInvalid",value:function(e){return!this.files.map(function(e){return e.Identifier}).includes(e)}},{key:"onSelect",value:function(e,n){var i,r=this,a=t(e.target.files);try{var o=function(){var e=i.value,t=E.a.newGuid();r.subscription$.add(r.commonService.getBase64(e).pipe(Object(P.a)(function(n){return r.fileService.uploadFileChunks(n,e.name,e.size.toString(),t)})).subscribe(function(e){console.log(e),r.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:n})},function(e){return console.log(e)}))};for(a.s();!(i=a.n()).done;)o()}catch(c){a.e(c)}finally{a.f()}}},{key:"removeFile",value:function(e){this.files.splice(this.files.indexOf(this.files.find(function(t){return t===e})),1)}},{key:"onTypeChanged",value:function(e){0===e&&this.formFactoring.patchValue({organizationLegalForm:null})}},{key:"updateDisplayAddress",value:function(e){var t=this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,n="";console.log(t),t.PostCode&&(n=n+" "+t.PostCode),t.Country&&(n=n+" "+t.Country),t.RegionCode&&(n=n+" "+t.RegionCode),t.RegionTitle&&(n=n+" "+t.RegionTitle),t.City&&(n=n+" "+t.City),t.District&&(n=n+" "+t.District),t.Locality&&(n=n+" "+t.Locality),t.Street&&(n=n+" "+t.Street),t.House&&(n=n+" "+t.House),t.Appartment&&(n=n+" "+t.Appartment),this.formFactoring.controls.factoringPlaces.at(e).patchValue({displayAddress:n,factoringPlacesAddress:t})}},{key:"initValues",value:function(){var e=new L.a;this.organizationTypes=e.getOrganizations(),this.ruleTypes=e.getLegalForms(),this.typesOfOwner=e.getTypesOfOwner()}},{key:"initForm",value:function(){this.formFactoring=this.fb.group({organizationType:[0,[N.x.required]],organizationLegalForm:[""],organizationShortName:["",[N.x.required]],organizationINN:["",[N.x.required,N.x.minLength(10),N.x.maxLength(12)]],organizationPhone:["",[N.x.required]],organizationEmail:["",[N.x.required,N.x.email]],organizationWEB:[""],bankBik:["",[N.x.required]],bankCorrespondentAccount:["",[N.x.required]],bankName:["",[N.x.required]],bankAccountOpenDate:["",[N.x.required]],bankOwnerAccount:["",[N.x.required]],bankComment:[""],otherBanks:this.fb.array([]),factoringProducts:["",[N.x.required]],factoringTradeMarks:["",[N.x.required]],factoringShipments:["",[N.x.required]],factoringFinanceLimit:[null,[N.x.required]],factoringClients:["",[N.x.required]],factoringWorkers:[0,[N.x.required]],factoringPlaces:this.fb.array([]),factoringCredits:this.fb.array([]),factoringEDIProviders:this.fb.array([])}),this.formFactoring.markAllAsTouched(),this.formFactoring.markAsDirty()}},{key:"prepareDraft",value:function(){return this.prepareCoreData()}},{key:"prepareData",value:function(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}},{key:"convertToFormData",value:function(){var e=this,t=this.currentDemand.Factoring,n=this.currentDemand.Anket,i=t.AddonAccounts,r=t.Properties,a=t.Obligations,o=t.EDI;this.formFactoring.patchValue({organizationType:n.Organization.Type,organizationLegalForm:n.Organization.LegalForm,organizationShortName:n.Organization.ShortTitle,organizationINN:n.Organization.Requisites.INN,organizationPhone:n.Organization.Phone,organizationEmail:n.Organization.Email,organizationWEB:n.Organization.Website,bankBik:t.Account.BIK,bankCorrespondentAccount:t.Account.COR,bankName:t.Account.Bank,bankAccountOpenDate:Object(_.x)(t.Account.Date,"yyyy-MM-dd","en"),bankOwnerAccount:t.Account.Number,bankComment:t.Account.Comment,factoringProducts:t.Products,factoringTradeMarks:t.Trademarks,factoringShipments:t.Suppliers,factoringFinanceLimit:t.LimitWanted,factoringClients:t.Buyers,factoringWorkers:t.StaffAmount}),i.forEach(function(t){return e.addOtherBank(t)}),r.forEach(function(t){return e.addOtherPlace(t)}),a.forEach(function(t){return e.addFactoringCredits(t)}),o.forEach(function(t){return e.addEDIProvider(t)})}},{key:"prepareCoreData",value:function(){var e=[],t=[],n=[],i=[];return this.formFactoring.value.factoringPlaces.forEach(function(e){i.push({Address:{Appartment:e.factoringPlacesAddress.Appartment,City:e.factoringPlacesAddress.City,Country:e.factoringPlacesAddress.Country,District:e.factoringPlacesAddress.District,House:e.factoringPlacesAddress.House,Locality:e.factoringPlacesAddress.Locality,PostCode:e.factoringPlacesAddress.PostCode,RegionCode:e.factoringPlacesAddress.RegionCode,Street:e.factoringPlacesAddress.Street,RegionTitle:e.factoringPlacesAddress.RegionTitle},Comment:"",Type:e.factoringPlacesLegalForm})}),this.formFactoring.value.factoringCredits.forEach(function(e){t.push({Creditor:e.factoringCreditsCreditor,CurrentRest:e.factoringPlacesBalanceCurrent,Date:new Date(e.factoringPlacesDateClose),ReportingRest:e.factoringPlacesBalanceReport,Summ:e.factoringPlacesContractSum,Type:e.factoringPlacesTypeDuty})}),this.formFactoring.value.otherBanks.forEach(function(e){n.push({BIK:"",Bank:e.otherBankName,COR:"",Comment:e.otherBankTarget,Date:new Date(e.otherBankAccountOpenDate),Expire:new Date(e.otherBankAccountCloseDate),Number:e.otherBankOwnerAccount})}),this.formFactoring.value.factoringEDIProviders.forEach(function(t){e.push({Company:t.factoringEDIProvidersDebitor,EDIProvider:t.factoringEDIProvidersProvider})}),{Anket:{Registration:{Authority:"",Date:new Date,InitDate:new Date,Number:"",Place:""},Resident:{Country:"\u0420\u0424",ForeignCode:"",IsResident:!0},Shareholders:[],Signer:{FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},Passport:{Date:new Date,Expire:new Date,IsForeign:!1,IssuerCode:"",IssuerTitle:"",Nationality:"",Number:""},Person:{BirthDate:new Date,BirthPlace:"",Email:"",Gender:1,Name:{First:"",Last:"",Second:""},NameFirst:"",NameLast:"",NameSecond:"",Phone:"",SNILS:""},PositionDate:new Date,PositionTitle:"",RegistrationAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""}},Activities:[],Capital:{Total:0,Payed:0},Licenses:[],Objectives:{BankRelationObjective:16,BankRelationObjectiveOther:"",FinancialObjective:1,FinancialObjectiveOther:"",TransactionsContracts:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430",TransactionsCount:"",TransactionsSumm:""},Organization:{Email:this.formFactoring.value.organizationEmail,FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},FactAddressEquals:!1,ForeignTitle:"",FullTitle:"",LegalAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},LegalForm:this.formFactoring.value.organizationLegalForm,Phone:this.formFactoring.value.organizationPhone,PostAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},PostAddressEquals:!1,Requisites:{INN:this.formFactoring.value.organizationINN,KPP:"",OGRN:"",OKATO:"",OKPO:""},ShortTitle:this.formFactoring.value.organizationShortName,Type:this.formFactoring.value.organizationType,Website:this.formFactoring.value.organizationWEB}},Factoring:{Account:{BIK:this.formFactoring.value.bankBik,Bank:this.formFactoring.value.bankName,COR:this.formFactoring.value.bankCorrespondentAccount,Comment:this.formFactoring.value.bankComment,Date:new Date(this.formFactoring.value.bankAccountOpenDate),Expire:null,Number:this.formFactoring.value.bankOwnerAccount},AddonAccounts:n,Buyers:this.formFactoring.value.Clients,EDI:e,FactoringAim:0,LimitWanted:this.formFactoring.value.factoringFinanceLimit,Obligations:t,Products:this.formFactoring.value.factoringProducts,Properties:i,StaffAmount:this.formFactoring.value.factoringWorkers,Suppliers:this.formFactoring.value.factoringShipments,Trademarks:this.formFactoring.value.factoringTradeMarks},Files:this.files,Type:"Guarantee"}}}]),e}()).\u0275fac=function(e){return new(e||Kd)(F.Kb(H.a),F.Kb(U.g),F.Kb($.a),F.Kb(G.a),F.Kb(_.d),F.Kb(N.d))},Kd.\u0275cmp=F.Eb({type:Kd,selectors:[["app-surety-data"]],inputs:{isEdit:"isEdit",currentDemand:"currentDemand",currentDraftId:"currentDraftId"},outputs:{save:"save",create:"create",back:"back"},decls:150,vars:29,consts:[[3,"formGroup","ngSubmit"],[1,"form-actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-4","p-lg-3"],["for","organizationShortName"],["id","organizationShortName","type","text","pInputText","","placeholder","\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","formControlName","organizationShortName"],[4,"ngIf"],["for","organizationINN"],["id","organizationINN","pInputText","","type","text","placeholder","\u0418\u041d\u041d","formControlName","organizationINN","minlength","10","maxlength","12"],["for","organizationType"],["id","organizationType","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationType","optionLabel","title","optionValue","value",3,"options","onChange"],["class","p-field p-col-12 p-md-4 p-lg-3",4,"ngIf"],["for","organizationPhone"],["id","organizationPhone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","organizationPhone","mask","+7-999-999-99-99"],["for","organizationEmail"],["id","organizationEmail","type","email","pInputText","","placeholder","E-mail","formControlName","organizationEmail"],[1,"p-field","p-col-12","p-md-6"],["for","organizationWEB"],["id","organizationWEB","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430","formControlName","organizationWEB"],[1,"p-field","p-col-12","p-md-12"],[1,"p-field","p-col-12","p-md-3"],["for","bankBik"],["id","bankBik","placeholder","\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430","formControlName","bankBik",3,"suggestions","completeMethod","onSelect"],["for","bankCorrespondentAccount"],["id","bankCorrespondentAccount","type","text","mask","99999999999999999999","placeholder","\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430","formControlName","bankCorrespondentAccount"],["for","bankName"],["id","bankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","bankName",3,"suggestions","completeMethod","onSelect"],["for","bankAccountOpenDate"],["id","bankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","bankAccountOpenDate"],["for","bankOwnerAccount"],["id","bankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","bankOwnerAccount"],["for","bankComment"],["id","bankComment","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439","formControlName","bankComment"],["class","mib-formset","formArrayName","otherBanks",4,"ngFor","ngForOf"],[1,"addon-button"],[1,"addon-text-small"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435","type","button",1,"basic-small",3,"click"],[1,"p-field","p-col-12","p-lg-4"],["for","factoringProducts"],["id","factoringProducts","type","text","pInputText","","placeholder","\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringProducts"],[1,"p-field","p-col-12","p-lg-8"],["for","factoringTradeMarks"],["id","factoringTradeMarks","type","text","pInputText","","placeholder","\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringTradeMarks"],[1,"p-field","p-col-12","p-lg-6"],["for","factoringShipments"],["id","factoringShipments","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438","formControlName","factoringShipments"],["for","factoringFinanceLimit"],["placeholder","\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442","id","factoringFinanceLimit","formControlName","factoringFinanceLimit","inputId","factoringFinanceLimit","mode","currency","currency","RUB","locale","ru-RU"],["for","factoringClients"],["id","factoringClients","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438","formControlName","factoringClients"],["for","factoringWorkers"],["id","factoringWorkers","type","number","pInputText","","placeholder","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432","formControlName","factoringWorkers"],[1,"description"],["class","mib-formset","formArrayName","factoringPlaces",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringCredits",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringEDIProviders",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435","type","button",1,"basic-small",3,"click"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],["class","p-error",4,"ngIf"],[1,"p-error"],["for","organizationLegalForm"],["id","organizationLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443","formControlName","organizationLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","otherBanks",1,"mib-formset"],[1,"title"],[1,"text"],[1,"button","warn",3,"click"],[1,"form"],[3,"formGroupName"],[1,"p-fluid","p-formgrid","p-grid"],["for","otherBankAccountOpenDate"],["id","otherBankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountOpenDate"],["for","otherBankAccountCloseDate"],["id","otherBankAccountCloseDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountCloseDate"],["for","otherBankName"],["id","otherBankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","otherBankName",3,"suggestions","completeMethod","onSelect"],["for","otherBankOwnerAccount"],["id","otherBankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankOwnerAccount"],["for","otherBankTarget"],["id","otherBankTarget","type","text","pInputText","","placeholder","\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","formControlName","otherBankTarget"],["formArrayName","factoringPlaces",1,"mib-formset"],["for","factoringPlacesAddress"],["id","factoringPlacesAddress","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430","disabled","","formControlName","displayAddress"],["pButton","","pRipple","","type","button","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],["for","factoringPlacesLegalForm"],["id","factoringPlacesLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0424\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f","formControlName","factoringPlacesLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","factoringCredits",1,"mib-formset"],["for","factoringCreditsCreditor"],["id","factoringCreditsCreditor","type","text","pInputText","","placeholder","\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440","formControlName","factoringCreditsCreditor"],["for","factoringPlacesTypeDuty"],["id","factoringPlacesTypeDuty","type","text","pInputText","","placeholder","\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430","formControlName","factoringPlacesTypeDuty"],["for","factoringPlacesDateClose"],["id","factoringPlacesDateClose","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f","formControlName","factoringPlacesDateClose"],["for","factoringPlacesContractSum"],["id","factoringPlacesContractSum","type","text","pInputText","","placeholder","\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430","formControlName","factoringPlacesContractSum"],[1,"p-field","p-col-12","p-md-6","p-lg-6"],["for","factoringPlacesBalanceReport"],["id","factoringPlacesBalanceReport","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438","formControlName","factoringPlacesBalanceReport"],["for","factoringPlacesBalanceCurrent"],["id","factoringPlacesBalanceCurrent","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443","formControlName","factoringPlacesBalanceCurrent"],["formArrayName","factoringEDIProviders",1,"mib-formset"],["for","factoringEDIProvidersDebitor"],["id","factoringEDIProvidersDebitor","type","text","pInputText","","placeholder","\u0414\u0435\u0431\u0438\u0442\u043e\u0440","formControlName","factoringEDIProvidersDebitor"],["for","factoringEDIProvidersProvider"],["id","factoringEDIProvidersProvider","type","text","pInputText","","placeholder","EDI-\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440","formControlName","factoringEDIProvidersProvider"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Regulations","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Regulations",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],["type","file","id","GenDirPassport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","GenDirPassport",1,"mib-upload"],["type","file","id","GenDirProtocol","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","GenDirProtocol",1,"mib-upload"],["type","file","id","actual-btn","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","actual-btn",1,"mib-upload"],["type","file","id","Balance","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Balance",1,"mib-upload"],["type","file","id","OSV","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","OSV",1,"mib-upload"],["type","file","id","Shareholders","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Shareholders",1,"mib-upload"],[1,"mib-uploader__error"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){1&e&&(F.Qb(0,"form",0),F.Xb("ngSubmit",function(){return t.onSubmit()}),F.Qb(1,"div",1),F.Fc(2,ol,1,0,"button",2),F.Pb(),F.Qb(3,"div",3),F.Qb(4,"div",4),F.Qb(5,"label",5),F.Hc(6,"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),F.Pb(),F.Lb(7,"input",6),F.Fc(8,sl,2,1,"div",7),F.Pb(),F.Qb(9,"div",4),F.Qb(10,"label",8),F.Hc(11,"\u0418\u041d\u041d"),F.Pb(),F.Lb(12,"input",9),F.Fc(13,ul,3,2,"div",7),F.Pb(),F.Qb(14,"div",4),F.Qb(15,"label",10),F.Hc(16,"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),F.Pb(),F.Qb(17,"p-dropdown",11),F.Xb("onChange",function(e){return t.onTypeChanged(e.value)}),F.Pb(),F.Pb(),F.Fc(18,pl,5,2,"div",12),F.Pb(),F.Qb(19,"div",3),F.Qb(20,"div",4),F.Qb(21,"label",13),F.Hc(22,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),F.Pb(),F.Lb(23,"p-inputMask",14),F.Fc(24,ml,2,1,"div",7),F.Pb(),F.Qb(25,"div",4),F.Qb(26,"label",15),F.Hc(27,"E-mail"),F.Pb(),F.Lb(28,"input",16),F.Fc(29,Pl,3,2,"div",7),F.Pb(),F.Qb(30,"div",17),F.Qb(31,"label",18),F.Hc(32,"\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430"),F.Pb(),F.Lb(33,"input",19),F.Fc(34,kl,2,1,"div",7),F.Pb(),F.Qb(35,"div",20),F.Qb(36,"h3"),F.Hc(37,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Pb(),F.Qb(38,"div",21),F.Qb(39,"label",22),F.Hc(40,"\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Qb(41,"p-autoComplete",23),F.Xb("completeMethod",function(e){return t.search(e)})("onSelect",function(e){return t.onBankSelect(e)}),F.Pb(),F.Fc(42,Fl,2,1,"div",7),F.Pb(),F.Qb(43,"div",21),F.Qb(44,"label",24),F.Hc(45,"\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Lb(46,"p-inputMask",25),F.Fc(47,Cl,2,1,"div",7),F.Pb(),F.Qb(48,"div",17),F.Qb(49,"label",26),F.Hc(50,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),F.Pb(),F.Qb(51,"p-autoComplete",27),F.Xb("completeMethod",function(e){return t.searchByBankName(e)})("onSelect",function(e){return t.onBankSelect(e)}),F.Pb(),F.Fc(52,zl,2,1,"div",7),F.Pb(),F.Qb(53,"div",21),F.Qb(54,"label",28),F.Hc(55,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(56,"input",29),F.Fc(57,wl,2,1,"div",7),F.Pb(),F.Qb(58,"div",21),F.Qb(59,"label",30),F.Hc(60,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),F.Pb(),F.Lb(61,"p-inputMask",31),F.Fc(62,Ol,2,1,"div",7),F.Pb(),F.Qb(63,"div",17),F.Qb(64,"label",32),F.Hc(65,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),F.Pb(),F.Lb(66,"input",33),F.Fc(67,El,2,1,"div",7),F.Pb(),F.Qb(68,"div",20),F.Qb(69,"h3"),F.Hc(70,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0447\u0435\u0442\u043e\u0432"),F.Pb(),F.Fc(71,ql,33,6,"div",34),F.Pb(),F.Qb(72,"div",17),F.Qb(73,"div",35),F.Qb(74,"div",36),F.Qb(75,"p"),F.Hc(76," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0430 \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u0430\u043d\u043a\u0430\u0445 "),F.Pb(),F.Pb(),F.Qb(77,"button",37),F.Xb("click",function(){return t.addOtherBank()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(78,"div",20),F.Qb(79,"h3"),F.Hc(80,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a \u0410\u043d\u043a\u0435\u0442\u0435 (\u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433)"),F.Pb(),F.Pb(),F.Qb(81,"div",38),F.Qb(82,"label",39),F.Hc(83,"\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),F.Pb(),F.Lb(84,"input",40),F.Fc(85,Ul,2,1,"div",7),F.Pb(),F.Qb(86,"div",41),F.Qb(87,"label",42),F.Hc(88,"\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),F.Pb(),F.Lb(89,"input",43),F.Fc(90,Gl,2,1,"div",7),F.Pb(),F.Qb(91,"div",44),F.Qb(92,"label",45),F.Hc(93,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438"),F.Pb(),F.Lb(94,"input",46),F.Fc(95,Xl,2,1,"div",7),F.Pb(),F.Qb(96,"div",44),F.Qb(97,"label",47),F.Hc(98,"\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),F.Pb(),F.Lb(99,"p-inputNumber",48),F.Fc(100,Wl,2,1,"div",7),F.Pb(),F.Qb(101,"div",17),F.Qb(102,"label",49),F.Hc(103,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438"),F.Pb(),F.Lb(104,"input",50),F.Fc(105,Jl,2,1,"div",7),F.Pb(),F.Qb(106,"div",17),F.Qb(107,"label",51),F.Hc(108,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),F.Pb(),F.Lb(109,"input",52),F.Fc(110,ed,2,1,"div",7),F.Pb(),F.Qb(111,"div",20),F.Qb(112,"h3"),F.Hc(113,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0435\u0439\u0441\u044f \u0432 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438/\u0430\u0440\u0435\u043d\u0434\u0435 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f"),F.Pb(),F.Qb(114,"p",53),F.Hc(115,"\u041f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043f\u0443\u043d\u043a\u0442\u0443 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f\u0445 \u0438 \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435 \u0432\u043b\u0430\u0434\u0435\u0435\u0442 \u0442\u0435\u043c \u0438\u043b\u0438 \u0438\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"),F.Pb(),F.Fc(116,td,19,2,"div",54),F.Pb(),F.Qb(117,"div",17),F.Qb(118,"div",35),F.Qb(119,"div",36),F.Qb(120,"p"),F.Hc(121," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(122,"button",55),F.Xb("click",function(){return t.addOtherPlace()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(123,"div",20),F.Qb(124,"h3"),F.Hc(125,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u043d\u0435\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u0445, \u0430\u043a\u043a\u0440\u0435\u0434\u0438\u0442\u0438\u0432\u0430\u0445, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f\u0445, \u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430\u0445"),F.Pb(),F.Qb(126,"p",53),F.Hc(127,"\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u0430\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0438 \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0440\u0441\u043a\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c, \u0432 \u0442. \u0447. \u0441\u0441\u0443\u0434\u044b \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),F.Pb(),F.Fc(128,pd,39,7,"div",56),F.Pb(),F.Qb(129,"div",17),F.Qb(130,"div",35),F.Qb(131,"div",36),F.Qb(132,"p"),F.Hc(133," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),F.Pb(),F.Pb(),F.Qb(134,"button",57),F.Xb("click",function(){return t.addFactoringCredits()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(135,"div",20),F.Qb(136,"h3"),F.Hc(137,"\u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 EDI-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u043c\u0438 \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u043e\u0431\u043e\u0440\u043e\u0442\u0443"),F.Pb(),F.Fc(138,Pd,19,3,"div",58),F.Pb(),F.Qb(139,"div",17),F.Qb(140,"div",35),F.Qb(141,"div",36),F.Qb(142,"p"),F.Hc(143," EDI \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 "),F.Pb(),F.Pb(),F.Qb(144,"button",59),F.Xb("click",function(){return t.addEDIProvider()}),F.Pb(),F.Pb(),F.Pb(),F.Fc(145,Xd,88,14,"ng-container",7),F.Qb(146,"div",20),F.Qb(147,"label",60),F.Hc(148,"\xa0"),F.Pb(),F.Lb(149,"button",61),F.Pb(),F.Pb(),F.Pb()),2&e&&(F.hc("formGroup",t.formFactoring),F.zb(2),F.hc("ngIf",!t.isEdit),F.zb(6),F.hc("ngIf",t.formFactoring.controls.organizationShortName.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.organizationINN.invalid),F.zb(4),F.hc("options",t.organizationTypes),F.zb(1),F.hc("ngIf",1===t.formFactoring.get("organizationType").value),F.zb(6),F.hc("ngIf",t.formFactoring.controls.organizationPhone.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.organizationEmail.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.organizationWEB.invalid),F.zb(7),F.hc("suggestions",t.resultsBIK),F.zb(1),F.hc("ngIf",t.formFactoring.controls.bankBik.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.bankCorrespondentAccount.invalid),F.zb(4),F.hc("suggestions",t.resultsBankname),F.zb(1),F.hc("ngIf",t.formFactoring.controls.bankName.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.bankAccountOpenDate.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.bankOwnerAccount.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.bankComment.invalid),F.zb(4),F.hc("ngForOf",t.formFactoring.get("otherBanks").controls),F.zb(14),F.hc("ngIf",t.formFactoring.controls.factoringProducts.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringTradeMarks.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringShipments.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringFinanceLimit.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringClients.invalid),F.zb(5),F.hc("ngIf",t.formFactoring.controls.factoringWorkers.invalid),F.zb(6),F.hc("ngForOf",t.formFactoring.get("factoringPlaces").controls),F.zb(12),F.hc("ngForOf",t.formFactoring.get("factoringCredits").controls),F.zb(10),F.hc("ngForOf",t.formFactoring.get("factoringEDIProviders").controls),F.zb(7),F.hc("ngIf",!t.isEdit),F.zb(4),F.hc("disabled",t.formFactoring.invalid||t.isFilesInvalid()))},directives:[N.y,N.q,N.h,_.n,N.b,B.a,N.p,N.f,N.l,N.k,R.a,ze.a,mt,_.m,M.b,vt.a,N.t,N.c,N.i],encapsulation:2}),Kd);function Zd(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",9),F.Xb("click",function(){return F.yc(n),F.ac().back()}),F.Pb()}}function Jd(e,t){if(1&e&&(F.Lb(0,"metib-backend-error-messages",10),F.bc(1,"async")),2&e){var n=F.ac();F.hc("backendErrors",F.cc(1,1,n.backendErrors$))}}function Yd(e,t){1&e&&(F.Ob(0),F.Qb(1,"p"),F.Hc(2,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),F.Pb(),F.Nb())}function eu(e,t){if(1&e&&(F.Qb(0,"p-tabPanel",20),F.Lb(1,"app-demand-result",21),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.hc("result",n.currentDemand.Result)}}function tu(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"p-tabView",12),F.Qb(2,"p-tabPanel",13),F.Qb(3,"app-demand-info",14),F.Xb("sendMessage",function(e){return F.yc(n),F.ac(2).handleSendMessage(e)}),F.Pb(),F.Pb(),F.Qb(4,"p-tabPanel",15),F.Qb(5,"app-surety-data",16),F.Xb("back",function(){return F.yc(n),F.ac(2).back()})("save",function(e){return F.yc(n),F.ac(2).handleSave(e)})("create",function(e){return F.yc(n),F.ac(2).handleSubmit(e)}),F.Pb(),F.Pb(),F.Qb(6,"p-tabPanel",17),F.Qb(7,"app-demand-files",18),F.Xb("removeFile",function(e){return F.yc(n),F.ac(2).handleRemoveFile(e)}),F.Pb(),F.Pb(),F.Fc(8,eu,2,1,"p-tabPanel",19),F.Pb(),F.Nb()}if(2&e){var i=F.ac(2);F.zb(3),F.hc("currentDemandInfo",i.currentInformation),F.zb(2),F.hc("isEdit",!0)("currentDemand",i.currentDemand)("currentDraftId",i.currentDraftId),F.zb(2),F.hc("currentDemandFiles",i.currentDemand.Files),F.zb(1),F.hc("ngIf",i.isView)}}function nu(e,t){if(1&e){var n=F.Rb();F.Qb(0,"app-surety-data",16),F.Xb("back",function(){return F.yc(n),F.ac(2).back()})("save",function(e){return F.yc(n),F.ac(2).handleSave(e)})("create",function(e){return F.yc(n),F.ac(2).handleSubmit(e)}),F.Pb()}if(2&e){var i=F.ac(2);F.hc("isEdit",!1)("currentDemand",i.currentDemand)("currentDraftId",i.currentDraftId)}}function iu(e,t){if(1&e&&(F.Fc(0,tu,9,6,"ng-container",7),F.Fc(1,nu,1,3,"ng-template",null,11,F.Gc)),2&e){var n=F.vc(2),i=F.ac();F.hc("ngIf",i.isEdit)("ngIfElse",n)}}var ru,au=function(e){return{"card-content":e}},ou=((ru=function(){function e(t,n,i,a,o,c){r(this,e),this.authService=t,this.messageService=n,this.router=i,this.demandService=a,this.route=o,this.store=c,this.alertMessage=[],this.currentDraftId=0,this.isEdit=!1,this.isLoading=!1,this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){var e=this;this.isUserVerified=this.authService.isUserVerified(),this.subscription$.add(this.route.queryParams.subscribe(function(t){e.isView="true"===t.View,t.ID&&"false"===t.Edit?e.fetch(t.ID):(e.isLoading=!0,e.getDraft())}))}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe()}},{key:"handleSubmit",value:function(e){var t=this;this.isEdit&&(e.Data.Files=this.currentDemand.Files),this.subscription$.add(this.demandService.add(e).subscribe(function(e){t.alert=!0,window.scroll(0,0),t.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}},{key:"handleSave",value:function(e){var t=this;this.currentDemand.Files&&(e.Files=this.currentDemand.Files),this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,e).subscribe(function(e){t.currentDraftId=e.ID,t.showSuccess()}))}},{key:"handleSendMessage",value:function(e){var t=this;this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(function(e){t.fetch(t.currentDemand.ID)}))}},{key:"handleRemoveFile",value:function(e){this.currentDemand.Files=this.currentDemand.Files.filter(function(t){return t!==e})}},{key:"getDraft",value:function(){var e=this;this.subscription$.add(this.demandService.prepareDemandByType("Guarantee").subscribe(function(t){e.currentDemand=t,e.isLoading=!1}))}},{key:"fetch",value:function(e){var t=this;this.subscription$.add(this.demandService.getDemandById(e).subscribe(function(e){t.currentDemand=e.Data,t.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},t.isEdit=!0}))}},{key:"showSuccess",value:function(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}]),e}()).\u0275fac=function(e){return new(e||ru)(F.Kb(j.a),F.Kb(U.g),F.Kb(S.f),F.Kb(D),F.Kb(S.a),F.Kb(f.h))},ru.\u0275cmp=F.Eb({type:ru,selectors:[["app-demand-action-surety-page"]],decls:14,vars:11,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["contentTemplate",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],["createTemplate",""],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[3,"isEdit","currentDemand","currentDraftId","back","save","create"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"]],template:function(e,t){if(1&e&&(F.Lb(0,"p-toast"),F.Qb(1,"div",0),F.Qb(2,"div",1),F.Qb(3,"div",2),F.Qb(4,"h2"),F.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u041f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"),F.Pb(),F.Pb(),F.Qb(6,"div",3),F.Fc(7,Zd,1,0,"button",4),F.Pb(),F.Pb(),F.Qb(8,"p-messages",5),F.Xb("valueChange",function(e){return t.alertMessage=e}),F.Pb(),F.Fc(9,Jd,2,3,"metib-backend-error-messages",6),F.bc(10,"async"),F.Fc(11,Yd,3,0,"ng-container",7),F.Fc(12,iu,3,2,"ng-template",null,8,F.Gc),F.Pb()),2&e){var n=F.vc(13);F.zb(1),F.hc("ngClass",F.mc(9,au,t.isUserVerified)),F.zb(6),F.hc("ngIf",t.isEdit),F.zb(1),F.hc("value",t.alertMessage)("enableService",!1),F.zb(1),F.hc("ngIf",F.cc(10,7,t.backendErrors$)),F.zb(2),F.hc("ngIf",t.isLoading)("ngIfElse",n)}},directives:[V.a,_.l,_.n,X.a,M.b,Qi.a,K.b,K.a,ye,Wd,Fe,De],pipes:[_.b],styles:[""]}),ru),cu=a("xrr7"),su=a("0s3d");function lu(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",8),F.Xb("click",function(){return F.yc(n),F.ac().back()}),F.Pb()}}function du(e,t){1&e&&(F.Qb(0,"div"),F.Hc(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... "),F.Pb())}function uu(e,t){1&e&&F.Mb(0)}function bu(e,t){if(1&e&&(F.Qb(0,"p-tabPanel",19),F.Lb(1,"app-demand-result",20),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.hc("result",n.currentDemand.Result)}}var fu=function(e){return{formFree:e}};function pu(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"p-tabView",11),F.Qb(2,"p-tabPanel",12),F.Qb(3,"app-demand-info",13),F.Xb("sendMessage",function(e){return F.yc(n),F.ac(2).handleSendMessage(e)}),F.Pb(),F.Pb(),F.Qb(4,"p-tabPanel",14),F.Fc(5,uu,1,0,"ng-container",15),F.Pb(),F.Qb(6,"p-tabPanel",16),F.Qb(7,"app-demand-files",17),F.Xb("removeFile",function(e){return F.yc(n),F.ac(2).handleRemoveFile(e)}),F.Pb(),F.Pb(),F.Fc(8,bu,2,1,"p-tabPanel",18),F.Pb(),F.Nb()}if(2&e){F.ac();var i=F.vc(4),r=F.ac();F.zb(3),F.hc("currentDemandInfo",r.currentInformation),F.zb(2),F.hc("ngTemplateOutlet",i)("ngTemplateOutletContext",F.mc(5,fu,r.formFree)),F.zb(2),F.hc("currentDemandFiles",r.currentDemand.Files),F.zb(1),F.hc("ngIf",r.isView)}}function hu(e,t){1&e&&F.Mb(0)}function mu(e,t){if(1&e&&F.Fc(0,hu,1,0,"ng-container",15),2&e){F.ac();var n=F.vc(4),i=F.ac();F.hc("ngTemplateOutlet",n)("ngTemplateOutletContext",F.mc(2,fu,i.formFree))}}function gu(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",37),F.Qb(1,"button",8),F.Xb("click",function(){return F.yc(n),F.ac(3).back()}),F.Pb(),F.Pb()}}function vu(e,t){1&e&&(F.Qb(0,"small",39),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Pu(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,vu,2,0,"small",38),F.Pb()),2&e){var n=F.ac().formFree;F.zb(1),F.hc("ngIf",n.controls.DebtorID.errors.required)}}function yu(e,t){1&e&&(F.Qb(0,"small",39),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function ku(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,yu,2,0,"small",38),F.Pb()),2&e){var n=F.ac().formFree;F.zb(1),F.hc("ngIf",n.controls.VerificationType.errors.required)}}function Iu(e,t){1&e&&(F.Qb(0,"small",39),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function Fu(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Iu,2,0,"small",38),F.Pb()),2&e){var n=F.ac(2).formFree;F.zb(1),F.hc("ngIf",n.controls.GLN.errors.required)}}function Qu(e,t){if(1&e&&(F.Ob(0),F.Qb(1,"div",24),F.Lb(2,"input",40),F.Fc(3,Fu,2,1,"div",27),F.Pb(),F.Qb(4,"div",41),F.Qb(5,"div",42),F.Qb(6,"div",43),F.Lb(7,"p-checkbox",44),F.Qb(8,"label",45),F.Hc(9,"\u0417\u0430\u043a\u0430\u0437 (ORDER)"),F.Pb(),F.Pb(),F.Pb(),F.Qb(10,"div",42),F.Qb(11,"div",43),F.Lb(12,"p-checkbox",46),F.Qb(13,"label",47),F.Hc(14,"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e \u043f\u0440\u0438\u0451\u043c\u043a\u0435"),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Nb()),2&e){var n=F.ac().formFree;F.zb(3),F.hc("ngIf",n.controls.GLN.invalid)}}function Cu(e,t){1&e&&(F.Ob(0),F.Qb(1,"div",48),F.Qb(2,"div",49),F.Qb(3,"div",43),F.Lb(4,"p-checkbox",50),F.Qb(5,"label",51),F.Hc(6,"\u0422\u043e\u0440\u0433-12"),F.Pb(),F.Pb(),F.Pb(),F.Qb(7,"div",49),F.Qb(8,"div",43),F.Lb(9,"p-checkbox",52),F.Qb(10,"label",53),F.Hc(11,"\u0421\u0447\u0435\u0442-\u0424\u0430\u043a\u0442\u0443\u0440\u0430"),F.Pb(),F.Pb(),F.Pb(),F.Qb(12,"div",49),F.Qb(13,"div",43),F.Lb(14,"p-checkbox",54),F.Qb(15,"label",55),F.Hc(16,"\u0410\u043a\u0442 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0424\u041d\u0421"),F.Pb(),F.Pb(),F.Pb(),F.Qb(17,"div",49),F.Qb(18,"div",43),F.Lb(19,"p-checkbox",56),F.Qb(20,"label",57),F.Hc(21,"\u041d\u0435\u0444\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442"),F.Pb(),F.Pb(),F.Pb(),F.Pb(),F.Nb())}function Du(e,t){1&e&&(F.Qb(0,"small",39),F.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),F.Pb())}function zu(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Du,2,0,"small",38),F.Pb()),2&e){var n=F.ac().formFree;F.zb(1),F.hc("ngIf",n.controls.Comment.errors.required)}}function Su(e,t){if(1&e){var n=F.Rb();F.Qb(0,"form",21),F.Xb("ngSubmit",function(){return F.yc(n),F.ac(2).onSubmit()}),F.Fc(1,gu,2,0,"div",22),F.Qb(2,"div",23),F.Qb(3,"div",24),F.Qb(4,"label",25),F.Hc(5,"\u0414\u0435\u0431\u0438\u0442\u043e\u0440"),F.Pb(),F.Lb(6,"p-dropdown",26),F.Fc(7,Pu,2,1,"div",27),F.Pb(),F.Qb(8,"div",24),F.Qb(9,"label",28),F.Hc(10,"\u0422\u0438\u043f \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"),F.Pb(),F.Qb(11,"p-dropdown",29),F.Xb("onChange",function(e){return F.yc(n),F.ac(2).changeVerificationType(e)}),F.Pb(),F.Fc(12,ku,2,1,"div",27),F.Pb(),F.Ob(13,30),F.Fc(14,Qu,15,1,"ng-container",31),F.Fc(15,Cu,22,0,"ng-container",31),F.Nb(),F.Qb(16,"div",32),F.Lb(17,"textarea",33),F.Fc(18,zu,2,1,"div",27),F.Pb(),F.Qb(19,"div",34),F.Qb(20,"label",35),F.Hc(21,"\xa0"),F.Pb(),F.Lb(22,"button",36),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=t.formFree,r=F.ac(2);F.hc("formGroup",i),F.zb(1),F.hc("ngIf",!r.isEdit),F.zb(5),F.hc("options",r.debtorList),F.zb(1),F.hc("ngIf",i.controls.DebtorID.invalid),F.zb(4),F.hc("options",r.verificationTypes),F.zb(1),F.hc("ngIf",i.controls.VerificationType.invalid),F.zb(1),F.hc("ngSwitch",r.currentTemplate),F.zb(1),F.hc("ngSwitchCase","ediTemplate"),F.zb(1),F.hc("ngSwitchCase","edoTemplate"),F.zb(3),F.hc("ngIf",i.controls.Comment.invalid),F.zb(4),F.hc("disabled",i.invalid||r.isLoading)}}function wu(e,t){if(1&e&&(F.Fc(0,pu,9,7,"ng-container",6),F.Fc(1,mu,1,4,"ng-template",null,9,F.Gc),F.Fc(3,Su,23,11,"ng-template",null,10,F.Gc)),2&e){var n=F.vc(2),i=F.ac();F.hc("ngIf",i.isEdit)("ngIfElse",n)}}var xu,Ou=function(e){return{"card-content":e}},_u=((xu=function(){function t(e,n,i,a,o,c,s){r(this,t),this.authService=e,this.fb=n,this.demandService=i,this.deliveryService=a,this.messageService=o,this.router=c,this.route=s,this.alertMessage=[],this.isEdit=!1,this.debtorList=[],this.verificationTypes=[],this.currentDraftId=0,this.subscription$=new O.a,this.currentTemplate="ediTemplate"}return o(t,[{key:"ngOnInit",value:function(){var e=this;this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.initValues(),this.subscription$.add(this.route.queryParams.subscribe(function(t){e.isView="true"===t.View,t.ID&&"false"===t.Edit?e.fetch(t.ID):(e.isLoading=!0,e.getDraft())})),this._saveDraftAction$=setInterval(function(){return e.saveDraft()},3e4)}},{key:"back",value:function(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}},{key:"changeVerificationType",value:function(e){switch(e.value){case"EDOKontur":this.currentTemplate="edoTemplate";break;case"Other":this.currentTemplate="anotherTemplate";break;default:this.currentTemplate="ediTemplate"}}},{key:"onSubmit",value:function(){var e=this,t=this.prepareData();this.subscription$.add(this.demandService.add(t).subscribe(function(t){e.alert=!0,e.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}},{key:"getDraft",value:function(){var e=this;this.isLoadingData=!0,this.subscription$.add(this.demandService.prepareDemandByType("VerificationChannel").subscribe(function(t){e.currentDemand=t,e.convertToFormData(),e.isLoadingData=!1,e.isLoading=!1}))}},{key:"saveDraft",value:function(){var e=this;this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,this.prepareDraft()).subscribe(function(t){console.log(t),e.currentDraftId=t.ID,e.showSuccess()}))}},{key:"handleSendMessage",value:function(e){var t=this;this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(function(e){t.fetch(t.currentDemand.ID)}))}},{key:"handleRemoveFile",value:function(e){this.currentDemand.Files=this.currentDemand.Files.filter(function(t){return t!==e})}},{key:"fetch",value:function(e){var t=this;this.isLoadingData=!0,this.subscription$.add(this.demandService.getDemandById(e).subscribe(function(e){t.currentDemand=e,t.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},t.isEdit=!0,t.convertToFormData(),t.isLoadingData=!1}))}},{key:"convertToFormData",value:function(){var e,t=this.currentDemand,n=!1,i=!1,r=!1,a=!1,o=!1,c=!1;t.DocumentTypes.forEach(function(e){"Torg12"===e&&(n=!0),"Invoice"===e&&(i=!0),"Acceptance"===e&&(r=!0),"Nonformalized"===e&&(a=!0),"ORDER"===e&&(o=!0),"RECADV"===e&&(c=!0)}),this.formFree.patchValue({Comment:(null==t?void 0:t.Comment)?null==t?void 0:t.Comment:"",DebtorID:(null==t?void 0:t.DebtorID)?null==t?void 0:t.DebtorID:null===(e=this.debtorList[0])||void 0===e?void 0:e.ID,GLN:(null==t?void 0:t.GLN)?null==t?void 0:t.GLN:"",VerificationType:(null==t?void 0:t.VerificationType)?null==t?void 0:t.VerificationType:"EDIKorus",DocumentTypeTorg12:n,DocumentTypeInvoice:i,DocumentTypeAcceptance:r,DocumentTypeNonformalized:a,DocumentTypeORDER:o,DocumentTypeRECADV:c})}},{key:"prepareDraft",value:function(){var e=[],t=this.formFree.value;return t.DocumentTypeTorg12&&e.push("Torg12"),t.DocumentTypeInvoice&&e.push("Invoice"),t.DocumentTypeAcceptance&&e.push("Acceptance"),t.DocumentTypeNonformalized&&e.push("Nonformalized"),t.DocumentTypeORDER&&e.push("ORDER"),t.DocumentTypeRECADV&&e.push("RECADV"),{DocumentTypes:e,Comment:t.Comment,DebtorID:t.DebtorID,GLN:t.GLN,VerificationType:t.VerificationType,Type:"VerificationChannel"}}},{key:"prepareData",value:function(){return{Data:this.prepareDraft(),DraftID:this.currentDraftId}}},{key:"initForm",value:function(){this.formFree=this.fb.group({Comment:["",[N.x.required]],DebtorID:["",[N.x.required]],GLN:[""],VerificationType:[""],DocumentTypeTorg12:!1,DocumentTypeInvoice:!1,DocumentTypeAcceptance:!1,DocumentTypeNonformalized:!1,DocumentTypeORDER:!1,DocumentTypeRECADV:!1}),this.formFree.markAllAsTouched(),this.formFree.markAsDirty()}},{key:"canDeactivate",value:function(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}},{key:"initValues",value:function(){var t=this;this.verificationTypes=[{name:"EDI \u041a\u043e\u0440\u0443\u0441",value:"EDIKorus"},{name:"EDI CISLINK (\u0421\u0438\u0441\u043b\u0438\u043d\u043a)",value:"EDICislink"},{name:"EDI Exite",value:"EDIExite"},{name:"\u042d\u0414\u041e \u041a\u043e\u043d\u0442\u0443\u0440 \u0414\u0438\u0430\u0434\u043e\u043a",value:"EDOKontur"},{name:"\u0414\u0440\u0443\u0433\u043e\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",value:"Other"}],this.deliveryService.getDeliveriesWithStats().subscribe(function(n){var i,r=n.map(function(e){return e.Debtor}),a=cu.a.getUniqByProperty(r,"Title");(i=t.debtorList).push.apply(i,e(a)),t.formFree.patchValue({VerificationType:"EDIKorus",DebtorID:t.debtorList[0].ID})})}},{key:"showSuccess",value:function(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}}]),t}()).\u0275fac=function(e){return new(e||xu)(F.Kb(j.a),F.Kb(N.d),F.Kb(D),F.Kb(su.a),F.Kb(U.g),F.Kb(S.f),F.Kb(S.a))},xu.\u0275cmp=F.Eb({type:xu,selectors:[["app-demand-action-verification-page"]],decls:12,vars:8,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["contentTemplate",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],["createTemplate",""],["form",""],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-lg-6"],["for","DebtorID"],["formControlName","DebtorID","placeholder","\u0414\u0435\u0431\u0438\u0442\u043e\u0440","optionLabel","Title","optionValue","ID",3,"options"],[4,"ngIf"],["for","VerificationType"],["formControlName","VerificationType","placeholder","\u0422\u0438\u043f \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438","optionValue","value","optionLabel","name",3,"options","onChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"p-field","p-col-12","p-md-12","p-lg-12"],["id","Comment","type","text","pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439","formControlName","Comment","rows","5",2,"resize","none"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],["id","GLN","type","text","pInputText","","placeholder","GLN \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430","formControlName","GLN"],[1,"p-col-12","p-lg-6","p-grid"],[1,"p-field","p-lg-6"],[1,"p-field-checkbox"],["binary","true","inputId","DocumentTypeORDER","formControlName","DocumentTypeORDER"],["for","DocumentTypeORDER"],["binary","true","inputId","DocumentTypeRECADV","formControlName","DocumentTypeRECADV"],["for","DocumentTypeRECADV"],[1,"p-col-12","p-lg-12","p-grid"],[1,"p-field","p-lg-4"],["binary","true","inputId","DocumentTypeTorg12","formControlName","DocumentTypeTorg12"],["for","DocumentTypeTorg12"],["binary","true","inputId","DocumentTypeInvoice","formControlName","DocumentTypeInvoice"],["for","DocumentTypeInvoice"],["binary","true","inputId","DocumentTypeAcceptance","formControlName","DocumentTypeAcceptance"],["for","DocumentTypeAcceptance"],["binary","true","inputId","DocumentTypeNonformalized","formControlName","DocumentTypeNonformalized"],["for","DocumentTypeNonformalized"]],template:function(e,t){if(1&e&&(F.Lb(0,"p-toast"),F.Qb(1,"div",0),F.Qb(2,"div",1),F.Qb(3,"div",2),F.Qb(4,"h2"),F.Hc(5,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043a\u0430\u043d\u0430\u043b\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"),F.Pb(),F.Pb(),F.Qb(6,"div",3),F.Fc(7,lu,1,0,"button",4),F.Pb(),F.Pb(),F.Qb(8,"p-messages",5),F.Xb("valueChange",function(e){return t.alertMessage=e}),F.Pb(),F.Fc(9,du,2,0,"div",6),F.Fc(10,wu,5,2,"ng-template",null,7,F.Gc),F.Pb()),2&e){var n=F.vc(11);F.zb(1),F.hc("ngClass",F.mc(6,Ou,t.isUserVerified)),F.zb(6),F.hc("ngIf",t.isEdit),F.zb(1),F.hc("value",t.alertMessage)("enableService",!1),F.zb(1),F.hc("ngIf",t.isLoadingData)("ngIfElse",n)}},directives:[V.a,_.l,_.n,X.a,M.b,K.b,K.a,ye,_.s,Fe,De,N.y,N.q,N.h,R.a,N.p,N.f,_.p,_.q,N.b,de.a,B.a,Hr.a],styles:[""]}),xu),Eu=a("vkgz"),Au=a("Kj3r"),Nu=a("/uUt");function Tu(e,t){1&e&&(F.Ob(0),F.Lb(1,"i",13),F.Nb())}function Lu(e,t){1&e&&F.Lb(0,"i",14)}function Hu(e,t){1&e&&(F.Qb(0,"div"),F.Qb(1,"div",31),F.Hc(2," \u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 "),F.Pb(),F.Pb())}function Bu(e,t){1&e&&(F.Qb(0,"div"),F.Qb(1,"div",32),F.Hc(2," \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d "),F.Pb(),F.Pb())}function Ru(e,t){1&e&&(F.Qb(0,"div"),F.Qb(1,"div",33),F.Hc(2," \u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e "),F.Pb(),F.Pb())}function Mu(e,t){1&e&&(F.Qb(0,"div"),F.Qb(1,"div",31),F.Hc(2," \u0421\u043e\u0437\u0434\u0430\u043d "),F.Pb(),F.Pb())}function qu(e,t){1&e&&(F.Qb(0,"div"),F.Qb(1,"div",31),F.Hc(2," \u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a "),F.Pb(),F.Pb())}function ju(e,t){1&e&&(F.Qb(0,"div"),F.Qb(1,"div",33),F.Hc(2," \u041e\u0442\u043c\u0435\u043d\u0435\u043d "),F.Pb(),F.Pb())}function Uu(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"button",38),F.Xb("click",function(){F.yc(n);var e=F.ac(3).$implicit;return F.ac(2).remove(e.ID)}),F.Pb(),F.Nb()}}function $u(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",39),F.Xb("click",function(){F.yc(n);var e=F.ac(3).$implicit;return F.ac(2).cancel(e.ID)}),F.Pb()}}function Gu(e,t){if(1&e&&(F.Qb(0,"div"),F.Fc(1,Uu,2,0,"ng-container",7),F.Fc(2,$u,1,0,"ng-template",null,37,F.Gc),F.Pb()),2&e){var n=F.vc(3),i=F.ac(2).$implicit;F.zb(1),F.hc("ngIf","Draft"===i.Status)("ngIfElse",n)}}function Vu(e,t){if(1&e){var n=F.Rb();F.Ob(0),F.Qb(1,"button",40),F.Xb("click",function(){F.yc(n);var e=F.ac(2).$implicit;return F.ac(2).edit(e.Type,e.ID,!0,e.Status)}),F.Pb(),F.Nb()}}function Xu(e,t){if(1&e){var n=F.Rb();F.Qb(0,"button",41),F.Xb("click",function(){F.yc(n);var e=F.ac(2).$implicit;return F.ac(2).edit(e.Type,e.ID,!1,e.Status)}),F.Pb()}}function Ku(e,t){if(1&e&&(F.Qb(0,"div",34),F.Fc(1,Gu,4,2,"div",35),F.Fc(2,Vu,2,0,"ng-container",7),F.Fc(3,Xu,1,0,"ng-template",null,36,F.Gc),F.Pb()),2&e){var n=F.vc(4),i=F.ac().$implicit;F.zb(1),F.hc("ngIf","Completed"!==i.Status),F.zb(1),F.hc("ngIf","Completed"===i.Status)("ngIfElse",n)}}function Wu(e,t){if(1&e&&(F.Qb(0,"div"),F.Qb(1,"div",42),F.Hc(2),F.Pb(),F.Pb()),2&e){var n=F.ac().$implicit;F.zb(2),F.Kc(" ",n.Manager.Name," (",n.Manager.Extension,") ")}}function Zu(e,t){1&e&&(F.Qb(0,"div",42),F.Hc(1," \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d "),F.Pb())}function Ju(e,t){if(1&e&&(F.Qb(0,"div",16),F.Qb(1,"div",17),F.Qb(2,"div",18),F.Qb(3,"div",19),F.Qb(4,"div",20),F.Qb(5,"div",21),F.Qb(6,"p"),F.Hc(7),F.Pb(),F.Pb(),F.Lb(8,"div",22),F.Pb(),F.Qb(9,"div",23),F.Qb(10,"div",24),F.Fc(11,Hu,3,0,"div",25),F.Fc(12,Bu,3,0,"div",25),F.Fc(13,Ru,3,0,"div",25),F.Fc(14,Mu,3,0,"div",25),F.Fc(15,qu,3,0,"div",25),F.Fc(16,ju,3,0,"div",25),F.Pb(),F.Qb(17,"div",26),F.Hc(18),F.bc(19,"date"),F.Pb(),F.Pb(),F.Pb(),F.Fc(20,Ku,5,3,"div",27),F.Pb(),F.Pb(),F.Qb(21,"div",28),F.Qb(22,"div",29),F.Hc(23),F.bc(24,"date"),F.Pb(),F.Fc(25,Wu,3,2,"div",7),F.Fc(26,Zu,2,0,"ng-template",null,30,F.Gc),F.Pb(),F.Pb()),2&e){var n=t.$implicit,i=F.vc(27);F.zb(7),F.Kc(" \u2116",n.ID," ",n.TranslatedType," "),F.zb(3),F.hc("ngSwitch",n.Status),F.zb(1),F.hc("ngSwitchCase","Processing"),F.zb(1),F.hc("ngSwitchCase","Completed"),F.zb(1),F.hc("ngSwitchCase","Rejected"),F.zb(1),F.hc("ngSwitchCase","Created"),F.zb(1),F.hc("ngSwitchCase","Draft"),F.zb(1),F.hc("ngSwitchCase","Canceled"),F.zb(2),F.Jc(" ",F.dc(19,14,n.DateModify,"dd.MM.yyyy")," "),F.zb(2),F.hc("ngIf","Canceled"!==n.Status&&"Rejected"!==n.Status),F.zb(3),F.Jc(" ",F.dc(24,17,n.DateModify,"dd.MM.yyyy")," "),F.zb(2),F.hc("ngIf",n.Manager)("ngIfElse",i)}}function Yu(e,t){if(1&e&&(F.Ob(0),F.Fc(1,Ju,28,20,"div",15),F.Nb()),2&e){var n=F.ac();F.zb(1),F.hc("ngForOf",n.allDemandsFiltered)}}function eb(e,t){1&e&&(F.Qb(0,"div",16),F.Qb(1,"div",17),F.Qb(2,"div",20),F.Qb(3,"div",21),F.Qb(4,"p"),F.Lb(5,"p-skeleton",43),F.Pb(),F.Pb(),F.Pb(),F.Qb(6,"div",23),F.Lb(7,"p-skeleton",43),F.Qb(8,"div",26),F.Lb(9,"p-skeleton",43),F.Pb(),F.Pb(),F.Pb(),F.Qb(10,"div",28),F.Qb(11,"div",29),F.Lb(12,"p-skeleton"),F.Pb(),F.Lb(13,"p-skeleton",43),F.Pb(),F.Pb())}var tb=function(){return{}},nb=function(e,t,n){return[e,t,n]};function ib(e,t){1&e&&F.Fc(0,eb,14,0,"div",15),2&e&&F.hc("ngForOf",F.oc(4,nb,F.lc(1,tb),F.lc(2,tb),F.lc(3,tb)))}var rb,ab=function(e){return{"card-content":e}},ob=function(){return["/demand"]},cb=((rb=function(){function e(t,n,i,a){r(this,e),this.fb=t,this.authService=n,this.demandService=i,this.router=a,this.loading=!0,this.allDemandsFiltered=[],this.allDemands=[],this.allDrafts=[],this.statusTypes=[],this.searchForm=this.fb.group({search:[""]}),this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){this.fetch(),this.initForm(),this.initValues(),this.isUserVerified=this.authService.isUserVerified()}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe()}},{key:"onFilterStatusChange",value:function(e){this.allDemandsFiltered="All"===e.value?this.allDemands:this.allDemands.filter(function(t){return t.Status===e.value})}},{key:"fetch",value:function(){var e=this;this.loading=!0,this.subscription$.add(this.demandService.getDrafts().pipe(Object(P.a)(function(t){return e.allDrafts=t,e.demandService.fetch()})).subscribe(function(t){e.allDemands=t,t&&e.allDrafts&&e.allDrafts.forEach(function(t){e.allDemands.push({Data:t.Data,DateCreated:t.DateCreated,DateModify:t.DateModify,DateStatus:t.DateCreated,Files:t.Data.Files,ID:t.ID,Manager:null,Messages:null,Requirements:null,Result:null,Status:"Draft",Steps:null,Type:t.Data.Type,User:t.User}),e.allDemands.sort(function(e,t){return new Date(t.DateModify).getTime()-new Date(e.DateModify).getTime()}),console.log("Demands",e.allDemands)}),e.allDemands=e.allDemands.map(function(t){var n=e.getTypeTranslate(t.Type),i=e.getStatusTranslate(t.Status);return{Type:null==t?void 0:t.Type,Status:null==t?void 0:t.Status,User:null==t?void 0:t.User,Manager:null==t?void 0:t.Manager,DateCreated:null==t?void 0:t.DateCreated,DateModify:null==t?void 0:t.DateModify,DateStatus:null==t?void 0:t.DateStatus,Requirements:null==t?void 0:t.Requirements,Steps:null==t?void 0:t.Steps,Messages:null==t?void 0:t.Messages,Files:null==t?void 0:t.Files,Data:null==t?void 0:t.Data,Result:null==t?void 0:t.Result,ID:null==t?void 0:t.ID,TranslatedType:n,TranslatedStatus:i}}),e.allDemandsFiltered=e.allDemands}))}},{key:"remove",value:function(e){var t=this;this.subscription$.add(this.demandService.deleteDraftById(e).subscribe(function(){t.allDemandsFiltered=t.allDemandsFiltered.filter(function(t){return t.ID!==e}),t.allDemands=t.allDemands.filter(function(t){return t.ID!==+e})}))}},{key:"cancel",value:function(e){var t=this;this.subscription$.add(this.demandService.cancelByDemandId(e).subscribe(function(){t.allDemands.find(function(t){return t.ID===e}).Status="Canceled"}))}},{key:"edit",value:function(e,t,n,i){console.log(e);var r=this.isUserVerified?"":"not-verify",a="Draft"===i;switch(e){case"Factoring":this.router.navigate([r+"/demand/actions/factoring"],{queryParams:{ID:t,View:n,Edit:a}});break;case"AgencyFactoring":this.router.navigate([r+"/demand/actions/agent-factoring"],{queryParams:{ID:t,View:n,Edit:a}});break;case"Question":this.router.navigate([r+"/demand/actions/free-request"],{queryParams:{ID:t,View:n,Edit:a}});break;case"DigitalSignature":this.router.navigate([r+"/demand/actions/create-eds"],{queryParams:{ID:t,View:n,Edit:a}});break;case"ProfileChange":this.router.navigate([r+"/demand/actions/edit-profile"],{queryParams:{ID:t,View:n,Edit:a}});break;case"Limit":this.router.navigate([r+"/demand/actions/update-limit"],{queryParams:{ID:t,View:n,Edit:a}});break;case"NewDebtor":this.router.navigate([r+"/demand/actions/create-debitor"],{queryParams:{ID:t,View:n,Edit:a}});break;case"Guarantee":this.router.navigate([r+"/demand/actions/surety"],{queryParams:{ID:t,View:n,Edit:a}});break;case"VerificationChannel":this.router.navigate([r+"/demand/actions/verify"],{queryParams:{ID:t,View:n,Edit:a}})}}},{key:"initValues",value:function(){this.statusTypes=[{type:"All",name:"\u0412\u0441\u0435"},{type:"Processing",name:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435"},{type:"Completed",name:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d"},{type:"Rejected",name:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e"},{type:"Created",name:"\u0421\u043e\u0437\u0434\u0430\u043d"},{type:"Draft",name:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"},{type:"Canceled",name:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d"}]}},{key:"initForm",value:function(){var e=this;this.subscription$.add(this.searchForm.valueChanges.pipe(Object(Eu.a)(function(){e.isSearching=!0}),Object(Au.a)(2e3),Object(Nu.a)()).subscribe(function(t){e.allDemandsFiltered=[];var n=t.search;n=n.toLowerCase(),e.allDemands.forEach(function(t){for(var i=Object.values(t),r=0;r<i.length;r++)if(i[r]&&i[r].toString().toLowerCase().indexOf(n)>-1){e.allDemandsFiltered.push(t);break}}),e.isSearching=!1}))}},{key:"getTypeTranslate",value:function(e){var t="";switch(e){case"VerificationChannel":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u043a\u0430\u043d\u0430\u043b\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438";break;case"Guarantee":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u041f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e";break;case"Factoring":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433";break;case"DigitalSignature":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f";break;case"ProfileChange":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u043e\u0444\u0438\u043b\u044f";break;case"Question":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443";break;case"Limit":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043b\u0438\u043c\u0438\u0442";break;case"NewDebtor":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430";break;case"AgencyFactoring":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0410\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433";break;default:t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443"}return t}},{key:"getStatusTranslate",value:function(e){var t="";switch(e){case"Processing":t="\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435";break;case"Completed":t="\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d";break;case"Rejected":t="\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e";break;case"Created":t="\u0421\u043e\u0437\u0434\u0430\u043d";break;case"Draft":t="\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a";break;case"Canceled":t="\u041e\u0442\u043c\u0435\u043d\u0435\u043d"}return t}}]),e}()).\u0275fac=function(e){return new(e||rb)(F.Kb(N.d),F.Kb(j.a),F.Kb(D),F.Kb(S.f))},rb.\u0275cmp=F.Eb({type:rb,selectors:[["app-demand-history-page"]],decls:19,vars:12,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"subheader"],[1,"actions",3,"formGroup"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u0430","styleClass","search-field","optionLabel","name","optionValue","type",3,"options","onChange"],[1,"mr-20",3,"ngClass"],[4,"ngIf","ngIfElse"],["searchIconTemplate",""],["type","text","placeholder","\u041f\u043e\u0438\u0441\u043a","formControlName","search","pInputText","",1,"p-inputtext-lg","mib-input-icon"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined",3,"routerLink"],[1,"demand-list"],["skeletonDemandTemplate",""],[1,"pi","pi-spin","pi-spinner"],[1,"pi","pi-search"],["class","demand-item",4,"ngFor","ngForOf"],[1,"demand-item"],[1,"demand-info"],[1,"demand-card"],[1,"demand-card-content"],[1,"demand-content"],[1,"text"],[1,"icon","arrow_right"],[1,"demand-status-info"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"demand-status-date"],["class","demand-actions",4,"ngIf"],[1,"demand-manager"],[1,"demand-manager-date"],["noManager",""],[1,"demand-status","default"],[1,"demand-status","success"],[1,"demand-status","warning"],[1,"demand-actions"],[4,"ngIf"],["editTemplate",""],["removeTemplate",""],["pButton","","pRipple","","type","button","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"p-button-outlined","p-button-danger","mib-small",3,"click"],["pButton","","pRipple","","type","button","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","p-button-danger","mib-small",3,"click"],["pButton","","pRipple","","type","button","label","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],["pButton","","pRipple","","type","button","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],[1,"demand-manager-info"],["width","10rem","styleClass","p-mb-2"]],template:function(e,t){if(1&e&&(F.Qb(0,"div",0),F.Qb(1,"div",1),F.Qb(2,"div",2),F.Qb(3,"h2"),F.Hc(4,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"),F.Pb(),F.Qb(5,"div",3),F.Hc(6," \u0421\u043f\u0438\u0441\u043e\u043a \u0418\u0441\u0442\u043e\u0440\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 "),F.Pb(),F.Pb(),F.Qb(7,"form",4),F.Qb(8,"p-dropdown",5),F.Xb("onChange",function(e){return t.onFilterStatusChange(e)}),F.Pb(),F.Qb(9,"span",6),F.Fc(10,Tu,2,0,"ng-container",7),F.Fc(11,Lu,1,0,"ng-template",null,8,F.Gc),F.Lb(13,"input",9),F.Pb(),F.Lb(14,"button",10),F.Pb(),F.Pb(),F.Qb(15,"div",11),F.Fc(16,Yu,2,1,"ng-container",7),F.Fc(17,ib,1,8,"ng-template",null,12,F.Gc),F.Pb(),F.Pb()),2&e){var n=F.vc(12),i=F.vc(18);F.hc("ngClass",F.mc(9,ab,t.isUserVerified)),F.zb(7),F.hc("formGroup",t.searchForm),F.zb(1),F.hc("options",t.statusTypes),F.zb(1),F.hc("ngClass",t.isSearching?"p-input-icon-right":"p-input-icon-left"),F.zb(1),F.hc("ngIf",t.isSearching)("ngIfElse",n),F.zb(4),F.hc("routerLink",F.lc(11,ob)),F.zb(2),F.hc("ngIf",t.loading)("ngIfElse",i)}},directives:[_.l,N.y,N.q,N.h,R.a,_.n,N.b,N.p,N.f,B.a,M.b,S.g,_.m,_.p,_.q,ue.a],pipes:[_.f],styles:[".demand-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]{padding-left:30px;padding-right:20px;border:1px solid #d5d5d5;box-sizing:border-box;border-radius:10px;width:100%}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]{visibility:hidden;display:flex;flex-direction:column}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-content[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:500;font-size:1.5rem;line-height:1.75rem;color:#102538}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-content[_ngcontent-%COMP%]   .icon.arrow_right[_ngcontent-%COMP%]{margin-left:13px;background:url(/assets/icons/arrow_right.png) no-repeat 50%;width:20px;height:20px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]{display:flex;font-style:normal;font-weight:400;font-size:14px;line-height:16px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]   .demand-status[_ngcontent-%COMP%]{margin-right:5px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]   .demand-status.default[_ngcontent-%COMP%]{color:#0c83f1}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]   .demand-status.success[_ngcontent-%COMP%]{color:#69cf74}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]   .demand-status.warning[_ngcontent-%COMP%]{color:#e74630}.demand-item[_ngcontent-%COMP%]   .demand-manager[_ngcontent-%COMP%]{padding:20px 12px;width:300px;border:1px solid #d5d5d5;box-sizing:border-box;border-radius:10px;text-align:center}.demand-item[_ngcontent-%COMP%]   .demand-manager[_ngcontent-%COMP%]   .demand-manager-date[_ngcontent-%COMP%]{font-size:14px;line-height:16px;margin-bottom:10px}.demand-item[_ngcontent-%COMP%]   .demand-manager[_ngcontent-%COMP%]   .demand-manager-info[_ngcontent-%COMP%]{padding:14px;font-size:14px;border:1px solid #0c83f1;box-sizing:border-box;border-radius:10px;color:#0c83f1}.demand-item[_ngcontent-%COMP%]:hover   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]{visibility:visible}@media (max-width:1300px){.actions[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:0;width:100%}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.demand-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;margin-bottom:10px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]{padding:35px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]{width:100%;visibility:visible;display:flex;justify-content:space-between;flex-direction:row}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-content[_ngcontent-%COMP%]{display:flex;align-items:center}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]{display:flex}.demand-item[_ngcontent-%COMP%]   .demand-manager[_ngcontent-%COMP%]{width:100%}}"]}),rb),sb=a("mrSG"),lb=a("+wfv"),db=function(){return document.createElement("a")};function ub(e,t){var n=e;if("string"==typeof e){for(var i=e.split(";base64,"),r=i[0],a=atob(i[1]),o=new Uint8Array(a.length),c=0;c<a.length;c++)o[c]=a.charCodeAt(c);n=new Blob([o.buffer],{type:r})}navigator.msSaveBlob(n,t)}function bb(e,t){var n=e;window.Blob&&e instanceof Blob&&(n=URL.createObjectURL(e));var i=db();i.download=t,i.href=n;var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),i.dispatchEvent(r),setTimeout(function(){return URL.revokeObjectURL(n)})}function fb(e,t,n){if(n.proxyURL){var i=document.createElement("form");i.setAttribute("action",n.proxyURL),i.setAttribute("method","POST"),i.setAttribute("target",n.proxyTarget||"_self");var r=n.proxyData||{};r.fileName=t;var a=e.split(";base64,");for(var o in r.contentType=a[0].replace("data:",""),r.base64=a[1],r)if(r.hasOwnProperty(o)){var c=document.createElement("input");c.setAttribute("type","hidden"),c.setAttribute("name",o),c.setAttribute("value",r[o]),i.appendChild(c)}document.body.appendChild(i),i.submit(),document.body.removeChild(i)}}var pb=a("xOOu"),hb=a("lJzz"),mb=a("vKg+"),gb=function(e){return[e]};function vb(e,t){if(1&e&&(F.Qb(0,"div",13),F.Qb(1,"div",14),F.Qb(2,"div",15),F.Qb(3,"div",16),F.Hc(4),F.Pb(),F.Lb(5,"div",17),F.Pb(),F.Pb(),F.Pb()),2&e){var n=F.ac().$implicit;F.zb(1),F.hc("routerLink",F.mc(2,gb,n.url)),F.zb(3),F.Jc(" ",n.text," ")}}function Pb(e,t){if(1&e&&(F.Qb(0,"div",13),F.Qb(1,"div",14),F.Qb(2,"div",15),F.Qb(3,"div",16),F.Hc(4),F.Pb(),F.Lb(5,"div",17),F.Pb(),F.Pb(),F.Pb()),2&e){var n=F.ac().$implicit;F.zb(1),F.hc("routerLink",F.mc(2,gb,n.url)),F.zb(3),F.Jc(" ",n.text," ")}}function yb(e,t){if(1&e&&(F.Ob(0),F.Fc(1,vb,6,4,"div",12),F.Fc(2,Pb,6,4,"div",12),F.Nb()),2&e){var n=t.$implicit,i=F.ac();F.zb(1),F.hc("ngIf",n.isForDefaultClient&&i.isUserVerified),F.zb(1),F.hc("ngIf",n.isForNewClient&&!i.isUserVerified)}}function kb(e,t){1&e&&F.Lb(0,"p-progressSpinner")}function Ib(e,t){if(1&e&&(F.Qb(0,"pre"),F.Hc(1),F.bc(2,"json"),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.Ic(F.cc(2,1,n.certInfo))}}function Fb(e,t){1&e&&(F.Qb(0,"pre"),F.Hc(1,"\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f..."),F.Pb())}function Qb(e,t){if(1&e){var n=F.Rb();F.Qb(0,"details",50),F.Xb("click",function(){F.yc(n);var e=F.ac(2);return e.showCertInfo(e.thumbprint)}),F.Qb(1,"summary"),F.Hc(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0435"),F.Pb(),F.Fc(3,Ib,3,3,"pre",35),F.Fc(4,Fb,2,0,"pre",35),F.Pb()}if(2&e){var i=F.ac(2);F.zb(3),F.hc("ngIf",i.certInfo),F.zb(1),F.hc("ngIf",!i.certInfo)}}function Cb(e,t){if(1&e&&(F.Qb(0,"pre"),F.Hc(1),F.bc(2,"json"),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.Ic(F.cc(2,1,n.systemInfo))}}function Db(e,t){if(1&e&&(F.Qb(0,"pre"),F.Hc(1),F.bc(2,"json"),F.Pb()),2&e){var n=F.ac(3);F.zb(1),F.Ic(F.cc(2,1,n.certInfo))}}function zb(e,t){1&e&&(F.Qb(0,"pre"),F.Hc(1,"\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f..."),F.Pb())}function Sb(e,t){if(1&e){var n=F.Rb();F.Qb(0,"details",50),F.Xb("click",function(){F.yc(n);var e=F.ac(2);return e.showCertInfo(e.thumbprint)}),F.Qb(1,"summary"),F.Hc(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0435"),F.Pb(),F.Fc(3,Db,3,3,"pre",35),F.Fc(4,zb,2,0,"pre",35),F.Pb()}if(2&e){var i=F.ac(2);F.zb(3),F.hc("ngIf",i.certInfo),F.zb(1),F.hc("ngIf",!i.certInfo)}}function wb(e,t){if(1&e&&(F.Qb(0,"pre"),F.Hc(1),F.bc(2,"json"),F.Pb()),2&e){var n=F.ac(2);F.zb(1),F.Ic(F.cc(2,1,n.systemInfo))}}function xb(e,t){if(1&e&&(F.Qb(0,"div"),F.Qb(1,"label"),F.Hc(2),F.Pb(),F.Lb(3,"br"),F.Lb(4,"div"),F.Pb()),2&e){var n=t.$implicit;F.zb(2),F.Ic(n.name)}}function Ob(e,t){if(1&e){var n=F.Rb();F.Qb(0,"div",18),F.Qb(1,"p-tabView"),F.Qb(2,"p-tabPanel",19),F.Qb(3,"form",20,21),F.Xb("ngSubmit",function(){F.yc(n);var e=F.ac();return e.createSignature(e.thumbprint)}),F.Qb(5,"fieldset"),F.Qb(6,"legend"),F.Hc(7,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0438"),F.Pb(),F.Qb(8,"label",22),F.Hc(9,"\u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435: *"),F.Pb(),F.Lb(10,"br"),F.Qb(11,"textarea",23),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().message=e}),F.Hc(12,"METIB"),F.Pb(),F.Lb(13,"br"),F.Lb(14,"br"),F.Qb(15,"label",24),F.Hc(16,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442: *"),F.Pb(),F.Lb(17,"br"),F.Qb(18,"p-dropdown",25),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().thumbprint=e}),F.Pb(),F.Qb(19,"pre"),F.Hc(20),F.Pb(),F.Fc(21,Qb,5,2,"details",26),F.Qb(22,"pre"),F.Hc(23),F.Pb(),F.Qb(24,"label"),F.Hc(25,"\u0422\u0438\u043f \u043f\u043e\u0434\u043f\u0438\u0441\u0438: *"),F.Pb(),F.Lb(26,"br"),F.Qb(27,"label"),F.Qb(28,"input",27),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().detachedSignature=e}),F.Pb(),F.Hc(29,"\u0421\u043e\u0432\u043c\u0435\u0449\u0435\u043d\u043d\u0430\u044f"),F.Pb(),F.Lb(30,"br"),F.Qb(31,"label"),F.Qb(32,"input",27),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().detachedSignature=e}),F.Pb(),F.Hc(33,"\u041e\u0442\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f"),F.Pb(),F.Lb(34,"br"),F.Lb(35,"br"),F.Lb(36,"hr"),F.Lb(37,"p-button",28),F.Qb(38,"p-button",29),F.Xb("click",function(){return F.yc(n),F.ac().download()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(39,"fieldset"),F.Qb(40,"legend"),F.Hc(41,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),F.Pb(),F.Qb(42,"label",30),F.Hc(43,"\u0425\u0435\u0448 (\u0413\u041e\u0421\u0422 \u0420 34.11-2012 256 \u0431\u0438\u0442):"),F.Pb(),F.Lb(44,"br"),F.Qb(45,"textarea",31),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().hash=e}),F.Pb(),F.Qb(46,"pre"),F.Hc(47),F.Pb(),F.Qb(48,"label",32),F.Hc(49,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c (PKCS7):"),F.Pb(),F.Lb(50,"br"),F.Qb(51,"textarea",33),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().signature=e}),F.Pb(),F.Qb(52,"pre"),F.Hc(53),F.Pb(),F.Qb(54,"p"),F.Hc(55," \u0414\u043b\u044f "),F.Qb(56,"a",34),F.Hc(57,"\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"),F.Pb(),F.Hc(58," \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441\u043e \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e \u0432 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0435 UTF-8 \u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c *.sgn "),F.Lb(59,"br"),F.Hc(60," \u0434\u043b\u044f \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 (\u0438\u043b\u0438 *.sig \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0449\u0435\u043d\u043d\u043e\u0439). "),F.Pb(),F.Pb(),F.Qb(61,"fieldset"),F.Qb(62,"legend"),F.Hc(63,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0435"),F.Pb(),F.Fc(64,Cb,3,3,"pre",35),F.Qb(65,"pre"),F.Hc(66),F.Pb(),F.Pb(),F.Pb(),F.Qb(67,"p-tabPanel",36),F.Qb(68,"form",20,21),F.Xb("ngSubmit",function(){F.yc(n);var e=F.ac();return e.createSignatureWithFile(e.thumbprint)}),F.Qb(70,"fieldset"),F.Qb(71,"legend"),F.Hc(72,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0438"),F.Pb(),F.Qb(73,"div",37),F.Qb(74,"div",38),F.Qb(75,"p"),F.Hc(76," \u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c\u044b\u0439 \u0444\u0430\u0439\u043b: "),F.Pb(),F.Pb(),F.Qb(77,"div",39),F.Qb(78,"input",40),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"All")}),F.Pb(),F.Qb(79,"label",41),F.Lb(80,"i",42),F.Hc(81," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Lb(82,"br"),F.Lb(83,"br"),F.Qb(84,"label",24),F.Hc(85,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442: *"),F.Pb(),F.Lb(86,"br"),F.Qb(87,"p-dropdown",25),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().thumbprint=e}),F.Pb(),F.Qb(88,"pre"),F.Hc(89),F.Pb(),F.Fc(90,Sb,5,2,"details",26),F.Qb(91,"pre"),F.Hc(92),F.Pb(),F.Qb(93,"label"),F.Hc(94,"\u0422\u0438\u043f \u043f\u043e\u0434\u043f\u0438\u0441\u0438: *"),F.Pb(),F.Lb(95,"br"),F.Qb(96,"label"),F.Qb(97,"input",27),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().detachedSignature=e}),F.Pb(),F.Hc(98,"\u0421\u043e\u0432\u043c\u0435\u0449\u0435\u043d\u043d\u0430\u044f"),F.Pb(),F.Lb(99,"br"),F.Qb(100,"label"),F.Qb(101,"input",27),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().detachedSignature=e}),F.Pb(),F.Hc(102,"\u041e\u0442\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f"),F.Pb(),F.Lb(103,"br"),F.Lb(104,"br"),F.Lb(105,"hr"),F.Lb(106,"p-button",28),F.Qb(107,"p-button",29),F.Xb("click",function(){return F.yc(n),F.ac().downloadFile()}),F.Pb(),F.Pb(),F.Pb(),F.Qb(108,"fieldset"),F.Qb(109,"legend"),F.Hc(110,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),F.Pb(),F.Qb(111,"label",30),F.Hc(112,"\u0425\u0435\u0448 (\u0413\u041e\u0421\u0422 \u0420 34.11-2012 256 \u0431\u0438\u0442):"),F.Pb(),F.Lb(113,"br"),F.Qb(114,"textarea",31),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().hash=e}),F.Pb(),F.Qb(115,"pre"),F.Hc(116),F.Pb(),F.Qb(117,"label",43),F.Hc(118,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c (PKCS7):"),F.Pb(),F.Lb(119,"br"),F.Qb(120,"textarea",44),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().fileSignature=e}),F.Pb(),F.Qb(121,"pre"),F.Hc(122),F.Pb(),F.Qb(123,"p"),F.Hc(124," \u0414\u043b\u044f "),F.Qb(125,"a",34),F.Hc(126,"\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"),F.Pb(),F.Hc(127," \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441\u043e \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e \u0432 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0435 UTF-8 \u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c *.sgn "),F.Lb(128,"br"),F.Hc(129," \u0434\u043b\u044f \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 (\u0438\u043b\u0438 *.sig \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0449\u0435\u043d\u043d\u043e\u0439). "),F.Pb(),F.Pb(),F.Qb(130,"fieldset"),F.Qb(131,"legend"),F.Hc(132,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0435"),F.Pb(),F.Fc(133,wb,3,3,"pre",35),F.Qb(134,"pre"),F.Hc(135),F.Pb(),F.Pb(),F.Pb(),F.Qb(136,"p-tabPanel",45),F.Qb(137,"fieldset"),F.Qb(138,"legend"),F.Hc(139,"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0438"),F.Pb(),F.Qb(140,"div",37),F.Qb(141,"div",38),F.Qb(142,"p"),F.Hc(143," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b: "),F.Pb(),F.Pb(),F.Qb(144,"div",39),F.Qb(145,"input",46),F.Xb("change",function(e){return F.yc(n),F.ac().onSelect(e,"Rar")}),F.Pb(),F.Qb(146,"label",47),F.Lb(147,"i",42),F.Hc(148," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),F.Pb(),F.Pb(),F.Pb(),F.Lb(149,"br"),F.Lb(150,"br"),F.Pb(),F.Qb(151,"fieldset"),F.Qb(152,"legend"),F.Hc(153,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),F.Pb(),F.Qb(154,"label",48),F.Hc(155,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u0424\u0430\u0439\u043b\u0430 (PKCS7):"),F.Pb(),F.Lb(156,"br"),F.Qb(157,"textarea",49),F.Xb("ngModelChange",function(e){return F.yc(n),F.ac().eds=e}),F.Pb(),F.Qb(158,"pre"),F.Hc(159),F.Pb(),F.Lb(160,"hr"),F.Qb(161,"p"),F.Hc(162," \u0424\u0430\u0439\u043b\u044b: "),F.Pb(),F.Fc(163,xb,5,1,"div",7),F.Pb(),F.Pb(),F.Pb(),F.Pb()}if(2&e){var i=F.vc(4),r=F.ac();F.zb(11),F.hc("ngModel",r.message),F.zb(7),F.hc("options",r.certificateList)("ngModel",r.thumbprint)("showClear",!0),F.zb(2),F.Ic(r.certificateListError),F.zb(1),F.hc("ngIf",r.thumbprint),F.zb(2),F.Ic(r.certificateInfoError),F.zb(5),F.hc("value",!1)("ngModel",r.detachedSignature),F.zb(4),F.hc("value",!0)("ngModel",r.detachedSignature),F.zb(5),F.hc("disabled",!i.valid),F.zb(1),F.hc("disabled",!i.valid),F.zb(7),F.hc("ngModel",r.hash)("placeholder",r.hashStatus),F.zb(2),F.Ic(r.hashError),F.zb(4),F.hc("placeholder",r.signatureStatus)("ngModel",r.signature),F.zb(2),F.Ic(r.signatureError),F.zb(11),F.hc("ngIf",r.systemInfo),F.zb(2),F.Ic(r.systemInfoError),F.zb(21),F.hc("options",r.certificateList)("ngModel",r.thumbprint)("showClear",!0),F.zb(2),F.Ic(r.certificateListError),F.zb(1),F.hc("ngIf",r.thumbprint),F.zb(2),F.Ic(r.certificateInfoError),F.zb(5),F.hc("value",!1)("ngModel",r.detachedSignature),F.zb(4),F.hc("value",!0)("ngModel",r.detachedSignature),F.zb(5),F.hc("disabled",!i.valid),F.zb(1),F.hc("disabled",!i.valid),F.zb(7),F.hc("ngModel",r.hash)("placeholder",r.hashStatus),F.zb(2),F.Ic(r.hashError),F.zb(4),F.hc("placeholder",r.signatureStatus)("ngModel",r.fileSignature),F.zb(2),F.Ic(r.signatureError),F.zb(11),F.hc("ngIf",r.systemInfo),F.zb(2),F.Ic(r.systemInfoError),F.zb(22),F.hc("placeholder",r.signatureStatus)("ngModel",r.eds),F.zb(2),F.Ic(r.signatureError),F.zb(4),F.hc("ngForOf",r.filesWithEDS)}}function _b(e,t){if(1&e){var n=F.Rb();F.Qb(0,"p-button",51),F.Xb("click",function(){return F.yc(n),F.ac().displayModal=!1}),F.Pb()}}var Eb,Ab,Nb=function(e){return{"card-content":e}},Tb=function(){return["history"]},Lb=function(){return{width:"80vw"}},Hb=[{path:"",children:[{path:"",component:(Eb=function(){function e(t,n){r(this,e),this.authService=t,this.cryproService=n,this.actions=[],this.isUserVerified=!1,this.displayModal=!1,this.isCertsLoading=!1,this.certificateList=[],this.message="METIB",this.hash=null,this.hashStatus="\u041d\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d",this.detachedSignature=!0,this.thumbprint=null,this.signature=null,this.fileSignature=null,this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430",this.certificateListError=null,this.certificateInfoError=null,this.hashError=null,this.signatureError=null,this.systemInfoError=null,this.certInfo=null,this.setting={element:{dynamicDownload:null}},this.CADESCOM_CADES_BES=1,this.CAPICOM_CURRENT_USER_STORE=2,this.CAPICOM_MY_STORE="My",this.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,this.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,this.CADESCOM_BASE64_TO_BINARY=1,this.eds="",this.filesWithEDS=[],this.subscription$=new O.a}return o(e,[{key:"ngOnInit",value:function(){this.initActions(),this.isUserVerified=this.authService.isUserVerified()}},{key:"ngOnDestroy",value:function(){this.subscription$.unsubscribe()}},{key:"openCerts",value:function(){var e=this;this.displayModal=!0,this.isCertsLoading=!0,this.subscription$.add(this.cryproService.getCertificates().subscribe(function(t){console.log(t),e.certificateList=t,e.isCertsLoading=!1}))}},{key:"initActions",value:function(){this.actions=[{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",url:"actions/edit-profile",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443",url:"actions/free-request",isForNewClient:!1,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443",url:"actions/support-request",isForNewClient:!1,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f",url:"actions/create-eds",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",url:"actions/surety",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433",url:"actions/factoring",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0430\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433",url:"actions/agent-factoring",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430",url:"actions/update-limit",isForNewClient:!1,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430",url:"actions/create-debitor",isForNewClient:!1,isForDefaultClient:!0},{text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043a\u0430\u043d\u0430\u043b\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438",url:"actions/verify",isForNewClient:!1,isForDefaultClient:!0}];var e=this.authService.getUserFromStore();if(e&&e.DebtorID){var t=this.actions.find(function(e){return"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0430\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433"===e.text}),n=Object.assign(Object.assign({},t),{isForNewClient:!1,isForDefaultClient:!1}),i=this.actions.indexOf(t);this.actions[i]=n}if(e&&e.CustomerID){var r=this.actions.find(function(e){return"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433"===e.text}),a=Object.assign(Object.assign({},r),{isForNewClient:!1,isForDefaultClient:!1}),o=this.actions.indexOf(r);this.actions[o]=a}}},{key:"downloadFile",value:function(){var e=new pb;e.file("key.sig",this.fileSignature),e.file("file.jpg",this.file),e.generateAsync({type:"blob"}).then(function(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=fb;if(n.forceProxy&&!n.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");n.forceProxy||("download"in db()&&(i=bb),navigator.msSaveBlob&&(i=ub)),i(e,t,n)}(e,"\u043f\u043e\u0434\u043f\u0438\u0441\u044c.zip")})}},{key:"download",value:function(){this.dyanmicDownloadByHtmlTag({fileName:"\u041f\u043e\u0434\u043f\u0438\u0441\u044c",text:this.signature})}},{key:"dyanmicDownloadByHtmlTag",value:function(e){this.setting.element.dynamicDownload||(this.setting.element.dynamicDownload=document.createElement("a"));var t=this.setting.element.dynamicDownload,n=this.detachedSignature?".sig":".sgn";t.setAttribute("href","data:".concat(n,";charset=utf-8,").concat(encodeURIComponent(e.text))),t.setAttribute("download","".concat(e.fileName).concat(n));var i=new MouseEvent("click");t.dispatchEvent(i)}},{key:"createSignatureWithFile",value:function(e){return Object(sb.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(e),console.log(this.file),this.hash=null,this.hashError=null,this.fileSignature=null,this.signatureError=null,this.hashStatus="\u0412\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f...",t.prev=1,t.next=4,Object(lb.createHash)(this.file);case 4:this.hash=t.sent,console.log("HASH",this.hash),t.next=11;break;case 8:return t.prev=8,t.t0=t.catch(1),t.abrupt("return",void(this.hashError=t.t0.message));case 11:if(this.hashStatus="\u041d\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d",this.signatureStatus="\u0421\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f...",!this.detachedSignature){t.next=24;break}return t.prev=12,t.next=15,Object(lb.createDetachedSignature)(e,this.hash);case 15:this.fileSignature=t.sent,t.next=21;break;case 18:t.prev=18,t.t1=t.catch(12),this.signatureError=t.t1.message;case 21:this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430",t.next=34;break;case 24:return t.prev=24,t.next=27,Object(lb.createAttachedSignature)(e,this.file);case 27:this.fileSignature=t.sent,t.next=33;break;case 30:t.prev=30,t.t2=t.catch(24),this.signatureError=t.t2.message;case 33:this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430";case 34:case"end":return t.stop()}},t,this,[[1,8],[12,18],[24,30]])}))}},{key:"createSignature",value:function(e){return Object(sb.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.hash=null,this.hashError=null,this.signature=null,this.signatureError=null,this.hashStatus="\u0412\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f...",t.prev=1,t.next=4,Object(lb.createHash)(this.message);case 4:this.hash=t.sent,t.next=10;break;case 7:return t.prev=7,t.t0=t.catch(1),t.abrupt("return",void(this.hashError=t.t0.message));case 10:if(this.hashStatus="\u041d\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d",this.signatureStatus="\u0421\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f...",!this.detachedSignature){t.next=23;break}return t.prev=11,t.next=14,Object(lb.createDetachedSignature)(e,this.hash);case 14:this.signature=t.sent,t.next=20;break;case 17:t.prev=17,t.t1=t.catch(11),this.signatureError=t.t1.message;case 20:this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430",t.next=33;break;case 23:return t.prev=23,t.next=26,Object(lb.createAttachedSignature)(e,this.message);case 26:this.signature=t.sent,t.next=32;break;case 29:t.prev=29,t.t2=t.catch(23),this.signatureError=t.t2.message;case 32:this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430";case 33:case"end":return t.stop()}},t,this,[[1,7],[11,17],[23,29]])}))}},{key:"showCertInfo",value:function(e){return Object(sb.a)(this,void 0,void 0,regeneratorRuntime.mark(function t(){var n;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.certInfo=null,this.certificateInfoError=null,t.prev=1,t.next=4,Object(lb.getCertificate)(e);case 4:return n=t.sent,t.t0=n.name,t.t1=n.issuerName,t.t2=n.subjectName,t.t3=n.thumbprint,t.t4=n.validFrom,t.t5=n.validTo,t.next=13,n.isValid();case 13:return t.t6=t.sent,t.next=16,n.getCadesProp("Version");case 16:return t.t7=t.sent,t.next=19,n.exportBase64();case 19:return t.t8=t.sent,t.next=22,n.getAlgorithm();case 22:return t.t9=t.sent,t.next=25,n.getExtendedKeyUsage();case 25:return t.t10=t.sent,t.next=28,n.getOwnerInfo();case 28:return t.t11=t.sent,t.next=31,n.getIssuerInfo();case 31:return t.t12=t.sent,t.next=34,n.getDecodedExtendedKeyUsage();case 34:return t.t13=t.sent,t.next=37,n.hasExtendedKeyUsage("1.3.6.1.4.1.311.80.1");case 37:return t.t14=t.sent,t.next=40,n.hasExtendedKeyUsage(["1.3.6.1.5.5.7.3.2","1.3.6.1.4.1.311.10.3.12"]);case 40:return t.t15=t.sent,t.next=43,n.hasExtendedKeyUsage("1.3.6.1.4.1.311.80.2");case 43:return t.t16=t.sent,t.next=46,n.hasExtendedKeyUsage(["1.3.6.1.5.5.7.3.3","1.3.6.1.4.1.311.10.3.12"]);case 46:t.t17=t.sent,this.certInfo={name:t.t0,issuerName:t.t1,subjectName:t.t2,thumbprint:t.t3,validFrom:t.t4,validTo:t.t5,isValid:t.t6,version:t.t7,base64:t.t8,algorithm:t.t9,extendedKeyUsage:t.t10,ownerInfo:t.t11,issuerInfo:t.t12,decodedExtendedKeyUsage:t.t13,"1.3.6.1.4.1.311.80.1":t.t14,"['1.3.6.1.5.5.7.3.2', '1.3.6.1.4.1.311.10.3.12']":t.t15,"1.3.6.1.4.1.311.80.2":t.t16,"'1.3.6.1.5.5.7.3.3', '1.3.6.1.4.1.311.10.3.12'":t.t17},t.next=53;break;case 50:t.prev=50,t.t18=t.catch(1),this.certificateInfoError=t.t18.message;case 53:case"end":return t.stop()}},t,this,[[1,50]])}))}},{key:"displayCertificates",value:function(){return Object(sb.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.certificateListError=null,e.prev=1,e.next=4,Object(lb.getUserCertificates)();case 4:this.certificateList=e.sent,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),this.certificateListError=e.t0.message;case 10:case"end":return e.stop()}},e,this,[[1,7]])}))}},{key:"displaySystemInfo",value:function(){return Object(sb.a)(this,void 0,void 0,regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.systemInfoError=null,e.prev=1,e.t0=Object,e.t1=Object,e.t2={},e.next=7,Object(lb.getSystemInfo)();case 7:return e.t3=e.sent,e.t4=e.t1.assign.call(e.t1,e.t2,e.t3),e.next=11,Object(lb.isValidSystemSetup)();case 11:e.t5=e.sent,e.t6={isValidSystemSetup:e.t5},this.systemInfo=e.t0.assign.call(e.t0,e.t4,e.t6),e.next=19;break;case 16:e.prev=16,e.t7=e.catch(1),this.systemInfoError=e.t7.message;case 19:case"end":return e.stop()}},e,this,[[1,16]])}))}},{key:"onSelect",value:function(e,t){var n=this,i=e.target.files[0];if("Rar"===t)(new pb).loadAsync(i).then(function(e){Object.keys(e.files).forEach(function(t){console.log("ZIP FILES",e.files),console.log("File Name",t),console.log("Current File",e.files[t]),e.files[t].async("string").then(function(i){if(console.log("Type",e.files[t].name.split(".")[1]),"sig"===e.files[t].name.split(".")[1])n.eds=i;else{var r=n.dataURItoBlob(i),a=new File([r],e.files[t].name,{type:e.files[t].name.split(".")[1]});n.filesWithEDS.push(a)}i=i+"**$$##$$**"+i,console.log("FD",i)})})});else{var r=new FileReader;r.onload=function(e){n.file=r.result},r.readAsArrayBuffer(i)}}},{key:"dataURItoBlob",value:function(e){for(var t=new ArrayBuffer(e),n=new Uint8Array(t),i=0;i<e;i++)n[i]=e.charCodeAt(i);return new Blob([n])}}]),e}(),Eb.\u0275fac=function(e){return new(e||Eb)(F.Kb(j.a),F.Kb(hb.a))},Eb.\u0275cmp=F.Eb({type:Eb,selectors:[["app-demand-page"]],decls:16,vars:16,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"subheader"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"basic",3,"routerLink"],[1,"p-grid"],[4,"ngFor","ngForOf"],["header","\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u042d\u0426\u041f",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],[4,"ngIf","ngIfElse"],["templateContent",""],["pTemplate","footer"],["class","p-col",4,"ngIf"],[1,"p-col"],[1,"demand-action-card","can-click",3,"routerLink"],[1,"demand-action-content"],[1,"text"],[1,"icon","arrow_right"],[2,"min-height","50vh"],["header","\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"],["novalidate","",3,"ngSubmit"],["signatureForm","ngForm"],["for","message"],["id","message","pInputTextarea","","name","message","cols","80","rows","5","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","autofocus","","required","",3,"ngModel","ngModelChange"],["for","certificate"],["id","certificate","name","certificate","optionLabel","name","optionValue","thumbprint",3,"options","ngModel","showClear","ngModelChange"],[3,"click",4,"ngIf"],["type","radio","name","detachedSignature",3,"value","ngModel","ngModelChange"],["type","submit","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c",1,"p-mr-1",3,"disabled"],["type","button","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c",3,"disabled","click"],["for","hash"],["id","hash","cols","80","rows","5",3,"ngModel","placeholder","ngModelChange"],["for","signature"],["id","signature","name","signature","cols","80","rows","30",3,"placeholder","ngModel","ngModelChange"],["href","https://www.gosuslugi.ru/pgu/eds/","target","_blank","rel","nofollow noopener noreferrer","title","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0438"],[4,"ngIf"],["header","\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u0430"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","All","hidden","",3,"change"],["for","All",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["for","fileSignature"],["id","fileSignature","name","fileSignature","cols","80","rows","30",3,"placeholder","ngModel","ngModelChange"],["header","\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"],["type","file","id","Rar","hidden","",3,"change"],["for","Rar",1,"mib-upload"],["for","eds"],["id","eds","name","eds","cols","80","rows","30",3,"placeholder","ngModel","ngModelChange"],[3,"click"],["icon","pi pi-check","label","Ok","styleClass","p-button-text",3,"click"]],template:function(e,t){if(1&e&&(F.Qb(0,"div",0),F.Qb(1,"div",1),F.Qb(2,"div",2),F.Qb(3,"h2"),F.Hc(4,"\u0417\u0430\u043f\u0440\u043e\u0441\u044b"),F.Pb(),F.Qb(5,"div",3),F.Hc(6," \u0421\u043f\u0438\u0441\u043e\u043a \u0417\u0430\u043f\u0440\u043e\u0441\u043e\u0432 "),F.Pb(),F.Pb(),F.Qb(7,"div",4),F.Lb(8,"button",5),F.Pb(),F.Pb(),F.Qb(9,"div",6),F.Fc(10,yb,3,2,"ng-container",7),F.Pb(),F.Pb(),F.Qb(11,"p-dialog",8),F.Xb("visibleChange",function(e){return t.displayModal=e}),F.Fc(12,kb,1,0,"p-progressSpinner",9),F.Fc(13,Ob,164,45,"ng-template",null,10,F.Gc),F.Fc(15,_b,1,0,"ng-template",11),F.Pb()),2&e){var n=F.vc(14);F.hc("ngClass",F.mc(12,Nb,t.isUserVerified)),F.zb(8),F.hc("routerLink",F.lc(14,Tb)),F.zb(2),F.hc("ngForOf",t.actions),F.zb(1),F.Dc(F.lc(15,Lb)),F.hc("visible",t.displayModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),F.zb(1),F.hc("ngIf",t.isCertsLoading)("ngIfElse",n)}},directives:[_.l,M.b,S.g,_.m,u.a,_.n,U.i,mb.a,K.b,K.a,N.y,N.q,N.r,N.b,de.a,N.w,N.p,N.s,R.a,N.u,M.a],pipes:[_.h],styles:[".demand-action-card[_ngcontent-%COMP%]{width:100%;height:100%;padding:45px 56px;background:#fff;border-radius:10px}.demand-action-card[_ngcontent-%COMP%]   .demand-action-content[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#102538;display:flex;align-items:center}.demand-action-card[_ngcontent-%COMP%]   .demand-action-content[_ngcontent-%COMP%]   .icon.arrow_right[_ngcontent-%COMP%]{margin-left:13px;background:url(/assets/icons/arrow_right.png) no-repeat 50%;width:20px;height:20px}.demand-action-card[_ngcontent-%COMP%]:hover{box-shadow:0 15px 25px rgba(0,0,0,.1);transition:box-shadow .3s ease-in-out}"]}),Eb)},{path:"history",component:cb},{path:"actions/edit-profile",canDeactivate:[w],component:Lr},{path:"actions/create-debitor",canDeactivate:[w],component:Gi},{path:"actions/create-eds",canDeactivate:[w],component:io},{path:"actions/update-limit",canDeactivate:[w],component:Ns},{path:"actions/free-request",canDeactivate:[w],component:il},{path:"actions/support-request",canDeactivate:[w],component:al},{path:"actions/agent-factoring",canDeactivate:[w],component:Fi},{path:"actions/factoring",canDeactivate:[w],component:ls},{path:"actions/surety",canDeactivate:[w],component:ou},{path:"actions/verify",canDeactivate:[w],component:_u}]}],Bb=((Ab=function e(){r(this,e)}).\u0275mod=F.Ib({type:Ab}),Ab.\u0275inj=F.Hb({factory:function(e){return new(e||Ab)},imports:[[S.j.forChild(Hb)],S.j]}),Ab),Rb=a("QIUk"),Mb=a("rEr+"),qb=a("lVkt"),jb=a("+DzE"),Ub=a("+la4"),$b=a("LuMj"),Gb=a("b1Ni"),Vb=a("+F6F"),Xb=Object(f.n)(p.CREATE_DEMAND_FACTORING,Object(f.s)()),Kb=Object(f.n)(p.CREATE_DEMAND_FACTORING_SUCCESS,Object(f.s)()),Wb=Object(f.n)(p.CREATE_DEMAND_FACTORING_FAILURE,Object(f.s)()),Zb=a("99NH"),Jb=Object(f.n)(p.REMOVE_DEMANDS,Object(f.s)()),Yb=Object(f.n)(p.REMOVE_DEMANDS_SUCCESS),ef=Object(f.n)(p.REMOVE_DEMANDS_FAILURE),tf=Object(f.n)(p.GET_DRAFTS),nf=Object(f.n)(p.GET_DRAFTS_SUCCESS,Object(f.s)()),rf=Object(f.n)(p.GET_DRAFTS_SUCCESS),af={data:null,drafts:null,isLoading:!1,error:null},of=Object(f.p)(af,Object(f.r)(h,function(e){return Object.assign(Object.assign({},e),{error:null,isLoading:!0})}),Object(f.r)(m,function(e,t){return Object.assign(Object.assign({},e),{isLoading:!1,data:t.demands})}),Object(f.r)(g,function(e){return Object.assign(Object.assign({},e),{isLoading:!1})}),Object(f.r)(tf,function(e){return Object.assign(Object.assign({},e),{error:null,isLoading:!0})}),Object(f.r)(nf,function(e,t){return Object.assign(Object.assign({},e),{isLoading:!1,drafts:t.demands})}),Object(f.r)(rf,function(e){return Object.assign(Object.assign({},e),{isLoading:!1})}),Object(f.r)(Xb,function(e){return Object.assign(Object.assign({},e),{error:null,isLoading:!0})}),Object(f.r)(Kb,function(e,t){return Object.assign(Object.assign({},e),{isLoading:!1})}),Object(f.r)(Wb,function(e,t){return Object.assign(Object.assign({},e),{isLoading:!1,error:t.errors})}),Object(f.r)(Jb,function(e){return Object.assign(Object.assign({},e),{error:null,isLoading:!0})}),Object(f.r)(Yb,function(e,t){return Object.assign(Object.assign({},e),{isLoading:!1})}),Object(f.r)(ef,function(e,t){return Object.assign(Object.assign({},e),{isLoading:!1})}),Object(f.r)(Zb.b,function(){return af}));function cf(e,t){return of(e,t)}var sf,lf,df,uf,bf=a("NCSE"),ff=((uf=function e(t,n,i){var a=this;r(this,e),this.actions$=t,this.router=n,this.demandService=i,this.createDemandFactoring$=Object(v.c)(function(){return a.actions$.pipe(Object(v.d)(Xb),Object(P.a)(function(e){var t=e.data;return a.demandService.add(t).pipe(Object(y.a)(function(e){return Kb({response:e})}),Object(k.a)(function(e){return Object(I.a)(Wb({errors:e.error}))}))}))})}).\u0275fac=function(e){return new(e||uf)(F.Ub(v.a),F.Ub(S.f),F.Ub(D))},uf.\u0275prov=F.Gb({token:uf,factory:uf.\u0275fac}),uf),pf=((df=function e(t,n,i){var a=this;r(this,e),this.actions$=t,this.store=n,this.demandService=i,this.removeDemands$=Object(v.c)(function(){return a.actions$.pipe(Object(v.d)(Jb),Object(P.a)(function(e){var t=e.ID;return a.demandService.deleteDraftById(t).pipe(Object(y.a)(function(){return a.store.dispatch(h()),Yb()}),Object(k.a)(function(){return Object(I.a)(ef())}))}))})}).\u0275fac=function(e){return new(e||df)(F.Ub(v.a),F.Ub(f.h),F.Ub(D))},df.\u0275prov=F.Gb({token:df,factory:df.\u0275fac}),df),hf=((lf=function e(t,n){var i=this;r(this,e),this.actions$=t,this.demandService=n,this.getDrafts$=Object(v.c)(function(){return i.actions$.pipe(Object(v.d)(tf),Object(P.a)(function(){return i.demandService.getDrafts().pipe(Object(y.a)(function(e){return nf({demands:e})}),Object(k.a)(function(){return Object(I.a)(rf())}))}))})}).\u0275fac=function(e){return new(e||lf)(F.Ub(v.a),F.Ub(D))},lf.\u0275prov=F.Gb({token:lf,factory:lf.\u0275fac}),lf),mf=((sf=function e(){r(this,e)}).\u0275mod=F.Ib({type:sf}),sf.\u0275inj=F.Hb({factory:function(e){return new(e||sf)},providers:[w,H.a,_.d,D,U.g,hb.a,$.a,G.a],imports:[[_.c,B.b,Hr.b,M.c,bf.a,mb.b,$b.a,V.b,de.b,vt.b,K.c,gt,Ub.a,Mb.k,le,ue.b,R.b,N.j,v.b.forFeature([z,hf,ff,pf]),f.j.forFeature("demands",cf),jb.b,qb.b,Bb,ze.b,N.v,b.a,d.a,Rb.b,u.b,Gb.a,Vb.a]]}),sf)},xOOu:function(e,t,n){e.exports=function e(t,n,i){function r(o,c){if(!n[o]){if(!t[o]){if(a)return a(o,!0);var s=new Error("Cannot find module '"+o+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){return r(t[o][1][e]||e)},l,l.exports,e,t,n,i)}return n[o].exports}for(var a=!1,o=0;o<i.length;o++)r(i[o]);return r}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(n,i,r){function a(c,s){if(!i[c]){if(!n[c]){var l="function"==typeof e&&e;if(!s&&l)return l(c,!0);if(o)return o(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[c]={exports:{}};n[c][0].call(u.exports,function(e){return a(n[c][1][e]||e)},u,u.exports,t,n,i,r)}return i[c].exports}for(var o="function"==typeof e&&e,c=0;c<r.length;c++)a(r[c]);return a}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(n,i,r){function a(c,s){if(!i[c]){if(!n[c]){var l="function"==typeof e&&e;if(!s&&l)return l(c,!0);if(o)return o(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[c]={exports:{}};n[c][0].call(u.exports,function(e){return a(n[c][1][e]||e)},u,u.exports,t,n,i,r)}return i[c].exports}for(var o="function"==typeof e&&e,c=0;c<r.length;c++)a(r[c]);return a}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(n,i,r){function a(c,s){if(!i[c]){if(!n[c]){var l="function"==typeof e&&e;if(!s&&l)return l(c,!0);if(o)return o(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[c]={exports:{}};n[c][0].call(u.exports,function(e){return a(n[c][1][e]||e)},u,u.exports,t,n,i,r)}return i[c].exports}for(var o="function"==typeof e&&e,c=0;c<r.length;c++)a(r[c]);return a}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(n,i,r){function a(c,s){if(!i[c]){if(!n[c]){var l="function"==typeof e&&e;if(!s&&l)return l(c,!0);if(o)return o(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[c]={exports:{}};n[c][0].call(u.exports,function(e){return a(n[c][1][e]||e)},u,u.exports,t,n,i,r)}return i[c].exports}for(var o="function"==typeof e&&e,c=0;c<r.length;c++)a(r[c]);return a}({1:[function(e,t,n){(function(i){!function(e){"object"==typeof n&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==i?i:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(n,i,r){function a(c,s){if(!i[c]){if(!n[c]){var l="function"==typeof e&&e;if(!s&&l)return l(c,!0);if(o)return o(c,!0);var d=new Error("Cannot find module '"+c+"'");throw d.code="MODULE_NOT_FOUND",d}var u=i[c]={exports:{}};n[c][0].call(u.exports,function(e){return a(n[c][1][e]||e)},u,u.exports,t,n,i,r)}return i[c].exports}for(var o="function"==typeof e&&e,c=0;c<r.length;c++)a(r[c]);return a}({1:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./support"),a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";n.encode=function(e){for(var t,n,r,o,c,s,l=[],d=0,u=e.length,b=u,f="string"!==i.getTypeOf(e);d<e.length;)b=u-d,r=f?(t=e[d++],n=d<u?e[d++]:0,d<u?e[d++]:0):(t=e.charCodeAt(d++),n=d<u?e.charCodeAt(d++):0,d<u?e.charCodeAt(d++):0),o=(3&t)<<4|n>>4,c=1<b?(15&n)<<2|r>>6:64,s=2<b?63&r:64,l.push(a.charAt(t>>2)+a.charAt(o)+a.charAt(c)+a.charAt(s));return l.join("")},n.decode=function(e){var t,n,i,o,c,s,l=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var u,b=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===a.charAt(64)&&b--,e.charAt(e.length-2)===a.charAt(64)&&b--,b%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=r.uint8array?new Uint8Array(0|b):new Array(0|b);l<e.length;)t=a.indexOf(e.charAt(l++))<<2|(o=a.indexOf(e.charAt(l++)))>>4,n=(15&o)<<4|(c=a.indexOf(e.charAt(l++)))>>2,i=(3&c)<<6|(s=a.indexOf(e.charAt(l++))),u[d++]=t,64!==c&&(u[d++]=n),64!==s&&(u[d++]=i);return u}},{"./support":30,"./utils":32}],2:[function(e,t,n){"use strict";var i=e("./external"),r=e("./stream/DataWorker"),a=e("./stream/Crc32Probe"),o=e("./stream/DataLengthProbe");function c(e,t,n,i,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=n,this.compression=i,this.compressedContent=r}c.prototype={getContentWorker:function(){var e=new r(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new o("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},c.createWorkerFrom=function(e,t,n){return e.pipe(new a).pipe(new o("uncompressedSize")).pipe(t.compressWorker(n)).pipe(new o("compressedSize")).withStreamInfo("compression",t)},t.exports=c},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,n){"use strict";var i=e("./stream/GenericWorker");n.STORE={magic:"\0\0",compressWorker:function(e){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},n.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,n){"use strict";var i=e("./utils"),r=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==i.getTypeOf(e)?function(e,t,n){var i=r,a=0+n;e^=-1;for(var o=0;o<a;o++)e=e>>>8^i[255&(e^t[o])];return-1^e}(0|t,e,e.length):function(e,t,n){var i=r,a=0+n;e^=-1;for(var o=0;o<a;o++)e=e>>>8^i[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,n){"use strict";n.base64=!1,n.binary=!1,n.dir=!1,n.createFolders=!0,n.date=null,n.compression=null,n.compressionOptions=null,n.comment=null,n.unixPermissions=null,n.dosPermissions=null},{}],6:[function(e,t,n){"use strict";var i;i="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:i}},{lie:37}],7:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),a=e("./utils"),o=e("./stream/GenericWorker"),c=i?"uint8array":"array";function s(e,t){o.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}n.magic="\b\0",a.inherits(s,o),s.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(a.transformTo(c,e.data),!1)},s.prototype.flush=function(){o.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},s.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this._pako=null},s.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},n.compressWorker=function(e){return new s("Deflate",e)},n.uncompressWorker=function(){return new s("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,n){"use strict";function i(e,t){var n,i="";for(n=0;n<t;n++)i+=String.fromCharCode(255&e),e>>>=8;return i}function r(e,t,n,r,o,d){var u,b,f=e.file,p=e.compression,h=d!==c.utf8encode,m=a.transformTo("string",d(f.name)),g=a.transformTo("string",c.utf8encode(f.name)),v=f.comment,P=a.transformTo("string",d(v)),y=a.transformTo("string",c.utf8encode(v)),k=g.length!==f.name.length,I=y.length!==v.length,F="",Q="",C="",D=f.dir,z=f.date,S={crc32:0,compressedSize:0,uncompressedSize:0};t&&!n||(S.crc32=e.crc32,S.compressedSize=e.compressedSize,S.uncompressedSize=e.uncompressedSize);var w=0;t&&(w|=8),h||!k&&!I||(w|=2048);var x,O=0,_=0;D&&(O|=16),"UNIX"===o?(_=798,O|=((x=f.unixPermissions)||(x=D?16893:33204),(65535&x)<<16)):(_=20,O|=63&(f.dosPermissions||0)),u=z.getUTCHours(),u<<=6,u|=z.getUTCMinutes(),u<<=5,u|=z.getUTCSeconds()/2,b=z.getUTCFullYear()-1980,b<<=4,b|=z.getUTCMonth()+1,b<<=5,b|=z.getUTCDate(),k&&(F+="up"+i((Q=i(1,1)+i(s(m),4)+g).length,2)+Q),I&&(F+="uc"+i((C=i(1,1)+i(s(P),4)+y).length,2)+C);var E="";return E+="\n\0",E+=i(w,2),E+=p.magic,E+=i(u,2),E+=i(b,2),E+=i(S.crc32,4),E+=i(S.compressedSize,4),E+=i(S.uncompressedSize,4),E+=i(m.length,2),E+=i(F.length,2),{fileRecord:l.LOCAL_FILE_HEADER+E+m+F,dirRecord:l.CENTRAL_FILE_HEADER+i(_,2)+E+i(P.length,2)+"\0\0\0\0"+i(O,4)+i(r,4)+m+F+P}}var a=e("../utils"),o=e("../stream/GenericWorker"),c=e("../utf8"),s=e("../crc32"),l=e("../signature");function d(e,t,n,i){o.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=n,this.encodeFileName=i,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}a.inherits(d,o),d.prototype.push=function(e){var t=e.meta.percent||0,n=this.entriesCount,i=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,o.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:n?(t+100*(n-i-1))/n:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var n=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:n.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t,n=this.streamFiles&&!e.file.dir,a=r(e,n,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(a.dirRecord),n)this.push({data:(t=e,l.DATA_DESCRIPTOR+i(t.crc32,4)+i(t.compressedSize,4)+i(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:a.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var n,r,o,c,s=(n=this.dirRecords.length,r=this.bytesWritten-e,o=e,c=a.transformTo("string",(0,this.encodeFileName)(this.zipComment)),l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(n,2)+i(n,2)+i(r,4)+i(o,4)+i(c.length,2)+c);this.push({data:s,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!o.prototype.error.call(this,e))return!1;for(var n=0;n<t.length;n++)try{t[n].error(e)}catch(e){}return!0},d.prototype.lock=function(){o.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,n){"use strict";var i=e("../compressions"),r=e("./ZipFileWorker");n.generateWorker=function(e,t,n){var a=new r(t.streamFiles,n,t.platform,t.encodeFileName),o=0;try{e.forEach(function(e,n){o++;var r=function(e,t){var n=e||t,r=i[n];if(!r)throw new Error(n+" is not a valid compression method !");return r}(n.options.compression,t.compression),c=n.dir,s=n.date;n._compressWorker(r,n.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:c,date:s,comment:n.comment||"",unixPermissions:n.unixPermissions,dosPermissions:n.dosPermissions}).pipe(a)}),a.entriesCount=o}catch(e){a.error(e)}return a}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,n){"use strict";function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new i;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(i.prototype=e("./object")).loadAsync=e("./load"),i.support=e("./support"),i.defaults=e("./defaults"),i.version="3.5.0",i.loadAsync=function(e,t){return(new i).loadAsync(e,t)},i.external=e("./external"),t.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,n){"use strict";var i=e("./utils"),r=e("./external"),a=e("./utf8"),o=e("./zipEntries"),c=e("./stream/Crc32Probe"),s=e("./nodejsUtils");function l(e){return new r.Promise(function(t,n){var i=e.decompressed.getContentWorker().pipe(new c);i.on("error",function(e){n(e)}).on("end",function(){i.streamInfo.crc32!==e.decompressed.crc32?n(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var n=this;return t=i.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:a.utf8decode}),s.isNode&&s.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var n=new o(t);return n.load(e),n}).then(function(e){var n=[r.Promise.resolve(e)],i=e.files;if(t.checkCRC32)for(var a=0;a<i.length;a++)n.push(l(i[a]));return r.Promise.all(n)}).then(function(e){for(var i=e.shift(),r=i.files,a=0;a<r.length;a++){var o=r[a];n.file(o.fileNameStr,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders})}return i.zipComment.length&&(n.comment=i.zipComment),n})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../stream/GenericWorker");function a(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}i.inherits(a,r),a.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},a.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=a},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,n){"use strict";var i=e("readable-stream").Readable;function r(e,t,n){i.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),n&&n(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}e("../utils").inherits(r,i),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,n){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,n){"use strict";function i(e,t,n){var i,a,s=o.getTypeOf(t),b=o.extend(n||{},l);b.date=b.date||new Date,null!==b.compression&&(b.compression=b.compression.toUpperCase()),"string"==typeof b.unixPermissions&&(b.unixPermissions=parseInt(b.unixPermissions,8)),b.unixPermissions&&16384&b.unixPermissions&&(b.dir=!0),b.dosPermissions&&16&b.dosPermissions&&(b.dir=!0),b.dir&&(e=r(e)),b.createFolders&&(i=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""}(e))&&h.call(this,i,!0),n&&void 0!==n.binary||(b.binary=!("string"===s&&!1===b.binary&&!1===b.base64)),(t instanceof d&&0===t.uncompressedSize||b.dir||!t||0===t.length)&&(b.base64=!1,b.binary=!0,t="",b.compression="STORE",s="string"),a=t instanceof d||t instanceof c?t:f.isNode&&f.isStream(t)?new p(e,t):o.prepareContent(e,t,b.binary,b.optimizedBinaryString,b.base64);var m=new u(e,a,b);this.files[e]=m}function r(e){return"/"!==e.slice(-1)&&(e+="/"),e}var a=e("./utf8"),o=e("./utils"),c=e("./stream/GenericWorker"),s=e("./stream/StreamHelper"),l=e("./defaults"),d=e("./compressedObject"),u=e("./zipObject"),b=e("./generate"),f=e("./nodejsUtils"),p=e("./nodejs/NodejsStreamInputAdapter"),h=function(e,t){return t=void 0!==t?t:l.createFolders,e=r(e),this.files[e]||i.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,n,i;for(t in this.files)this.files.hasOwnProperty(t)&&(i=this.files[t],(n=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(n,i))},filter:function(e){var t=[];return this.forEach(function(n,i){e(n,i)&&t.push(i)}),t},file:function(e,t,n){if(1!==arguments.length)return i.call(this,e=this.root+e,t,n),this;if(m(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var a=this.files[this.root+e];return a&&!a.dir?a:null},folder:function(e){if(!e)return this;if(m(e))return this.filter(function(t,n){return n.dir&&e.test(t)});var t=h.call(this,this.root+e),n=this.clone();return n.root=t.name,n},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var n=this.filter(function(t,n){return n.name.slice(0,e.length)===e}),i=0;i<n.length;i++)delete this.files[n[i].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,n={};try{if((n=o.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=n.type.toLowerCase(),n.compression=n.compression.toUpperCase(),"binarystring"===n.type&&(n.type="string"),!n.type)throw new Error("No output type specified.");o.checkSupport(n.type),"darwin"!==n.platform&&"freebsd"!==n.platform&&"linux"!==n.platform&&"sunos"!==n.platform||(n.platform="UNIX"),"win32"===n.platform&&(n.platform="DOS"),t=b.generateWorker(this,n,n.comment||this.comment||"")}catch(e){(t=new c("error")).error(e)}return new s(t,n.type||"string",n.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,n){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=this.length-4;0<=a;--a)if(this.data[a]===t&&this.data[a+1]===n&&this.data[a+2]===i&&this.data[a+3]===r)return a-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),n=e.charCodeAt(1),i=e.charCodeAt(2),r=e.charCodeAt(3),a=this.readData(4);return t===a[0]&&n===a[1]&&i===a[2]&&r===a[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,n){"use strict";var i=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,n=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)n=(n<<8)+this.byteAt(t);return this.index+=e,n},readString:function(e){return i.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,n){"use strict";var i=e("./Uint8ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,n){"use strict";var i=e("./DataReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,n){"use strict";var i=e("./ArrayReader");function r(e){i.call(this,e)}e("../utils").inherits(r,i),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,n){"use strict";var i=e("../utils"),r=e("../support"),a=e("./ArrayReader"),o=e("./StringReader"),c=e("./NodeBufferReader"),s=e("./Uint8ArrayReader");t.exports=function(e){var t=i.getTypeOf(e);return i.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new c(e):r.uint8array?new s(i.transformTo("uint8array",e)):new a(i.transformTo("array",e)):new o(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,n){"use strict";n.LOCAL_FILE_HEADER="PK\x03\x04",n.CENTRAL_FILE_HEADER="PK\x01\x02",n.CENTRAL_DIRECTORY_END="PK\x05\x06",n.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",n.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",n.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../utils");function a(e){i.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(a,i),a.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=a},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,n){"use strict";var i=e("./GenericWorker"),r=e("../crc32");function a(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(a,i),a.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=a},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}i.inherits(a,r),a.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=a},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./GenericWorker");function a(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=i.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}i.inherits(a,r),a.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},a.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},a.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},a.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=a},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,n){"use strict";function i(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var n=0;n<this._listeners[e].length;n++)this._listeners[e][n].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=i},{}],29:[function(e,t,n){"use strict";var i=e("../utils"),r=e("./ConvertWorker"),a=e("./GenericWorker"),o=e("../base64"),c=e("../support"),s=e("../external"),l=null;if(c.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t,n){var o=t;switch(t){case"blob":case"arraybuffer":o="uint8array";break;case"base64":o="string"}try{this._internalType=o,this._outputType=t,this._mimeType=n,i.checkSupport(o),this._worker=e.pipe(new r(o)),e.lock()}catch(e){this._worker=new a("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return t=this,n=e,new s.Promise(function(e,r){var a=[],c=t._internalType,s=t._outputType,l=t._mimeType;t.on("data",function(e,t){a.push(e),n&&n(t)}).on("error",function(e){a=[],r(e)}).on("end",function(){try{var t=function(e,t,n){switch(e){case"blob":return i.newBlob(i.transformTo("arraybuffer",t),n);case"base64":return o.encode(t);default:return i.transformTo(e,t)}}(s,function(e,t){var n,i=0,r=null,a=0;for(n=0;n<t.length;n++)a+=t[n].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(a),n=0;n<t.length;n++)r.set(t[n],i),i+=t[n].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(c,a),l);e(t)}catch(t){r(t)}a=[]}).resume()});var t,n},on:function(e,t){var n=this;return this._worker.on(e,"data"===e?function(e){t.call(n,e.data,e.meta)}:function(){i.delay(t,arguments,n)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(i.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,n){"use strict";if(n.base64=!0,n.array=!0,n.string=!0,n.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,n.nodebuffer="undefined"!=typeof Buffer,n.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)n.blob=!1;else{var i=new ArrayBuffer(0);try{n.blob=0===new Blob([i],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(i),n.blob=0===r.getBlob("application/zip").size}catch(e){n.blob=!1}}}try{n.nodestream=!!e("readable-stream").Readable}catch(e){n.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,n){"use strict";for(var i=e("./utils"),r=e("./support"),a=e("./nodejsUtils"),o=e("./stream/GenericWorker"),c=new Array(256),s=0;s<256;s++)c[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function l(){o.call(this,"utf-8 decode"),this.leftOver=null}function d(){o.call(this,"utf-8 encode")}c[254]=c[254]=1,n.utf8encode=function(e){return r.nodebuffer?a.newBufferFrom(e,"utf-8"):function(e){var t,n,i,a,o,c=e.length,s=0;for(a=0;a<c;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<c&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=r.uint8array?new Uint8Array(s):new Array(s),a=o=0;o<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<c&&56320==(64512&(i=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(i-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t}(e)},n.utf8decode=function(e){return r.nodebuffer?i.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,n,r,a,o=e.length,s=new Array(2*o);for(t=n=0;t<o;)if((r=e[t++])<128)s[n++]=r;else if(4<(a=c[r]))s[n++]=65533,t+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&t<o;)r=r<<6|63&e[t++],a--;1<a?s[n++]=65533:r<65536?s[n++]=r:(s[n++]=55296|(r-=65536)>>10&1023,s[n++]=56320|1023&r)}return s.length!==n&&(s.subarray?s=s.subarray(0,n):s.length=n),i.applyFromCharCode(s)}(e=i.transformTo(r.uint8array?"uint8array":"array",e))},i.inherits(l,o),l.prototype.processChunk=function(e){var t=i.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var a=t;(t=new Uint8Array(a.length+this.leftOver.length)).set(this.leftOver,0),t.set(a,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var o=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+c[e[n]]>t?n:t}(t),s=t;o!==t.length&&(r.uint8array?(s=t.subarray(0,o),this.leftOver=t.subarray(o,t.length)):(s=t.slice(0,o),this.leftOver=t.slice(o,t.length))),this.push({data:n.utf8decode(s),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:n.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},n.Utf8DecodeWorker=l,i.inherits(d,o),d.prototype.processChunk=function(e){this.push({data:n.utf8encode(e.data),meta:e.meta})},n.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,n){"use strict";var i=e("./support"),r=e("./base64"),a=e("./nodejsUtils"),o=e("set-immediate-shim"),c=e("./external");function s(e){return e}function l(e,t){for(var n=0;n<e.length;++n)t[n]=255&e.charCodeAt(n);return t}n.newBlob=function(t,i){n.checkSupport("blob");try{return new Blob([t],{type:i})}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(i)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,n){var i=[],r=0,a=e.length;if(a<=n)return String.fromCharCode.apply(null,e);for(;r<a;)i.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(r,Math.min(r+n,a)):e.subarray(r,Math.min(r+n,a)))),r+=n;return i.join("")},stringifyByChar:function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},applyCanBeUsed:{uint8array:function(){try{return i.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return i.nodebuffer&&1===String.fromCharCode.apply(null,a.allocBuffer(1)).length}catch(e){return!1}}()}};function u(e){var t=65536,i=n.getTypeOf(e),r=!0;if("uint8array"===i?r=d.applyCanBeUsed.uint8array:"nodebuffer"===i&&(r=d.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return d.stringifyByChunk(e,i,t)}catch(e){t=Math.floor(t/2)}return d.stringifyByChar(e)}function b(e,t){for(var n=0;n<e.length;n++)t[n]=e[n];return t}n.applyFromCharCode=u;var f={};f.string={string:s,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,a.allocBuffer(e.length))}},f.array={string:u,array:s,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(e)}},f.arraybuffer={string:function(e){return u(new Uint8Array(e))},array:function(e){return b(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:s,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return a.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:u,array:function(e){return b(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:s,nodebuffer:function(e){return a.newBufferFrom(e)}},f.nodebuffer={string:u,array:function(e){return b(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return b(e,new Uint8Array(e.length))},nodebuffer:s},n.transformTo=function(e,t){if(t=t||"",!e)return t;n.checkSupport(e);var i=n.getTypeOf(t);return f[i][e](t)},n.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":i.nodebuffer&&a.isBuffer(e)?"nodebuffer":i.uint8array&&e instanceof Uint8Array?"uint8array":i.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},n.checkSupport=function(e){if(!i[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},n.MAX_VALUE_16BITS=65535,n.MAX_VALUE_32BITS=-1,n.pretty=function(e){var t,n,i="";for(n=0;n<(e||"").length;n++)i+="\\x"+((t=e.charCodeAt(n))<16?"0":"")+t.toString(16).toUpperCase();return i},n.delay=function(e,t,n){o(function(){e.apply(n||null,t||[])})},n.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.prototype=new n},n.extend=function(){var e,t,n={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===n[t]&&(n[t]=arguments[e][t]);return n},n.prepareContent=function(e,t,a,o,s){return c.Promise.resolve(t).then(function(e){return i.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new c.Promise(function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=function(e){n(e.target.error)},i.readAsArrayBuffer(e)}):e}).then(function(t){var d,u=n.getTypeOf(t);return u?("arraybuffer"===u?t=n.transformTo("uint8array",t):"string"===u&&(s?t=r.decode(t):a&&!0!==o&&(t=l(d=t,i.uint8array?new Uint8Array(d.length):new Array(d.length)))),t):c.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),a=e("./signature"),o=e("./zipEntry"),c=(e("./utf8"),e("./support"));function s(e){this.files=[],this.loadOptions=e}s.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var n=this.reader.index;this.reader.setIndex(e);var i=this.reader.readString(4)===t;return this.reader.setIndex(n),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.transformTo(c.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,n,i=this.zip64EndOfCentralSize-44;0<i;)e=this.reader.readInt(2),t=this.reader.readInt(4),n=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:n}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(a.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(a.CENTRAL_FILE_HEADER);)(e=new o({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(a.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,a.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(a.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,a.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(a.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var n=this.centralDirOffset+this.centralDirSize;this.zip64&&(n+=20,n+=12+this.zip64EndOfCentralSize);var i=t-n;if(0<i)this.isSignature(t,a.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(e){this.reader=i(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=s},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,n){"use strict";var i=e("./reader/readerFor"),r=e("./utils"),a=e("./compressedObject"),o=e("./crc32"),c=e("./utf8"),s=e("./compressions"),l=e("./support");function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in s)if(s.hasOwnProperty(t)&&s[t].magic===e)return s[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new a(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=i(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,n,i,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),n=e.readInt(2),i=e.readData(n),this.extraFields[t]={id:t,length:n,value:i};e.setIndex(r)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=c.utf8decode(this.fileName),this.fileCommentStr=c.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var n=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var i=this.findExtraFieldUnicodeComment();if(null!==i)this.fileCommentStr=i;else{var a=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(a)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=i(e.value);return 1!==t.readInt(1)||o(this.fileName)!==t.readInt(4)?null:c.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=i(e.value);return 1!==t.readInt(1)||o(this.fileComment)!==t.readInt(4)?null:c.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,n){"use strict";function i(e,t,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=t,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var r=e("./stream/StreamHelper"),a=e("./stream/DataWorker"),o=e("./utf8"),c=e("./compressedObject"),s=e("./stream/GenericWorker");i.prototype={internalStream:function(e){var t=null,n="string";try{if(!e)throw new Error("No output type specified.");var i="string"===(n=e.toLowerCase())||"text"===n;"binarystring"!==n&&"text"!==n||(n="string"),t=this._decompressWorker();var a=!this._dataBinary;a&&!i&&(t=t.pipe(new o.Utf8EncodeWorker)),!a&&i&&(t=t.pipe(new o.Utf8DecodeWorker))}catch(e){(t=new s("error")).error(e)}return new r(t,n,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof c&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var n=this._decompressWorker();return this._dataBinary||(n=n.pipe(new o.Utf8EncodeWorker)),c.createWorkerFrom(n,e,t)},_decompressWorker:function(){return this._data instanceof c?this._data.getContentWorker():this._data instanceof s?this._data:new a(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},u=0;u<l.length;u++)i.prototype[l[u]]=d;t.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,n){(function(e){"use strict";var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var a=0,o=new r(d),c=e.document.createTextNode("");o.observe(c,{characterData:!0}),n=function(){c.data=a=++a%2}}else if(e.setImmediate||void 0===e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var s=new e.MessageChannel;s.port1.onmessage=d,n=function(){s.port2.postMessage(0)}}var l=[];function d(){var e,t;i=!0;for(var n=l.length;n;){for(t=l,l=[],e=-1;++e<n;)t[e]();n=l.length}i=!1}t.exports=function(e){1!==l.push(e)||i||n()}}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,n){"use strict";var i=e("immediate");function r(){}var a={},o=["REJECTED"],c=["FULFILLED"],s=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=s,this.queue=[],this.outcome=void 0,e!==r&&f(this,e)}function d(e,t,n){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}function u(e,t,n){i(function(){var i;try{i=t(n)}catch(i){return a.reject(e,i)}i===e?a.reject(e,new TypeError("Cannot resolve promise with itself")):a.resolve(e,i)})}function b(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var n=!1;function i(t){n||(n=!0,a.reject(e,t))}function r(t){n||(n=!0,a.resolve(e,t))}var o=p(function(){t(r,i)});"error"===o.status&&i(o.value)}function p(e,t){var n={};try{n.value=e(t),n.status="success"}catch(e){n.status="error",n.value=e}return n}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(n){return t.resolve(e()).then(function(){return n})},function(n){return t.resolve(e()).then(function(){throw n})})},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===c||"function"!=typeof t&&this.state===o)return this;var n=new this.constructor(r);return this.state!==s?u(n,this.state===c?e:t,this.outcome):this.queue.push(new d(n,e,t)),n},d.prototype.callFulfilled=function(e){a.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){u(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){a.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){u(this.promise,this.onRejected,e)},a.resolve=function(e,t){var n=p(b,t);if("error"===n.status)return a.reject(e,n.value);var i=n.value;if(i)f(e,i);else{e.state=c,e.outcome=t;for(var r=-1,o=e.queue.length;++r<o;)e.queue[r].callFulfilled(t)}return e},a.reject=function(e,t){e.state=o,e.outcome=t;for(var n=-1,i=e.queue.length;++n<i;)e.queue[n].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:a.resolve(new this(r),e)},l.reject=function(e){var t=new this(r);return a.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var n=e.length,i=!1;if(!n)return this.resolve([]);for(var o=new Array(n),c=0,s=-1,l=new this(r);++s<n;)d(e[s],s);return l;function d(e,r){t.resolve(e).then(function(e){o[r]=e,++c!==n||i||(i=!0,a.resolve(l,o))},function(e){i||(i=!0,a.reject(l,e))})}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,n=!1;if(!t)return this.resolve([]);for(var i=-1,o=new this(r);++i<t;)this.resolve(e[i]).then(function(e){n||(n=!0,a.resolve(o,e))},function(e){n||(n=!0,a.reject(o,e))});return o}},{immediate:36}],38:[function(e,t,n){"use strict";var i={};(0,e("./lib/utils/common").assign)(i,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,n){"use strict";var i=e("./zlib/deflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/messages"),c=e("./zlib/zstream"),s=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var n=i.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==n)throw new Error(o[n]);if(t.header&&i.deflateSetHeader(this.strm,t.header),t.dictionary){var d;if(d="string"==typeof t.dictionary?a.string2buf(t.dictionary):"[object ArrayBuffer]"===s.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(n=i.deflateSetDictionary(this.strm,d)))throw new Error(o[n]);this._dict_set=!0}}function d(e,t){var n=new l(t);if(n.push(e,!0),n.err)throw n.msg||o[n.err];return n.result}l.prototype.push=function(e,t){var n,o,c=this.strm,l=this.options.chunkSize;if(this.ended)return!1;o=t===~~t?t:!0===t?4:0,c.input="string"==typeof e?a.string2buf(e):"[object ArrayBuffer]"===s.call(e)?new Uint8Array(e):e,c.next_in=0,c.avail_in=c.input.length;do{if(0===c.avail_out&&(c.output=new r.Buf8(l),c.next_out=0,c.avail_out=l),1!==(n=i.deflate(c,o))&&0!==n)return this.onEnd(n),!(this.ended=!0);0!==c.avail_out&&(0!==c.avail_in||4!==o&&2!==o)||this.onData("string"===this.options.to?a.buf2binstring(r.shrinkBuf(c.output,c.next_out)):r.shrinkBuf(c.output,c.next_out))}while((0<c.avail_in||0===c.avail_out)&&1!==n);return 4===o?(n=i.deflateEnd(this.strm),this.onEnd(n),this.ended=!0,0===n):2!==o||(this.onEnd(0),!(c.avail_out=0))},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Deflate=l,n.deflate=d,n.deflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},n.gzip=function(e,t){return(t=t||{}).gzip=!0,d(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,n){"use strict";var i=e("./zlib/inflate"),r=e("./utils/common"),a=e("./utils/strings"),o=e("./zlib/constants"),c=e("./zlib/messages"),s=e("./zlib/zstream"),l=e("./zlib/gzheader"),d=Object.prototype.toString;function u(e){if(!(this instanceof u))return new u(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var n=i.inflateInit2(this.strm,t.windowBits);if(n!==o.Z_OK)throw new Error(c[n]);this.header=new l,i.inflateGetHeader(this.strm,this.header)}function b(e,t){var n=new u(t);if(n.push(e,!0),n.err)throw n.msg||c[n.err];return n.result}u.prototype.push=function(e,t){var n,c,s,l,u,b,f=this.strm,p=this.options.chunkSize,h=this.options.dictionary,m=!1;if(this.ended)return!1;c=t===~~t?t:!0===t?o.Z_FINISH:o.Z_NO_FLUSH,f.input="string"==typeof e?a.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?new Uint8Array(e):e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(p),f.next_out=0,f.avail_out=p),(n=i.inflate(f,o.Z_NO_FLUSH))===o.Z_NEED_DICT&&h&&(b="string"==typeof h?a.string2buf(h):"[object ArrayBuffer]"===d.call(h)?new Uint8Array(h):h,n=i.inflateSetDictionary(this.strm,b)),n===o.Z_BUF_ERROR&&!0===m&&(n=o.Z_OK,m=!1),n!==o.Z_STREAM_END&&n!==o.Z_OK)return this.onEnd(n),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&n!==o.Z_STREAM_END&&(0!==f.avail_in||c!==o.Z_FINISH&&c!==o.Z_SYNC_FLUSH)||("string"===this.options.to?(s=a.utf8border(f.output,f.next_out),l=f.next_out-s,u=a.buf2string(f.output,s),f.next_out=l,f.avail_out=p-l,l&&r.arraySet(f.output,f.output,s,l,0),this.onData(u)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((0<f.avail_in||0===f.avail_out)&&n!==o.Z_STREAM_END);return n===o.Z_STREAM_END&&(c=o.Z_FINISH),c===o.Z_FINISH?(n=i.inflateEnd(this.strm),this.onEnd(n),this.ended=!0,n===o.Z_OK):c!==o.Z_SYNC_FLUSH||(this.onEnd(o.Z_OK),!(f.avail_out=0))},u.prototype.onData=function(e){this.chunks.push(e)},u.prototype.onEnd=function(e){e===o.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},n.Inflate=u,n.inflate=b,n.inflateRaw=function(e,t){return(t=t||{}).raw=!0,b(e,t)},n.ungzip=b},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,n){"use strict";var i="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;n.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(var i in n)n.hasOwnProperty(i)&&(e[i]=n[i])}}return e},n.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,n,i,r){if(t.subarray&&e.subarray)e.set(t.subarray(n,n+i),r);else for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){var t,n,i,r,a,o;for(t=i=0,n=e.length;t<n;t++)i+=e[t].length;for(o=new Uint8Array(i),t=r=0,n=e.length;t<n;t++)o.set(a=e[t],r),r+=a.length;return o}},a={arraySet:function(e,t,n,i,r){for(var a=0;a<i;a++)e[r+a]=t[n+a]},flattenChunks:function(e){return[].concat.apply([],e)}};n.setTyped=function(e){e?(n.Buf8=Uint8Array,n.Buf16=Uint16Array,n.Buf32=Int32Array,n.assign(n,r)):(n.Buf8=Array,n.Buf16=Array,n.Buf32=Array,n.assign(n,a))},n.setTyped(i)},{}],42:[function(e,t,n){"use strict";var i=e("./common"),r=!0,a=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){a=!1}for(var o=new i.Buf8(256),c=0;c<256;c++)o[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function s(e,t){if(t<65537&&(e.subarray&&a||!e.subarray&&r))return String.fromCharCode.apply(null,i.shrinkBuf(e,t));for(var n="",o=0;o<t;o++)n+=String.fromCharCode(e[o]);return n}o[254]=o[254]=1,n.string2buf=function(e){var t,n,r,a,o,c=e.length,s=0;for(a=0;a<c;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<c&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),s+=n<128?1:n<2048?2:n<65536?3:4;for(t=new i.Buf8(s),a=o=0;o<s;a++)55296==(64512&(n=e.charCodeAt(a)))&&a+1<c&&56320==(64512&(r=e.charCodeAt(a+1)))&&(n=65536+(n-55296<<10)+(r-56320),a++),n<128?t[o++]=n:(n<2048?t[o++]=192|n>>>6:(n<65536?t[o++]=224|n>>>12:(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63),t[o++]=128|n>>>6&63),t[o++]=128|63&n);return t},n.buf2binstring=function(e){return s(e,e.length)},n.binstring2buf=function(e){for(var t=new i.Buf8(e.length),n=0,r=t.length;n<r;n++)t[n]=e.charCodeAt(n);return t},n.buf2string=function(e,t){var n,i,r,a,c=t||e.length,l=new Array(2*c);for(n=i=0;n<c;)if((r=e[n++])<128)l[i++]=r;else if(4<(a=o[r]))l[i++]=65533,n+=a-1;else{for(r&=2===a?31:3===a?15:7;1<a&&n<c;)r=r<<6|63&e[n++],a--;1<a?l[i++]=65533:r<65536?l[i++]=r:(l[i++]=55296|(r-=65536)>>10&1023,l[i++]=56320|1023&r)}return s(l,i)},n.utf8border=function(e,t){var n;for((t=t||e.length)>e.length&&(t=e.length),n=t-1;0<=n&&128==(192&e[n]);)n--;return n<0||0===n?t:n+o[e[n]]>t?n:t}},{"./common":41}],43:[function(e,t,n){"use strict";t.exports=function(e,t,n,i){for(var r=65535&e|0,a=e>>>16&65535|0,o=0;0!==n;){for(n-=o=2e3<n?2e3:n;a=a+(r=r+t[i++]|0)|0,--o;);r%=65521,a%=65521}return r|a<<16|0}},{}],44:[function(e,t,n){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,n){"use strict";var i=function(){for(var e,t=[],n=0;n<256;n++){e=n;for(var i=0;i<8;i++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t}();t.exports=function(e,t,n,r){var a=i,o=r+n;e^=-1;for(var c=r;c<o;c++)e=e>>>8^a[255&(e^t[c])];return-1^e}},{}],46:[function(e,t,n){"use strict";var i,r=e("../utils/common"),a=e("./trees"),o=e("./adler32"),c=e("./crc32"),s=e("./messages"),l=-2,d=258,u=262,b=113;function f(e,t){return e.msg=s[t],t}function p(e){return(e<<1)-(4<e?9:0)}function h(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(r.arraySet(e.output,t.pending_buf,t.pending_out,n,e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))}function g(e,t){a._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function y(e,t){var n,i,r=e.max_chain_length,a=e.strstart,o=e.prev_length,c=e.nice_match,s=e.strstart>e.w_size-u?e.strstart-(e.w_size-u):0,l=e.window,b=e.w_mask,f=e.prev,p=e.strstart+d,h=l[a+o-1],m=l[a+o];e.prev_length>=e.good_match&&(r>>=2),c>e.lookahead&&(c=e.lookahead);do{if(l[(n=t)+o]===m&&l[n+o-1]===h&&l[n]===l[a]&&l[++n]===l[a+1]){a+=2,n++;do{}while(l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&l[++a]===l[++n]&&a<p);if(i=d-(p-a),a=p-d,o<i){if(e.match_start=t,c<=(o=i))break;h=l[a+o-1],m=l[a+o]}}}while((t=f[t&b])>s&&0!=--r);return o<=e.lookahead?o:e.lookahead}function k(e){var t,n,i,a,s,l,d,b,f,p,h=e.w_size;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=h+(h-u)){for(r.arraySet(e.window,e.window,h,h,0),e.match_start-=h,e.strstart-=h,e.block_start-=h,t=n=e.hash_size;i=e.head[--t],e.head[t]=h<=i?i-h:0,--n;);for(t=n=h;i=e.prev[--t],e.prev[t]=h<=i?i-h:0,--n;);a+=h}if(0===e.strm.avail_in)break;if(d=e.window,b=e.strstart+e.lookahead,p=void 0,(f=a)<(p=(l=e.strm).avail_in)&&(p=f),n=0===p?0:(l.avail_in-=p,r.arraySet(d,l.input,l.next_in,p,b),1===l.state.wrap?l.adler=o(l.adler,d,p,b):2===l.state.wrap&&(l.adler=c(l.adler,d,p,b)),l.next_in+=p,l.total_in+=p,p),e.lookahead+=n,e.lookahead+e.insert>=3)for(e.ins_h=e.window[s=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+3-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<u&&0!==e.strm.avail_in)}function I(e,t){for(var n,i;;){if(e.lookahead<u){if(k(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-u&&(e.match_length=y(e,n)),e.match_length>=3)if(i=a._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else i=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(i&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function F(e,t){for(var n,i,r;;){if(e.lookahead<u){if(k(e),e.lookahead<u&&0===t)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-u&&(e.match_length=y(e,n),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-3,i=a._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,i&&(g(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((i=a._tr_tally(e,0,e.window[e.strstart-1]))&&g(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(i=a._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function Q(e,t,n,i,r){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=i,this.func=r}function C(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),h(this.dyn_ltree),h(this.dyn_dtree),h(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),h(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),h(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function D(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:b,e.adler=2===t.wrap?0:1,t.last_flush=0,a._tr_init(t),0):f(e,l)}function z(e){var t,n=D(e);return 0===n&&((t=e.state).window_size=2*t.w_size,h(t.head),t.max_lazy_match=i[t.level].max_lazy,t.good_match=i[t.level].good_length,t.nice_match=i[t.level].nice_length,t.max_chain_length=i[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),n}function S(e,t,n,i,a,o){if(!e)return l;var c=1;if(-1===t&&(t=6),i<0?(c=0,i=-i):15<i&&(c=2,i-=16),a<1||9<a||8!==n||i<8||15<i||t<0||9<t||o<0||4<o)return f(e,l);8===i&&(i=9);var s=new C;return(e.state=s).strm=e,s.wrap=c,s.gzhead=null,s.w_bits=i,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=a+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+3-1)/3),s.window=new r.Buf8(2*s.w_size),s.head=new r.Buf16(s.hash_size),s.prev=new r.Buf16(s.w_size),s.lit_bufsize=1<<a+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new r.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=t,s.strategy=o,s.method=n,z(e)}i=[new Q(0,0,0,0,function(e,t){var n=65535;for(n>e.pending_buf_size-5&&(n=e.pending_buf_size-5);;){if(e.lookahead<=1){if(k(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var i=e.block_start+n;if((0===e.strstart||e.strstart>=i)&&(e.lookahead=e.strstart-i,e.strstart=i,g(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-u&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&g(e,!1),1)}),new Q(4,4,8,4,I),new Q(4,5,16,8,I),new Q(4,6,32,32,I),new Q(4,4,16,16,F),new Q(8,16,32,32,F),new Q(8,16,128,128,F),new Q(8,32,128,256,F),new Q(32,128,258,1024,F),new Q(32,258,258,4096,F)],n.deflateInit=function(e,t){return S(e,t,8,15,8,0)},n.deflateInit2=S,n.deflateReset=z,n.deflateResetKeep=D,n.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},n.deflate=function(e,t){var n,r,o,s;if(!e||!e.state||5<t||t<0)return e?f(e,l):l;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return f(e,0===e.avail_out?-5:l);if(r.strm=e,n=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,v(r,31),v(r,139),v(r,8),r.gzhead?(v(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),v(r,255&r.gzhead.time),v(r,r.gzhead.time>>8&255),v(r,r.gzhead.time>>16&255),v(r,r.gzhead.time>>24&255),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(v(r,255&r.gzhead.extra.length),v(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=c(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(v(r,0),v(r,0),v(r,0),v(r,0),v(r,0),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,3),r.status=b);else{var u=8+(r.w_bits-8<<4)<<8;u|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(u|=32),u+=31-u%31,r.status=b,P(r,u),0!==r.strstart&&(P(r,e.adler>>>16),P(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(o=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>o&&(e.adler=c(e.adler,r.pending_buf,r.pending-o,o)),m(e),o=r.pending,r.pending!==r.pending_buf_size));)v(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>o&&(e.adler=c(e.adler,r.pending_buf,r.pending-o,o)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=c(e.adler,r.pending_buf,r.pending-o,o)),m(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,v(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=c(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){o=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>o&&(e.adler=c(e.adler,r.pending_buf,r.pending-o,o)),m(e),o=r.pending,r.pending===r.pending_buf_size)){s=1;break}s=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,v(r,s)}while(0!==s);r.gzhead.hcrc&&r.pending>o&&(e.adler=c(e.adler,r.pending_buf,r.pending-o,o)),0===s&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&m(e),r.pending+2<=r.pending_buf_size&&(v(r,255&e.adler),v(r,e.adler>>8&255),e.adler=0,r.status=b)):r.status=b),0!==r.pending){if(m(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&p(t)<=p(n)&&4!==t)return f(e,-5);if(666===r.status&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var n;;){if(0===e.lookahead&&(k(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var n,i,r,o,c=e.window;;){if(e.lookahead<=d){if(k(e),e.lookahead<=d&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(i=c[r=e.strstart-1])===c[++r]&&i===c[++r]&&i===c[++r]){o=e.strstart+d;do{}while(i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&i===c[++r]&&r<o);e.match_length=d-(o-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=a._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=a._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(r,t):i[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?a._tr_align(r):5!==t&&(a._tr_stored_block(r,0,0,!1),3===t&&(h(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),m(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(v(r,255&e.adler),v(r,e.adler>>8&255),v(r,e.adler>>16&255),v(r,e.adler>>24&255),v(r,255&e.total_in),v(r,e.total_in>>8&255),v(r,e.total_in>>16&255),v(r,e.total_in>>24&255)):(P(r,e.adler>>>16),P(r,65535&e.adler)),m(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?0:1)},n.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==b&&666!==t?f(e,l):(e.state=null,t===b?f(e,-3):0):l},n.deflateSetDictionary=function(e,t){var n,i,a,c,s,d,u,b,f=t.length;if(!e||!e.state)return l;if(2===(c=(n=e.state).wrap)||1===c&&42!==n.status||n.lookahead)return l;for(1===c&&(e.adler=o(e.adler,t,f,0)),n.wrap=0,f>=n.w_size&&(0===c&&(h(n.head),n.strstart=0,n.block_start=0,n.insert=0),b=new r.Buf8(n.w_size),r.arraySet(b,t,f-n.w_size,n.w_size,0),t=b,f=n.w_size),s=e.avail_in,d=e.next_in,u=e.input,e.avail_in=f,e.next_in=0,e.input=t,k(n);n.lookahead>=3;){for(i=n.strstart,a=n.lookahead-2;n.ins_h=(n.ins_h<<n.hash_shift^n.window[i+3-1])&n.hash_mask,n.prev[i&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=i,i++,--a;);n.strstart=i,n.lookahead=2,k(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=2,n.match_available=0,e.next_in=d,e.input=u,e.avail_in=s,n.wrap=c,0},n.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,n){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,n){"use strict";t.exports=function(e,t){var n,i,r,a,o,c,s,l,d,u,b,f,p,h,m,g,v,P,y,k,I,F,Q,C,D;C=e.input,r=(i=e.next_in)+(e.avail_in-5),D=e.output,o=(a=e.next_out)-(t-e.avail_out),c=a+(e.avail_out-257),s=(n=e.state).dmax,l=n.wsize,d=n.whave,u=n.wnext,b=n.window,f=n.hold,p=n.bits,h=n.lencode,m=n.distcode,g=(1<<n.lenbits)-1,v=(1<<n.distbits)-1;e:do{p<15&&(f+=C[i++]<<p,f+=C[i++]<<(p+=8),p+=8),P=h[f&g];t:for(;;){if(f>>>=y=P>>>24,p-=y,0==(y=P>>>16&255))D[a++]=65535&P;else{if(!(16&y)){if(0==(64&y)){P=h[(65535&P)+(f&(1<<y)-1)];continue t}if(32&y){n.mode=12;break e}e.msg="invalid literal/length code",n.mode=30;break e}k=65535&P,(y&=15)&&(p<y&&(f+=C[i++]<<p,p+=8),k+=f&(1<<y)-1,f>>>=y,p-=y),p<15&&(f+=C[i++]<<p,f+=C[i++]<<(p+=8),p+=8),P=m[f&v];n:for(;;){if(f>>>=y=P>>>24,p-=y,!(16&(y=P>>>16&255))){if(0==(64&y)){P=m[(65535&P)+(f&(1<<y)-1)];continue n}e.msg="invalid distance code",n.mode=30;break e}if(I=65535&P,p<(y&=15)&&(f+=C[i++]<<p,(p+=8)<y&&(f+=C[i++]<<p,p+=8)),s<(I+=f&(1<<y)-1)){e.msg="invalid distance too far back",n.mode=30;break e}if(f>>>=y,p-=y,(y=a-o)<I){if(d<(y=I-y)&&n.sane){e.msg="invalid distance too far back",n.mode=30;break e}if(Q=b,(F=0)===u){if(F+=l-y,y<k){for(k-=y;D[a++]=b[F++],--y;);F=a-I,Q=D}}else if(u<y){if(F+=l+u-y,(y-=u)<k){for(k-=y;D[a++]=b[F++],--y;);if(F=0,u<k){for(k-=y=u;D[a++]=b[F++],--y;);F=a-I,Q=D}}}else if(F+=u-y,y<k){for(k-=y;D[a++]=b[F++],--y;);F=a-I,Q=D}for(;2<k;)D[a++]=Q[F++],D[a++]=Q[F++],D[a++]=Q[F++],k-=3;k&&(D[a++]=Q[F++],1<k&&(D[a++]=Q[F++]))}else{for(F=a-I;D[a++]=D[F++],D[a++]=D[F++],D[a++]=D[F++],2<(k-=3););k&&(D[a++]=D[F++],1<k&&(D[a++]=D[F++]))}break}}break}}while(i<r&&a<c);i-=k=p>>3,f&=(1<<(p-=k<<3))-1,e.next_in=i,e.next_out=a,e.avail_in=i<r?r-i+5:5-(i-r),e.avail_out=a<c?c-a+257:257-(a-c),n.hold=f,n.bits=p}},{}],49:[function(e,t,n){"use strict";var i=e("../utils/common"),r=e("./adler32"),a=e("./crc32"),o=e("./inffast"),c=e("./inftrees"),s=-2;function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function u(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new i.Buf32(852),t.distcode=t.distdyn=new i.Buf32(592),t.sane=1,t.back=-1,0):s}function b(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,u(e)):s}function f(e,t){var n,i;return e&&e.state?(i=e.state,t<0?(n=0,t=-t):(n=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?s:(null!==i.window&&i.wbits!==t&&(i.window=null),i.wrap=n,i.wbits=t,b(e))):s}function p(e,t){var n,i;return e?(i=new d,(e.state=i).window=null,0!==(n=f(e,t))&&(e.state=null),n):s}var h,m,g=!0;function v(e){if(g){var t;for(h=new i.Buf32(512),m=new i.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(c(1,e.lens,0,288,h,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;c(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=h,e.lenbits=9,e.distcode=m,e.distbits=5}function P(e,t,n,r){var a,o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new i.Buf8(o.wsize)),r>=o.wsize?(i.arraySet(o.window,t,n-o.wsize,o.wsize,0),o.wnext=0,o.whave=o.wsize):(r<(a=o.wsize-o.wnext)&&(a=r),i.arraySet(o.window,t,n-r,a,o.wnext),(r-=a)?(i.arraySet(o.window,t,n-r,r,0),o.wnext=r,o.whave=o.wsize):(o.wnext+=a,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=a))),0}n.inflateReset=b,n.inflateReset2=f,n.inflateResetKeep=u,n.inflateInit=function(e){return p(e,15)},n.inflateInit2=p,n.inflate=function(e,t){var n,d,u,b,f,p,h,m,g,y,k,I,F,Q,C,D,z,S,w,x,O,_,E,A,N=0,T=new i.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return s;12===(n=e.state).mode&&(n.mode=13),f=e.next_out,u=e.output,b=e.next_in,d=e.input,m=n.hold,g=n.bits,y=p=e.avail_in,k=h=e.avail_out,_=0;e:for(;;)switch(n.mode){case 1:if(0===n.wrap){n.mode=13;break}for(;g<16;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if(2&n.wrap&&35615===m){T[n.check=0]=255&m,T[1]=m>>>8&255,n.check=a(n.check,T,2,0),g=m=0,n.mode=2;break}if(n.flags=0,n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",n.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",n.mode=30;break}if(g-=4,O=8+(15&(m>>>=4)),0===n.wbits)n.wbits=O;else if(O>n.wbits){e.msg="invalid window size",n.mode=30;break}n.dmax=1<<O,e.adler=n.check=1,n.mode=512&m?10:12,g=m=0;break;case 2:for(;g<16;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if(n.flags=m,8!=(255&n.flags)){e.msg="unknown compression method",n.mode=30;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=30;break}n.head&&(n.head.text=m>>8&1),512&n.flags&&(T[0]=255&m,T[1]=m>>>8&255,n.check=a(n.check,T,2,0)),g=m=0,n.mode=3;case 3:for(;g<32;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}n.head&&(n.head.time=m),512&n.flags&&(T[0]=255&m,T[1]=m>>>8&255,T[2]=m>>>16&255,T[3]=m>>>24&255,n.check=a(n.check,T,4,0)),g=m=0,n.mode=4;case 4:for(;g<16;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}n.head&&(n.head.xflags=255&m,n.head.os=m>>8),512&n.flags&&(T[0]=255&m,T[1]=m>>>8&255,n.check=a(n.check,T,2,0)),g=m=0,n.mode=5;case 5:if(1024&n.flags){for(;g<16;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}n.length=m,n.head&&(n.head.extra_len=m),512&n.flags&&(T[0]=255&m,T[1]=m>>>8&255,n.check=a(n.check,T,2,0)),g=m=0}else n.head&&(n.head.extra=null);n.mode=6;case 6:if(1024&n.flags&&(p<(I=n.length)&&(I=p),I&&(n.head&&(O=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Array(n.head.extra_len)),i.arraySet(n.head.extra,d,b,I,O)),512&n.flags&&(n.check=a(n.check,d,I,b)),p-=I,b+=I,n.length-=I),n.length))break e;n.length=0,n.mode=7;case 7:if(2048&n.flags){if(0===p)break e;for(I=0;O=d[b+I++],n.head&&O&&n.length<65536&&(n.head.name+=String.fromCharCode(O)),O&&I<p;);if(512&n.flags&&(n.check=a(n.check,d,I,b)),p-=I,b+=I,O)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=8;case 8:if(4096&n.flags){if(0===p)break e;for(I=0;O=d[b+I++],n.head&&O&&n.length<65536&&(n.head.comment+=String.fromCharCode(O)),O&&I<p;);if(512&n.flags&&(n.check=a(n.check,d,I,b)),p-=I,b+=I,O)break e}else n.head&&(n.head.comment=null);n.mode=9;case 9:if(512&n.flags){for(;g<16;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if(m!==(65535&n.check)){e.msg="header crc mismatch",n.mode=30;break}g=m=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=12;break;case 10:for(;g<32;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}e.adler=n.check=l(m),g=m=0,n.mode=11;case 11:if(0===n.havedict)return e.next_out=f,e.avail_out=h,e.next_in=b,e.avail_in=p,n.hold=m,n.bits=g,2;e.adler=n.check=1,n.mode=12;case 12:if(5===t||6===t)break e;case 13:if(n.last){m>>>=7&g,g-=7&g,n.mode=27;break}for(;g<3;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}switch(n.last=1&m,g-=1,3&(m>>>=1)){case 0:n.mode=14;break;case 1:if(v(n),n.mode=20,6!==t)break;m>>>=2,g-=2;break e;case 2:n.mode=17;break;case 3:e.msg="invalid block type",n.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",n.mode=30;break}if(n.length=65535&m,g=m=0,n.mode=15,6===t)break e;case 15:n.mode=16;case 16:if(I=n.length){if(p<I&&(I=p),h<I&&(I=h),0===I)break e;i.arraySet(u,d,b,I,f),p-=I,b+=I,h-=I,f+=I,n.length-=I;break}n.mode=12;break;case 17:for(;g<14;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if(n.nlen=257+(31&m),g-=5,n.ndist=1+(31&(m>>>=5)),g-=5,n.ncode=4+(15&(m>>>=5)),m>>>=4,g-=4,286<n.nlen||30<n.ndist){e.msg="too many length or distance symbols",n.mode=30;break}n.have=0,n.mode=18;case 18:for(;n.have<n.ncode;){for(;g<3;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}n.lens[L[n.have++]]=7&m,m>>>=3,g-=3}for(;n.have<19;)n.lens[L[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,_=c(0,n.lens,0,19,n.lencode,0,n.work,E={bits:n.lenbits}),n.lenbits=E.bits,_){e.msg="invalid code lengths set",n.mode=30;break}n.have=0,n.mode=19;case 19:for(;n.have<n.nlen+n.ndist;){for(;D=(N=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,z=65535&N,!((C=N>>>24)<=g);){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if(z<16)m>>>=C,g-=C,n.lens[n.have++]=z;else{if(16===z){for(A=C+2;g<A;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if(m>>>=C,g-=C,0===n.have){e.msg="invalid bit length repeat",n.mode=30;break}O=n.lens[n.have-1],I=3+(3&m),m>>>=2,g-=2}else if(17===z){for(A=C+3;g<A;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}g-=C,O=0,I=3+(7&(m>>>=C)),m>>>=3,g-=3}else{for(A=C+7;g<A;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}g-=C,O=0,I=11+(127&(m>>>=C)),m>>>=7,g-=7}if(n.have+I>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=30;break}for(;I--;)n.lens[n.have++]=O}}if(30===n.mode)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=30;break}if(n.lenbits=9,_=c(1,n.lens,0,n.nlen,n.lencode,0,n.work,E={bits:n.lenbits}),n.lenbits=E.bits,_){e.msg="invalid literal/lengths set",n.mode=30;break}if(n.distbits=6,n.distcode=n.distdyn,_=c(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,E={bits:n.distbits}),n.distbits=E.bits,_){e.msg="invalid distances set",n.mode=30;break}if(n.mode=20,6===t)break e;case 20:n.mode=21;case 21:if(6<=p&&258<=h){e.next_out=f,e.avail_out=h,e.next_in=b,e.avail_in=p,n.hold=m,n.bits=g,o(e,k),f=e.next_out,u=e.output,h=e.avail_out,b=e.next_in,d=e.input,p=e.avail_in,m=n.hold,g=n.bits,12===n.mode&&(n.back=-1);break}for(n.back=0;D=(N=n.lencode[m&(1<<n.lenbits)-1])>>>16&255,z=65535&N,!((C=N>>>24)<=g);){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if(D&&0==(240&D)){for(S=C,w=D,x=z;D=(N=n.lencode[x+((m&(1<<S+w)-1)>>S)])>>>16&255,z=65535&N,!(S+(C=N>>>24)<=g);){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}m>>>=S,g-=S,n.back+=S}if(m>>>=C,g-=C,n.back+=C,n.length=z,0===D){n.mode=26;break}if(32&D){n.back=-1,n.mode=12;break}if(64&D){e.msg="invalid literal/length code",n.mode=30;break}n.extra=15&D,n.mode=22;case 22:if(n.extra){for(A=n.extra;g<A;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}n.length+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=23;case 23:for(;D=(N=n.distcode[m&(1<<n.distbits)-1])>>>16&255,z=65535&N,!((C=N>>>24)<=g);){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if(0==(240&D)){for(S=C,w=D,x=z;D=(N=n.distcode[x+((m&(1<<S+w)-1)>>S)])>>>16&255,z=65535&N,!(S+(C=N>>>24)<=g);){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}m>>>=S,g-=S,n.back+=S}if(m>>>=C,g-=C,n.back+=C,64&D){e.msg="invalid distance code",n.mode=30;break}n.offset=z,n.extra=15&D,n.mode=24;case 24:if(n.extra){for(A=n.extra;g<A;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}n.offset+=m&(1<<n.extra)-1,m>>>=n.extra,g-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=30;break}n.mode=25;case 25:if(0===h)break e;if(n.offset>(I=k-h)){if((I=n.offset-I)>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=30;break}F=I>n.wnext?n.wsize-(I-=n.wnext):n.wnext-I,I>n.length&&(I=n.length),Q=n.window}else Q=u,F=f-n.offset,I=n.length;for(h<I&&(I=h),h-=I,n.length-=I;u[f++]=Q[F++],--I;);0===n.length&&(n.mode=21);break;case 26:if(0===h)break e;u[f++]=n.length,h--,n.mode=21;break;case 27:if(n.wrap){for(;g<32;){if(0===p)break e;p--,m|=d[b++]<<g,g+=8}if(e.total_out+=k-=h,n.total+=k,k&&(e.adler=n.check=n.flags?a(n.check,u,k,f-k):r(n.check,u,k,f-k)),k=h,(n.flags?m:l(m))!==n.check){e.msg="incorrect data check",n.mode=30;break}g=m=0}n.mode=28;case 28:if(n.wrap&&n.flags){for(;g<32;){if(0===p)break e;p--,m+=d[b++]<<g,g+=8}if(m!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=30;break}g=m=0}n.mode=29;case 29:_=1;break e;case 30:_=-3;break e;case 31:return-4;case 32:default:return s}return e.next_out=f,e.avail_out=h,e.next_in=b,e.avail_in=p,n.hold=m,n.bits=g,(n.wsize||k!==e.avail_out&&n.mode<30&&(n.mode<27||4!==t))&&P(e,e.output,e.next_out,k-e.avail_out)?(n.mode=31,-4):(k-=e.avail_out,e.total_in+=y-=e.avail_in,e.total_out+=k,n.total+=k,n.wrap&&k&&(e.adler=n.check=n.flags?a(n.check,u,k,e.next_out-k):r(n.check,u,k,e.next_out-k)),e.data_type=n.bits+(n.last?64:0)+(12===n.mode?128:0)+(20===n.mode||15===n.mode?256:0),(0==y&&0===k||4===t)&&0===_&&(_=-5),_)},n.inflateEnd=function(e){if(!e||!e.state)return s;var t=e.state;return t.window&&(t.window=null),e.state=null,0},n.inflateGetHeader=function(e,t){var n;return e&&e.state?0==(2&(n=e.state).wrap)?s:((n.head=t).done=!1,0):s},n.inflateSetDictionary=function(e,t){var n,i=t.length;return e&&e.state?0!==(n=e.state).wrap&&11!==n.mode?s:11===n.mode&&r(1,t,i,0)!==n.check?-3:P(e,t,i,i)?(n.mode=31,-4):(n.havedict=1,0):s},n.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,n){"use strict";var i=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],a=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],o=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],c=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,n,s,l,d,u,b){var f,p,h,m,g,v,P,y,k,I=b.bits,F=0,Q=0,C=0,D=0,z=0,S=0,w=0,x=0,O=0,_=0,E=null,A=0,N=new i.Buf16(16),T=new i.Buf16(16),L=null,H=0;for(F=0;F<=15;F++)N[F]=0;for(Q=0;Q<s;Q++)N[t[n+Q]]++;for(z=I,D=15;1<=D&&0===N[D];D--);if(D<z&&(z=D),0===D)return l[d++]=20971520,l[d++]=20971520,b.bits=1,0;for(C=1;C<D&&0===N[C];C++);for(z<C&&(z=C),F=x=1;F<=15;F++)if(x<<=1,(x-=N[F])<0)return-1;if(0<x&&(0===e||1!==D))return-1;for(T[1]=0,F=1;F<15;F++)T[F+1]=T[F]+N[F];for(Q=0;Q<s;Q++)0!==t[n+Q]&&(u[T[t[n+Q]]++]=Q);if(v=0===e?(E=L=u,19):1===e?(E=r,A-=257,L=a,H-=257,256):(E=o,L=c,-1),F=C,g=d,w=Q=_=0,h=-1,m=(O=1<<(S=z))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(P=F-w,k=u[Q]<v?(y=0,u[Q]):u[Q]>v?(y=L[H+u[Q]],E[A+u[Q]]):(y=96,0),f=1<<F-w,C=p=1<<S;l[g+(_>>w)+(p-=f)]=P<<24|y<<16|k|0,0!==p;);for(f=1<<F-1;_&f;)f>>=1;if(0!==f?(_&=f-1,_+=f):_=0,Q++,0==--N[F]){if(F===D)break;F=t[n+u[Q]]}if(z<F&&(_&m)!==h){for(0===w&&(w=z),g+=C,x=1<<(S=F-w);S+w<D&&!((x-=N[S+w])<=0);)S++,x<<=1;if(O+=1<<S,1===e&&852<O||2===e&&592<O)return 1;l[h=_&m]=z<<24|S<<16|g-d|0}}return 0!==_&&(l[g+_]=F-w<<24|64<<16|0),b.bits=z,0}},{"../utils/common":41}],51:[function(e,t,n){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,n){"use strict";var i=e("../utils/common");function r(e){for(var t=e.length;0<=--t;)e[t]=0}var a=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],o=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],c=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],s=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);r(l);var d=new Array(60);r(d);var u=new Array(512);r(u);var b=new Array(256);r(b);var f=new Array(29);r(f);var p,h,m,g=new Array(30);function v(e,t,n,i,r){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=i,this.max_length=r,this.has_stree=e&&e.length}function P(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function y(e){return e<256?u[e]:u[256+(e>>>7)]}function k(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function I(e,t,n){e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)}function F(e,t,n){I(e,n[2*t],n[2*t+1])}function Q(e,t){for(var n=0;n|=1&e,e>>>=1,n<<=1,0<--t;);return n>>>1}function C(e,t,n){var i,r,a=new Array(16),o=0;for(i=1;i<=15;i++)a[i]=o=o+n[i-1]<<1;for(r=0;r<=t;r++){var c=e[2*r+1];0!==c&&(e[2*r]=Q(a[c]++,c))}}function D(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function z(e){8<e.bi_valid?k(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function S(e,t,n,i){var r=2*t,a=2*n;return e[r]<e[a]||e[r]===e[a]&&i[t]<=i[n]}function w(e,t,n){for(var i=e.heap[n],r=n<<1;r<=e.heap_len&&(r<e.heap_len&&S(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!S(t,i,e.heap[r],e.depth));)e.heap[n]=e.heap[r],n=r,r<<=1;e.heap[n]=i}function x(e,t,n){var i,r,c,s,l=0;if(0!==e.last_lit)for(;i=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===i?F(e,r,t):(F(e,(c=b[r])+256+1,t),0!==(s=a[c])&&I(e,r-=f[c],s),F(e,c=y(--i),n),0!==(s=o[c])&&I(e,i-=g[c],s)),l<e.last_lit;);F(e,256,t)}function O(e,t){var n,i,r,a=t.dyn_tree,o=t.stat_desc.static_tree,c=t.stat_desc.has_stree,s=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,n=0;n<s;n++)0!==a[2*n]?(e.heap[++e.heap_len]=l=n,e.depth[n]=0):a[2*n+1]=0;for(;e.heap_len<2;)a[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,c&&(e.static_len-=o[2*r+1]);for(t.max_code=l,n=e.heap_len>>1;1<=n;n--)w(e,a,n);for(r=s;n=e.heap[1],e.heap[1]=e.heap[e.heap_len--],w(e,a,1),i=e.heap[1],e.heap[--e.heap_max]=n,e.heap[--e.heap_max]=i,a[2*r]=a[2*n]+a[2*i],e.depth[r]=(e.depth[n]>=e.depth[i]?e.depth[n]:e.depth[i])+1,a[2*n+1]=a[2*i+1]=r,e.heap[1]=r++,w(e,a,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var n,i,r,a,o,c,s=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,u=t.stat_desc.has_stree,b=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,p=t.stat_desc.max_length,h=0;for(a=0;a<=15;a++)e.bl_count[a]=0;for(s[2*e.heap[e.heap_max]+1]=0,n=e.heap_max+1;n<573;n++)p<(a=s[2*s[2*(i=e.heap[n])+1]+1]+1)&&(a=p,h++),s[2*i+1]=a,l<i||(e.bl_count[a]++,o=0,f<=i&&(o=b[i-f]),e.opt_len+=(c=s[2*i])*(a+o),u&&(e.static_len+=c*(d[2*i+1]+o)));if(0!==h){do{for(a=p-1;0===e.bl_count[a];)a--;e.bl_count[a]--,e.bl_count[a+1]+=2,e.bl_count[p]--,h-=2}while(0<h);for(a=p;0!==a;a--)for(i=e.bl_count[a];0!==i;)l<(r=e.heap[--n])||(s[2*r+1]!==a&&(e.opt_len+=(a-s[2*r+1])*s[2*r],s[2*r+1]=a),i--)}}(e,t),C(a,l,e.bl_count)}function _(e,t,n){var i,r,a=-1,o=t[1],c=0,s=7,l=4;for(0===o&&(s=138,l=3),t[2*(n+1)+1]=65535,i=0;i<=n;i++)r=o,o=t[2*(i+1)+1],++c<s&&r===o||(c<l?e.bl_tree[2*r]+=c:0!==r?(r!==a&&e.bl_tree[2*r]++,e.bl_tree[32]++):c<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=r,l=(c=0)===o?(s=138,3):r===o?(s=6,3):(s=7,4))}function E(e,t,n){var i,r,a=-1,o=t[1],c=0,s=7,l=4;for(0===o&&(s=138,l=3),i=0;i<=n;i++)if(r=o,o=t[2*(i+1)+1],!(++c<s&&r===o)){if(c<l)for(;F(e,r,e.bl_tree),0!=--c;);else 0!==r?(r!==a&&(F(e,r,e.bl_tree),c--),F(e,16,e.bl_tree),I(e,c-3,2)):c<=10?(F(e,17,e.bl_tree),I(e,c-3,3)):(F(e,18,e.bl_tree),I(e,c-11,7));a=r,l=(c=0)===o?(s=138,3):r===o?(s=6,3):(s=7,4)}}r(g);var A=!1;function N(e,t,n,r){var a,o,c;I(e,0+(r?1:0),3),o=t,c=n,z(a=e),k(a,c),k(a,~c),i.arraySet(a.pending_buf,a.window,o,c,a.pending),a.pending+=c}n._tr_init=function(e){A||(function(){var e,t,n,i,r,s=new Array(16);for(i=n=0;i<28;i++)for(f[i]=n,e=0;e<1<<a[i];e++)b[n++]=i;for(b[n-1]=i,i=r=0;i<16;i++)for(g[i]=r,e=0;e<1<<o[i];e++)u[r++]=i;for(r>>=7;i<30;i++)for(g[i]=r<<7,e=0;e<1<<o[i]-7;e++)u[256+r++]=i;for(t=0;t<=15;t++)s[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,s[8]++;for(;e<=255;)l[2*e+1]=9,e++,s[9]++;for(;e<=279;)l[2*e+1]=7,e++,s[7]++;for(;e<=287;)l[2*e+1]=8,e++,s[8]++;for(C(l,287,s),e=0;e<30;e++)d[2*e+1]=5,d[2*e]=Q(e,5);p=new v(l,a,257,286,15),h=new v(d,o,0,30,15),m=new v(new Array(0),c,0,19,7)}(),A=!0),e.l_desc=new P(e.dyn_ltree,p),e.d_desc=new P(e.dyn_dtree,h),e.bl_desc=new P(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,D(e)},n._tr_stored_block=N,n._tr_flush_block=function(e,t,n,i){var r,a,o=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),O(e,e.l_desc),O(e,e.d_desc),o=function(e){var t;for(_(e,e.dyn_ltree,e.l_desc.max_code),_(e,e.dyn_dtree,e.d_desc.max_code),O(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*s[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(a=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=a)):r=a=n+5,n+4<=r&&-1!==t?N(e,t,n,i):4===e.strategy||a===r?(I(e,2+(i?1:0),3),x(e,l,d)):(I(e,4+(i?1:0),3),function(e,t,n,i){var r;for(I(e,t-257,5),I(e,n-1,5),I(e,i-4,4),r=0;r<i;r++)I(e,e.bl_tree[2*s[r]+1],3);E(e,e.dyn_ltree,t-1),E(e,e.dyn_dtree,n-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,o+1),x(e,e.dyn_ltree,e.dyn_dtree)),D(e),i&&z(e)},n._tr_tally=function(e,t,n){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&n,e.last_lit++,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(b[n]+256+1)]++,e.dyn_dtree[2*y(t)]++),e.last_lit===e.lit_bufsize-1},n._tr_align=function(e){var t;I(e,2,3),F(e,256,l),16===(t=e).bi_valid?(k(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,n){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,n){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==i?i:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}}])}();