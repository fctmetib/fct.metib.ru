(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{gPCi:function(n,t,e){"use strict";e.r(t),e.d(t,"UsersModule",function(){return A});var r=e("ofXK"),c=e("3Pt+"),s=e("tyNb"),i=e("+F6F"),o=e("jIHw"),a=e("QIUk"),u=e("Ji6n"),d=e("arFO"),b=e("7kUa"),_=e("zFJ7"),l=e("1SLH"),g=e("b1Ni"),p=e("LuMj"),h=e("jeV5"),f=e("vkgz"),m=e("Kj3r"),P=e("/uUt"),x=e("quSY"),O=e("ldK4"),C=e("fXoL"),M=e("xQnE"),w=e("l7P3"),v=e("AytR"),y=e("tk/3");let z=(()=>{class n{constructor(n){this.http=n}getUsersList(n){return this.http.get(`${v.a.apiUrl}/user/search?filter=${n}`)}}return n.\u0275fac=function(t){return new(t||n)(C.Ub(y.b))},n.\u0275prov=C.Gb({token:n,factory:n.\u0275fac}),n})(),L=(()=>{class n{constructor(){this.switchAccount=new C.n}ngOnInit(){}onSwitchAccount(n){this.switchAccount.emit(n)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=C.Eb({type:n,selectors:[["card-user"]],inputs:{user:"user"},outputs:{switchAccount:"switchAccount"},decls:14,vars:3,consts:[[1,"card-user"],[1,"card-user__information"],[1,"card-user__information__name"],[1,"card-user__information__organization"],[1,"card-user__contacts"],[1,"card-user__contacts__contact"],["src","../../../../../../assets/admin/icons/icon-email.png","alt","Email"],[1,"card-user__actions"],["type","button","pButton","","label","\u0412\u043e\u0439\u0442\u0438 \u043e\u0442 \u0438\u043c\u0435\u043d\u0438 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",1,"basic",3,"click"]],template:function(n,t){1&n&&(C.Qb(0,"div",0),C.Qb(1,"div",1),C.Qb(2,"div",2),C.Qb(3,"h4"),C.Hc(4),C.Pb(),C.Pb(),C.Qb(5,"div",3),C.Qb(6,"p"),C.Hc(7),C.Pb(),C.Pb(),C.Pb(),C.Qb(8,"div",4),C.Qb(9,"div",5),C.Lb(10,"img",6),C.Hc(11),C.Pb(),C.Pb(),C.Qb(12,"div",7),C.Qb(13,"button",8),C.Xb("click",function(){return t.onSwitchAccount(t.user.ID)}),C.Pb(),C.Pb(),C.Pb()),2&n&&(C.zb(4),C.Ic(null==t.user?null:t.user.Name),C.zb(3),C.Ic(null==t.user?null:t.user.Organization),C.zb(4),C.Jc(" ",null==t.user?null:t.user.Email," "))},directives:[o.b],styles:[".card-user[_ngcontent-%COMP%]{width:100%;display:flex;flex-wrap:wrap;flex-direction:row}.card-user[_ngcontent-%COMP%]   .card-user__information[_ngcontent-%COMP%]{display:flex;flex-basis:50%;flex-direction:column;border:1px solid #d5d5d5;box-sizing:border-box;border-radius:10px;padding:22px}.card-user[_ngcontent-%COMP%]   .card-user__information[_ngcontent-%COMP%]   .card-user__information__name[_ngcontent-%COMP%]{margin-bottom:5px}.card-user[_ngcontent-%COMP%]   .card-user__information[_ngcontent-%COMP%]   .card-user__information__name[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:14px;line-height:16px;color:#102538}.card-user[_ngcontent-%COMP%]   .card-user__information[_ngcontent-%COMP%]   .card-user__information__organization[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-weight:500;font-size:14px;line-height:16px;color:#4b75b1}.card-user[_ngcontent-%COMP%]   .card-user__contacts[_ngcontent-%COMP%]{display:flex;flex-basis:25%;flex-direction:column;justify-content:center;align-items:center;border:1px solid #d5d5d5;box-sizing:border-box;border-radius:10px}.card-user[_ngcontent-%COMP%]   .card-user__contacts[_ngcontent-%COMP%]   .card-user__contacts__contact[_ngcontent-%COMP%]{font-weight:500;font-size:14px;line-height:16px;color:#102538;display:flex;align-items:center}.card-user[_ngcontent-%COMP%]   .card-user__contacts[_ngcontent-%COMP%]   .card-user__contacts__contact[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:6px}.card-user[_ngcontent-%COMP%]   .card-user__actions[_ngcontent-%COMP%]{display:flex;flex-basis:25%;flex-direction:column;border:1px solid #d5d5d5;box-sizing:border-box;border-radius:10px;padding:12px}@media (max-width:1300px){.card-user[_ngcontent-%COMP%]   .card-user__information[_ngcontent-%COMP%]{flex-basis:100%}.card-user[_ngcontent-%COMP%]   .card-user__contacts[_ngcontent-%COMP%]{flex-basis:100%;padding:20px}.card-user[_ngcontent-%COMP%]   .card-user__actions[_ngcontent-%COMP%]{flex-basis:100%}}"]}),n})();function Q(n,t){if(1&n){const n=C.Rb();C.Qb(0,"card-user",7),C.Xb("switchAccount",function(t){return C.yc(n),C.ac(2).reauthHandler(t)}),C.Pb()}2&n&&C.hc("user",t.$implicit)}function j(n,t){if(1&n&&(C.Ob(0),C.Fc(1,Q,1,1,"card-user",6),C.bc(2,"async"),C.Nb()),2&n){const n=C.ac();C.zb(1),C.hc("ngForOf",C.cc(2,1,n.userList$))}}function I(n,t){1&n&&C.Hc(0," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... ")}const F=[{path:"",canActivate:[],children:[{path:"",component:(()=>{class n{constructor(n,t,e,r){this.pageStoreService=n,this.store=t,this.formBuilder=e,this.userService=r,this.isLoading=!1,this.subscription$=new x.a}ngOnInit(){this.pageStoreService.setPage({header:"\u041f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u0438",description:"\u041d\u0430\u0439\u0434\u0438\u0442\u0435 \u0438 \u0432\u043e\u0439\u0434\u0438\u0442\u0435 \u043e\u0442 \u0438\u043c\u0435\u043d\u0438 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u0443\u044e\u0449\u0435\u0433\u043e \u0412\u0430\u0441 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),this.filterForm=this.formBuilder.group({search:""}),this.onChanges()}reauthHandler(n){const t={userId:n};this.store.dispatch(Object(O.a)({request:t}))}onChanges(){this.subscription$.add(this.filterForm.valueChanges.pipe(Object(f.a)(()=>this.isLoading=!0),Object(m.a)(2e3),Object(P.a)()).subscribe(n=>{this.userList$=this.userService.getUsersList(n.search),this.isLoading=!1}))}ngOnDestroy(){this.subscription$.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(C.Kb(M.a),C.Kb(w.h),C.Kb(c.d),C.Kb(z))},n.\u0275cmp=C.Eb({type:n,selectors:[["users"]],decls:9,vars:7,consts:[[1,"sub-header"],[1,"sub-header__actions","sub-header__actions_search","sub-header__actions_search_large",3,"formGroup"],["type","text","pInputText","","placeholder","\u041f\u043e\u0438\u0441\u043a","formControlName","search",1,"search"],[1,"content","content_rows"],[4,"ngIf","ngIfElse"],["loadingTemplate",""],[3,"user","switchAccount",4,"ngFor","ngForOf"],[3,"user","switchAccount"]],template:function(n,t){if(1&n&&(C.Qb(0,"div",0),C.Qb(1,"form",1),C.Lb(2,"input",2),C.Pb(),C.Pb(),C.Qb(3,"div",3),C.Fc(4,j,3,3,"ng-container",4),C.bc(5,"async"),C.bc(6,"async"),C.Fc(7,I,1,0,"ng-template",null,5,C.Gc),C.Pb()),2&n){const n=C.vc(8);C.zb(1),C.hc("formGroup",t.filterForm),C.zb(3),C.hc("ngIf",C.cc(5,3,t.userList$)&&!t.isLoading||!C.cc(6,5,t.userList$)&&!t.isLoading)("ngIfElse",n)}},directives:[c.y,c.q,c.h,c.b,b.a,c.p,c.f,r.n,r.m,L],pipes:[r.b],encapsulation:2}),n})()}]}];let A=(()=>{class n{}return n.\u0275mod=C.Ib({type:n}),n.\u0275inj=C.Hb({factory:function(t){return new(t||n)},providers:[z],imports:[[r.c,b.b,u.b,o.c,p.a,_.b,d.b,l.b,h.b,c.j,c.v,a.b,g.a,i.a,c.j,c.v,s.j.forChild(F)],s.j]}),n})()}}]);