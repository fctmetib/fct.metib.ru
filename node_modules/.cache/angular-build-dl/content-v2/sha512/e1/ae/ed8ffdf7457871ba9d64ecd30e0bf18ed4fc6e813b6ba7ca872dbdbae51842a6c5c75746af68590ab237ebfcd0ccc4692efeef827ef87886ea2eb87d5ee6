(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{GMry:function(e,t,i){"use strict";i.r(t),i.d(t,"DemandModule",function(){return Tu});var n=i("i4ku"),r=i("/RsI"),o=i("KWQS"),a=i("l7P3"),s=function(e){return e.GET_DEMANDS="[Demands] Get demands",e.GET_DEMANDS_SUCCESS="[Demands] Get demands success",e.GET_DEMANDS_FAILURE="[Demands] Get demands failure",e.GET_DRAFTS="[Demands] Get drafts",e.GET_DRAFTS_SUCCESS="[Demands] Get drafts success",e.GET_DRAFTS_FAILURE="[Demands] Get drafts failure",e.CREATE_DEMAND_FACTORING="[Demands] Create demand factoring",e.CREATE_DEMAND_FACTORING_SUCCESS="[Demands] Create demand factoring success",e.CREATE_DEMAND_FACTORING_FAILURE="[Demands] Create demand factoring failure",e.REMOVE_DEMANDS="[Demands] Remove demand",e.REMOVE_DEMANDS_SUCCESS="[Demands] Remove demand success",e.REMOVE_DEMANDS_FAILURE="[Demands] Remove demand failure",e}({});const c=Object(a.n)(s.GET_DEMANDS),l=Object(a.n)(s.GET_DEMANDS_SUCCESS,Object(a.s)()),d=Object(a.n)(s.GET_DEMANDS_FAILURE);var b=i("9jGm"),u=i("eIep"),f=i("lJxs"),h=i("JIr8"),p=i("LRne"),m=i("fXoL"),g=i("AytR"),v=i("tk/3");let P=(()=>{class e{constructor(e){this.http=e}fetch(){return this.http.get(g.a.apiUrl+"/demand")}add(e){return this.http.post(g.a.apiUrl+"/demand",e)}getDemandById(e){return this.http.get(`${g.a.apiUrl}/demand/${e}`)}getDigitalSignatureRequest(e){return this.http.post(g.a.apiUrl+"/demand/document/DigitalSignatureRequest",e,{responseType:"arraybuffer"})}getDemandByFilter(e){return this.http.get(`${g.a.apiUrl}/demand?filter=${e}`)}prepareDemandByType(e){return this.http.get(`${g.a.apiUrl}/demand/prepare/${e}`)}addDemandDocumentById(e){return this.http.post(`${g.a.apiUrl}/demand/document/${e}`,{})}getDocumentByIdByDemandId(e,t){return this.http.get(`${g.a.apiUrl}/demand/${e}/document/${t}`)}addById(e,t){return this.http.post(`${g.a.apiUrl}/demand/${e}`,t)}addMessageByDemandId(e,t){return this.http.post(`${g.a.apiUrl}/demand/${e}/message`,t)}cancelByDemandId(e){return this.http.post(`${g.a.apiUrl}/demand/${e}/cancel`,{})}getDrafts(){return this.http.get(g.a.apiUrl+"/demand/draft")}getDraftById(e){return this.http.get(`${g.a.apiUrl}/demand/draft/${e}`)}addDraftById(e,t){return this.http.post(`${g.a.apiUrl}/demand/draft/${e}`,t)}deleteDraftById(e){return this.http.delete(`${g.a.apiUrl}/demand/draft/${e}`)}getDebtors(){return this.http.get(g.a.apiUrl+"/public/debtors")}}return e.\u0275fac=function(t){return new(t||e)(m.Ub(v.b))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac}),e})(),y=(()=>{class e{constructor(e,t){this.actions$=e,this.demandService=t,this.getDemands$=Object(b.c)(()=>this.actions$.pipe(Object(b.d)(c),Object(u.a)(()=>this.demandService.fetch().pipe(Object(f.a)(e=>l({demands:e})),Object(h.a)(()=>Object(p.a)(d()))))))}}return e.\u0275fac=function(t){return new(t||e)(m.Ub(b.a),m.Ub(P))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac}),e})();var I=i("tyNb");class F{canDeactivate(e){return console.log("Can deactivate"),!e.canDeactivate||e.canDeactivate()}}var Q=i("HDdC"),C=i("quSY"),D=i("ofXK"),k=i("lYeo"),z=i("m7sG"),S=i("3Pt+"),w=i("Qx8d"),x=i("4S+r"),O=i("J7/z"),_=i("7kUa"),E=i("arFO"),A=i("jIHw");let N=(()=>{class e{constructor(e,t,i){this.ref=e,this.config=t,this.fb=i}ngOnInit(){let e=new x.a;this.countryList=e.getCountryList(),this.regionList=e.getRegionList(),this.formAddress=this.fb.group({PostCode:["",[S.x.required]],Country:["",[S.x.required]],RegionCode:[0,[S.x.required]],RegionTitle:["",[S.x.required]],City:["",[S.x.required]],District:["",[S.x.required]],Locality:["",[S.x.required]],Street:["",[S.x.required]],House:["",[S.x.required]],Appartment:["",[S.x.required]]});const t=this.config.data.address;t&&this.formAddress.patchValue(t)}onRegionChanged(e){if(e){let t=this.regionList.find(t=>t.value===e);this.formAddress.patchValue({RegionTitle:t})}}saveAddress(){this.ref.close(this.formAddress.value)}closeModal(){this.ref.close()}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(O.d),m.Kb(O.b),m.Kb(S.d))},e.\u0275cmp=m.Eb({type:e,selectors:[["address-modal"]],decls:41,vars:3,consts:[[1,"address-modal"],[3,"formGroup","ngSubmit"],[1,"p-field"],["for","PostCode"],["id","PostCode","type","text","pInputText","","placeholder","\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0418\u043d\u0434\u0435\u043a\u0441","formControlName","PostCode"],["for","Country"],["id","Country","placeholder","\u0421\u0442\u0440\u0430\u043d\u0430","formControlName","Country","optionLabel","title","optionValue","value",3,"options"],["for","RegionCode"],["id","RegionCode","placeholder","\u041a\u043e\u0434 \u0440\u0435\u0433\u0438\u043e\u043d\u0430","formControlName","RegionCode","optionLabel","title","optionValue","value",3,"options","onChange"],["for","District"],["id","District","type","text","pInputText","","placeholder","\u0420\u0430\u0439\u043e\u043d","formControlName","District"],["for","City"],["id","City","type","text","pInputText","","placeholder","\u0413\u043e\u0440\u043e\u0434","formControlName","City"],["for","Locality"],["id","Locality","type","text","pInputText","","placeholder","\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442","formControlName","Locality"],["for","Street"],["id","Street","type","text","pInputText","","placeholder","\u0423\u043b\u0438\u0446\u0430","formControlName","Street"],["for","House"],["id","House","type","text","pInputText","","placeholder","\u0414\u043e\u043c","formControlName","House"],["for","Appartment"],["id","Appartment","type","text","pInputText","","placeholder","\u041e\u0444\u0438\u0441 / \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430","formControlName","Appartment"],[1,"modal-actions"],["pButton","","pRipple","","label","\u041f\u0440\u0438\u043c\u0435\u043d\u0438\u0442\u044c","type","submit",1,"p-button-text","save"],["pButton","","pRipple","","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","type","button",1,"p-button-text","cancel",3,"click"]],template:function(e,t){1&e&&(m.Qb(0,"div",0),m.Qb(1,"form",1),m.Xb("ngSubmit",function(){return t.saveAddress()}),m.Qb(2,"div",2),m.Qb(3,"label",3),m.Hc(4,"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0418\u043d\u0434\u0435\u043a\u0441: "),m.Pb(),m.Lb(5,"input",4),m.Pb(),m.Qb(6,"div",2),m.Qb(7,"label",5),m.Hc(8,"\u0421\u0442\u0440\u0430\u043d\u0430: "),m.Pb(),m.Lb(9,"p-dropdown",6),m.Pb(),m.Qb(10,"div",2),m.Qb(11,"label",7),m.Hc(12,"\u041a\u043e\u0434 \u0440\u0435\u0433\u0438\u043e\u043d\u0430: "),m.Pb(),m.Qb(13,"p-dropdown",8),m.Xb("onChange",function(e){return t.onRegionChanged(e.value)}),m.Pb(),m.Pb(),m.Qb(14,"div",2),m.Qb(15,"label",9),m.Hc(16,"\u0420\u0430\u0439\u043e\u043d: "),m.Pb(),m.Lb(17,"input",10),m.Pb(),m.Qb(18,"div",2),m.Qb(19,"label",11),m.Hc(20,"\u0413\u043e\u0440\u043e\u0434: "),m.Pb(),m.Lb(21,"input",12),m.Pb(),m.Qb(22,"div",2),m.Qb(23,"label",13),m.Hc(24,"\u041d\u0430\u0441\u0435\u043b\u0435\u043d\u043d\u044b\u0439 \u043f\u0443\u043d\u043a\u0442: "),m.Pb(),m.Lb(25,"input",14),m.Pb(),m.Qb(26,"div",2),m.Qb(27,"label",15),m.Hc(28,"\u0423\u043b\u0438\u0446\u0430: "),m.Pb(),m.Lb(29,"input",16),m.Pb(),m.Qb(30,"div",2),m.Qb(31,"label",17),m.Hc(32,"\u0414\u043e\u043c: "),m.Pb(),m.Lb(33,"input",18),m.Pb(),m.Qb(34,"div",2),m.Qb(35,"label",19),m.Hc(36,"\u041e\u0444\u0438\u0441 / \u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430: "),m.Pb(),m.Lb(37,"input",20),m.Pb(),m.Qb(38,"div",21),m.Lb(39,"button",22),m.Qb(40,"button",23),m.Xb("click",function(){return t.closeModal()}),m.Pb(),m.Pb(),m.Pb(),m.Pb()),2&e&&(m.zb(1),m.hc("formGroup",t.formAddress),m.zb(8),m.hc("options",t.countryList),m.zb(4),m.hc("options",t.regionList))},directives:[S.y,S.q,S.h,S.b,_.a,S.p,S.f,E.a,A.b],encapsulation:2}),e})();var T=i("N/25"),L=i("7zfz"),H=i("dixg"),B=i("K0fe"),R=i("Gxio"),M=i("dts7"),q=i("dPl2");function j(e,t){if(1&e&&(m.Qb(0,"span",11),m.Hc(1),m.Pb()),2&e){const e=m.ac(2).$implicit;m.zb(1),m.Ic(e.label)}}function $(e,t){if(1&e&&m.Lb(0,"span",12),2&e){const e=m.ac(2).$implicit;m.hc("innerHTML",e.label,m.zc)}}const U=function(){return{exact:!1}};function G(e,t){if(1&e){const e=m.Rb();m.Qb(0,"a",7),m.Xb("click",function(t){m.yc(e);const i=m.ac(),n=i.$implicit,r=i.index;return m.ac().itemClick(t,n,r)})("keydown.enter",function(t){m.yc(e);const i=m.ac(),n=i.$implicit,r=i.index;return m.ac().itemClick(t,n,r)}),m.Qb(1,"span",8),m.Hc(2),m.Pb(),m.Fc(3,j,2,1,"span",9),m.Fc(4,$,1,1,"ng-template",null,10,m.Gc),m.Pb()}if(2&e){const e=m.vc(5),t=m.ac(),i=t.$implicit,n=t.index,r=m.ac();m.hc("routerLink",i.routerLink)("queryParams",i.queryParams)("routerLinkActive","p-menuitem-link-active")("routerLinkActiveOptions",i.routerLinkActiveOptions||m.lc(16,U))("fragment",i.fragment)("queryParamsHandling",i.queryParamsHandling)("preserveFragment",i.preserveFragment)("skipLocationChange",i.skipLocationChange)("replaceUrl",i.replaceUrl)("state",i.state),m.Ab("target",i.target)("id",i.id)("tabindex",i.disabled||r.readonly?null:i.tabindex?i.tabindex:"0"),m.zb(2),m.Ic(n+1),m.zb(1),m.hc("ngIf",!1!==i.escape)("ngIfElse",e)}}function V(e,t){if(1&e&&(m.Qb(0,"span",11),m.Hc(1),m.Pb()),2&e){const e=m.ac(2).$implicit;m.zb(1),m.Ic(e.label)}}function X(e,t){if(1&e&&m.Lb(0,"span",12),2&e){const e=m.ac(2).$implicit;m.hc("innerHTML",e.label,m.zc)}}function K(e,t){if(1&e){const e=m.Rb();m.Qb(0,"a",13),m.Xb("click",function(t){m.yc(e);const i=m.ac(),n=i.$implicit,r=i.index;return m.ac().itemClick(t,n,r)})("keydown.enter",function(t){m.yc(e);const i=m.ac(),n=i.$implicit,r=i.index;return m.ac().itemClick(t,n,r)}),m.Qb(1,"span",8),m.Hc(2),m.Pb(),m.Fc(3,V,2,1,"span",9),m.Fc(4,X,1,1,"ng-template",null,14,m.Gc),m.Pb()}if(2&e){const e=m.vc(5),t=m.ac(),i=t.$implicit,n=t.index,r=m.ac();m.Ab("href",i.url,m.Ac)("target",i.target)("id",i.id)("tabindex",i.disabled||n!==r.activeIndex&&r.readonly?null:i.tabindex?i.tabindex:"0"),m.zb(2),m.Ic(n+1),m.zb(1),m.hc("ngIf",!1!==i.escape)("ngIfElse",e)}}const W=function(e,t){return{"p-highlight p-steps-current":e,"p-disabled":t}};function Z(e,t){if(1&e&&(m.Qb(0,"li",3,4),m.Fc(2,G,6,17,"a",5),m.Fc(3,K,6,7,"ng-template",null,6,m.Gc),m.Pb()),2&e){const e=t.$implicit,i=t.index,n=m.vc(4),r=m.ac();m.Bb(e.styleClass),m.hc("ngStyle",e.style)("ngClass",m.nc(8,W,r.isActive(e,i),e.disabled||r.readonly&&!r.isActive(e,i))),m.Ab("aria-selected",i===r.activeIndex)("aria-expanded",i===r.activeIndex),m.zb(2),m.hc("ngIf",r.isClickableRouterLink(e))("ngIfElse",n)}}const J=function(e){return{"p-steps p-component":!0,"p-readonly":e}};let Y=(()=>{class e{constructor(e,t,i){this.router=e,this.route=t,this.cd=i,this.activeIndex=0,this.readonly=!0,this.activeIndexChange=new m.n}ngOnInit(){this.subscription=this.router.events.subscribe(()=>this.cd.markForCheck())}itemClick(e,t,i){this.readonly||t.disabled?e.preventDefault():(this.activeIndexChange.emit(i),t.url||e.preventDefault(),t.command&&t.command({originalEvent:e,item:t,index:i}))}isClickableRouterLink(e){return e.routerLink&&!this.readonly&&!e.disabled}isActive(e,t){return e.routerLink?this.router.isActive(e.routerLink,!1)||this.router.isActive(this.router.createUrlTree([e.routerLink],{relativeTo:this.route}).toString(),!1):t===this.activeIndex}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(I.f),m.Kb(I.a),m.Kb(m.h))},e.\u0275cmp=m.Eb({type:e,selectors:[["p-steps"]],inputs:{activeIndex:"activeIndex",readonly:"readonly",model:"model",style:"style",styleClass:"styleClass"},outputs:{activeIndexChange:"activeIndexChange"},decls:3,vars:7,consts:[[3,"ngClass","ngStyle"],["role","tablist"],["class","p-steps-item","role","tab",3,"ngStyle","class","ngClass",4,"ngFor","ngForOf"],["role","tab",1,"p-steps-item",3,"ngStyle","ngClass"],["menuitem",""],["role","presentation","class","p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter",4,"ngIf","ngIfElse"],["elseBlock",""],["role","presentation",1,"p-menuitem-link",3,"routerLink","queryParams","routerLinkActive","routerLinkActiveOptions","fragment","queryParamsHandling","preserveFragment","skipLocationChange","replaceUrl","state","click","keydown.enter"],[1,"p-steps-number"],["class","p-steps-title",4,"ngIf","ngIfElse"],["htmlLabel",""],[1,"p-steps-title"],[1,"p-steps-title",3,"innerHTML"],["role","presentation",1,"p-menuitem-link",3,"click","keydown.enter"],["htmlRouteLabel",""]],template:function(e,t){1&e&&(m.Qb(0,"div",0),m.Qb(1,"ul",1),m.Fc(2,Z,5,11,"li",2),m.Pb(),m.Pb()),2&e&&(m.Bb(t.styleClass),m.hc("ngClass",m.mc(5,J,t.readonly))("ngStyle",t.style),m.zb(2),m.hc("ngForOf",t.model))},directives:[D.l,D.o,D.m,D.n,I.i,I.h],styles:[".p-steps{position:relative}.p-steps ul{display:flex;list-style-type:none;margin:0;padding:0}.p-steps-item{display:flex;flex:1 1 auto;justify-content:center;position:relative}.p-steps-item .p-menuitem-link{align-items:center;display:inline-flex;flex-direction:column;overflow:hidden;text-decoration:none}.p-steps.p-steps-readonly .p-steps-item{cursor:auto}.p-steps-item.p-steps-current .p-menuitem-link{cursor:default}.p-steps-title{white-space:nowrap}.p-steps-number{align-items:center;display:flex;justify-content:center}.p-steps-title{display:block}"],encapsulation:2,changeDetection:0}),e})(),ee=(()=>{class e{}return e.\u0275mod=m.Ib({type:e}),e.\u0275inj=m.Hb({factory:function(t){return new(t||e)},imports:[[D.c,I.j],I.j]}),e})();var te=i("zFJ7"),ie=i("jeV5");function ne(e,t){if(1&e&&(m.Qb(0,"div",22),m.Qb(1,"div",23),m.Hc(2),m.Pb(),m.Qb(3,"div",24),m.Hc(4),m.Pb(),m.Pb()),2&e){const e=m.ac();m.zb(2),m.Kc(" ",null==e.currentDemandInfo||null==e.currentDemandInfo.Manager?null:e.currentDemandInfo.Manager.Name," (",null==e.currentDemandInfo||null==e.currentDemandInfo.Manager?null:e.currentDemandInfo.Manager.Extension,") "),m.zb(2),m.Jc(" ",null==e.currentDemandInfo||null==e.currentDemandInfo.Manager?null:e.currentDemandInfo.Manager.Email," ")}}function re(e,t){1&e&&(m.Qb(0,"div",25),m.Ob(1),m.Lb(2,"p-skeleton",26),m.Nb(),m.Pb())}function oe(e,t){1&e&&(m.Qb(0,"div",22),m.Qb(1,"div",23),m.Hc(2," \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d "),m.Pb(),m.Pb())}function ae(e,t){if(1&e&&(m.Qb(0,"div",27),m.Qb(1,"div",28),m.Hc(2),m.bc(3,"date"),m.Pb(),m.Qb(4,"div",29),m.Hc(5),m.Pb(),m.Qb(6,"div",30),m.Hc(7),m.Pb(),m.Pb()),2&e){const e=t.$implicit;m.zb(2),m.Ic(m.dc(3,3,e.Date,"dd.MM.yyyy")),m.zb(3),m.Ic(e.Comment),m.zb(2),m.Ic(e.User)}}function se(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",33),m.Qb(1,"div",15),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",16),m.Qb(5,"div",34),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(2).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function ce(e,t){if(1&e&&(m.Ob(0),m.Fc(1,se,7,1,"div",32),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","All"===e.Identifier)}}function le(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ce,2,1,"ng-container",31),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngForOf",e.files)}}let de=(()=>{class e{constructor(e,t){this.commonService=e,this.fileService=t,this.sendMessage=new m.n,this.selectedStepIndex=0,this.files=[],this.items=[]}ngOnInit(){this.currentDemandInfo.Steps.forEach(e=>{this.items.push({label:e.Title}),e.IsCompleted&&(this.selectedStepIndex=e.Position--)}),this.form=new S.g({message:new S.e("",[S.x.required])})}ngOnDestroy(){}getType(e){let t="";switch(e){case"VerificationChannel":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u043a\u0430\u043d\u0430\u043b\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438";break;case"Guarantee":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u041f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e";break;case"Factoring":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433";break;case"DigitalSignature":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f";break;case"ProfileChange":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u043e\u0444\u0438\u043b\u044f";break;case"Question":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443";break;case"Limit":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043b\u0438\u043c\u0438\u0442";break;case"NewDebtor":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430";break;case"AgencyFactoring":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0410\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433";break;default:t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443"}return t}getStatus(e){let t="";switch(e){case"Created":t="\u0421\u043e\u0437\u0434\u0430\u043d";break;case"Completed":t="\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d";break;case"Processing":t="\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435";break;case"Rejected":t="\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e";break;case"Draft":t="\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a";break;case"Canceled":t="\u041e\u0442\u043c\u0435\u043d\u0435\u043d"}return t}removeFile(e){this.files=this.files.filter(t=>t!==e)}onSelect(e,t){let i=e.target.files;for(let n of i){let e=k.a.newGuid();this.commonService.getBase64(n).pipe(Object(u.a)(t=>this.fileService.uploadFileChunks(t,n.name,n.size.toString(),e))).subscribe(e=>{this.files=[],this.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:t})},e=>console.log(e))}}onSubmit(){let e=null;this.files[0]&&(e=this.files[0].Code);let t={Comment:this.form.value.message,FileCode:e};this.form.reset(),this.files=[],this.sendMessage.emit(t)}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(H.a),m.Kb(B.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-info"]],inputs:{currentDemandInfo:"currentDemandInfo"},outputs:{sendMessage:"sendMessage"},decls:52,vars:19,consts:[[1,"info-header"],[1,"info-cards"],[1,"info-card"],[1,"manager"],["class","header-block manager-info",4,"ngIf","ngIfElse"],["class","header-block manager-ava",4,"ngIf"],["noManagerTmpl",""],[3,"model","readonly","activeIndex"],[1,"message-list"],["class","message-item",4,"ngFor","ngForOf"],[3,"formGroup","ngSubmit"],["rows","5","cols","30","pInputTextarea","","formControlName","message",2,"width","100%","margin-bottom","15px"],[1,"actions"],[1,"files"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","All","accept","image/jpeg,image/png,image/gif","hidden","",3,"change"],["for","All",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],[4,"ngIf"],["type","submit","pButton","","label","\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c",1,"basic","p-mr-2"],[1,"header-block","manager-info"],[1,"manager-info-name"],[1,"manager-info-email"],[1,"header-block","manager-ava"],["size","5rem"],[1,"message-item"],[1,"date"],[1,"message"],[1,"name"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(m.Qb(0,"div",0),m.Qb(1,"div",1),m.Qb(2,"div",2),m.Qb(3,"p"),m.Qb(4,"strong"),m.Hc(5,"\u0422\u0438\u043f:"),m.Pb(),m.Hc(6),m.Pb(),m.Pb(),m.Qb(7,"div",2),m.Qb(8,"p"),m.Qb(9,"strong"),m.Hc(10,"\u0421\u0442\u0430\u0442\u0443\u0441:"),m.Pb(),m.Hc(11),m.Pb(),m.Pb(),m.Qb(12,"div",2),m.Qb(13,"p"),m.Qb(14,"strong"),m.Hc(15,"\u0414\u0430\u0442\u0430:"),m.Pb(),m.Hc(16),m.bc(17,"date"),m.Pb(),m.Pb(),m.Qb(18,"div",2),m.Qb(19,"p"),m.Qb(20,"strong"),m.Hc(21,"\u0418\u0437\u043c\u0435\u043d\u0435\u043d:"),m.Pb(),m.Hc(22),m.bc(23,"date"),m.Pb(),m.Pb(),m.Pb(),m.Qb(24,"div",3),m.Fc(25,ne,5,3,"div",4),m.Fc(26,re,3,0,"div",5),m.Fc(27,oe,3,0,"ng-template",null,6,m.Gc),m.Pb(),m.Pb(),m.Lb(29,"p-steps",7),m.Qb(30,"h2"),m.Hc(31," \u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f\n"),m.Pb(),m.Qb(32,"div",8),m.Fc(33,ae,8,6,"div",9),m.Pb(),m.Qb(34,"h2"),m.Hc(35," \u041d\u043e\u0432\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435\n"),m.Pb(),m.Qb(36,"form",10),m.Xb("ngSubmit",function(){return t.onSubmit()}),m.Lb(37,"textarea",11),m.Qb(38,"div",12),m.Qb(39,"div",13),m.Qb(40,"div",14),m.Qb(41,"div",15),m.Qb(42,"p"),m.Hc(43," \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b: "),m.Pb(),m.Pb(),m.Qb(44,"div",16),m.Qb(45,"input",17),m.Xb("change",function(e){return t.onSelect(e,"All")}),m.Pb(),m.Qb(46,"label",18),m.Lb(47,"i",19),m.Hc(48," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(49,le,2,1,"div",20),m.Pb(),m.Qb(50,"div"),m.Lb(51,"button",21),m.Pb(),m.Pb(),m.Pb()),2&e){const e=m.vc(28);m.zb(6),m.Jc(" ",t.getType(t.currentDemandInfo.Type),""),m.zb(5),m.Jc(" ",t.getStatus(t.currentDemandInfo.Status),""),m.zb(5),m.Jc(" ",m.dc(17,13,t.currentDemandInfo.DateCreated,"dd.MM.yyyy"),""),m.zb(6),m.Jc(" ",m.dc(23,16,t.currentDemandInfo.DateModify,"dd.MM.yyyy HH:mm"),""),m.zb(3),m.hc("ngIf",null==t.currentDemandInfo?null:t.currentDemandInfo.Manager)("ngIfElse",e),m.zb(1),m.hc("ngIf",null==t.currentDemandInfo?null:t.currentDemandInfo.Manager),m.zb(3),m.hc("model",t.items)("readonly",!0)("activeIndex",t.selectedStepIndex),m.zb(4),m.hc("ngForOf",t.currentDemandInfo.Messages),m.zb(3),m.hc("formGroup",t.form),m.zb(13),m.hc("ngIf",t.files.length)}},directives:[D.n,Y,D.m,S.y,S.q,S.h,S.b,te.a,S.p,S.f,A.b,ie.a],pipes:[D.f],styles:[".info-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;margin-bottom:40px}.info-header[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]{display:flex;gap:9px}.info-header[_ngcontent-%COMP%]   .info-cards[_ngcontent-%COMP%]   .info-card[_ngcontent-%COMP%]{border:1px solid #eaeaea;box-sizing:border-box;border-radius:10px;padding:5px}.message-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:100%}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]{display:flex;align-items:center}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%], .message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{border:1px solid #eaeaea;box-sizing:border-box;border-radius:10px;padding:15px}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .message[_ngcontent-%COMP%]{width:100%}.message-list[_ngcontent-%COMP%]   .message-item[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{border:1px solid #eaeaea;box-sizing:border-box;border-radius:10px;width:200px;padding:15px}.actions[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.manager[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.header-block[_ngcontent-%COMP%]{height:70px;padding:25px;border-radius:10px;display:flex;flex-direction:column;align-items:center;justify-content:center}.header-block.manager-greatings[_ngcontent-%COMP%]{color:#fff;background:linear-gradient(216.14deg,#009fd9 10.37%,rgba(0,159,217,0) 93.52%),#4b75b1}.header-block.manager-info[_ngcontent-%COMP%]{border:1px solid #ececec;align-items:flex-start}.header-block.manager-ava[_ngcontent-%COMP%]{width:70px;background:#c4c4c4;padding:0;overflow:hidden}.header-block.manager-ava[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%}.header-block.account-ava[_ngcontent-%COMP%]{width:70px;background:linear-gradient(216.14deg,#009fd9 10.37%,rgba(0,159,217,0) 93.52%),#4b75b1}.header-block.account-ava[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:40px;height:40px}.header-block.account-owner[_ngcontent-%COMP%]{cursor:pointer;align-items:flex-end;border:1px solid #ececec}.addon-text[_ngcontent-%COMP%]{border:unset;width:100%;height:39px;margin-right:30px;height:unset}"]}),e})();function be(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",2),m.Qb(1,"div",3),m.Hc(2),m.Pb(),m.Qb(3,"div",4),m.Xb("click",function(){m.yc(e);const i=t.$implicit;return m.ac().remove(i)}),m.Hc(4," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb()}if(2&e){const e=t.$implicit;m.zb(2),m.Jc(" ",e.FileName," ")}}let ue=(()=>{class e{constructor(){this.currentDemandFiles=[],this.removeFile=new m.n}ngOnInit(){}ngOnDestroy(){}remove(e){this.removeFile.emit(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-files"]],inputs:{currentDemandFiles:"currentDemandFiles"},outputs:{removeFile:"removeFile"},decls:2,vars:1,consts:[[1,"file-list"],["class","file-list-item",4,"ngFor","ngForOf"],[1,"file-list-item"],[1,"file-list-item__name"],[1,"file-list-item__remove-button",3,"click"]],template:function(e,t){1&e&&(m.Qb(0,"div",0),m.Fc(1,be,5,1,"div",1),m.Pb()),2&e&&(m.zb(1),m.hc("ngForOf",t.currentDemandFiles))},directives:[D.m],styles:[".file-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.file-list[_ngcontent-%COMP%]   .file-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row}.file-list[_ngcontent-%COMP%]   .file-list-item__name[_ngcontent-%COMP%]{padding:20px;border:1px solid #d6d6d6;box-sizing:border-box;border-radius:10px;width:100%}.file-list[_ngcontent-%COMP%]   .file-list-item__remove-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:150px;background:transparent;border-radius:10px;color:#e74630;border:1px solid #e74630;cursor:pointer}.file-list[_ngcontent-%COMP%]   .file-list-item__remove-button[_ngcontent-%COMP%]:hover{background:#e74630!important;color:#fff!important}"]}),e})();function fe(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div"),m.Qb(1,"div",2),m.Qb(2,"div",3),m.Qb(3,"div",4),m.Hc(4),m.Pb(),m.Qb(5,"div",5),m.Xb("click",function(){return m.yc(e),m.ac().downloadCert()}),m.Hc(6," \u0421\u043a\u0430\u0447\u0430\u0442\u044c "),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac();m.zb(4),m.Jc(" ",e.result.Comment," ")}}let he=(()=>{class e{ngOnInit(){}ngOnDestroy(){}downloadCert(){if(window.navigator&&window.navigator.msSaveOrOpenBlob){let e=atob(this.result.CertificateData),t=new Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);let i=new Uint8Array(t),n=new Blob([i],{type:"crt"});window.navigator.msSaveOrOpenBlob(n,"certificate.crt")}else{const e="data:crt;base64,"+this.result.CertificateData,t=document.createElement("a");t.href=e,t.download="certificate.crt",t.click()}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-result"]],inputs:{result:"result"},decls:2,vars:2,consts:[[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"file-list"],[1,"file-list-item"],[1,"file-list-item__name"],[1,"file-list-item__download-button",3,"click"]],template:function(e,t){1&e&&(m.Ob(0,0),m.Fc(1,fe,7,1,"div",1),m.Nb()),2&e&&(m.hc("ngSwitch",null==t.result?null:t.result.Type),m.zb(1),m.hc("ngSwitchCase","DigitalSignature"))},directives:[D.p,D.q],styles:[".file-list[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px}.file-list[_ngcontent-%COMP%]   .file-list-item[_ngcontent-%COMP%]{display:flex;flex-direction:row}.file-list[_ngcontent-%COMP%]   .file-list-item__name[_ngcontent-%COMP%]{padding:20px;border:1px solid #d6d6d6;box-sizing:border-box;border-radius:10px;width:100%}.file-list[_ngcontent-%COMP%]   .file-list-item__download-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:150px;background:transparent;border-radius:10px;color:#0c83f1;border:1px solid #0c83f1;text-align:center;cursor:pointer}.file-list[_ngcontent-%COMP%]   .file-list-item__download-button[_ngcontent-%COMP%]:hover{background:#0c83f1!important;color:#fff!important}.file-list[_ngcontent-%COMP%]   .file-list-item__remove-button[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:150px;background:transparent;border-radius:10px;color:#e74630;border:1px solid #e74630;cursor:pointer}.file-list[_ngcontent-%COMP%]   .file-list-item__remove-button[_ngcontent-%COMP%]:hover{background:#e74630!important;color:#fff!important}"]}),e})();var pe=i("CwEU"),me=i("R0Ic"),ge=i("Q4Mo"),ve=i("YyRF"),Pe=i("t2ka");const ye=["container"],Ie=["in"],Fe=["multiIn"],Qe=["multiContainer"],Ce=["ddBtn"],De=function(e,t){return{"p-autocomplete-dd-input":e,"p-disabled":t}};function ke(e,t){if(1&e){const e=m.Rb();m.Qb(0,"input",7,8),m.Xb("click",function(t){return m.yc(e),m.ac().onInputClick(t)})("input",function(t){return m.yc(e),m.ac().onInput(t)})("keydown",function(t){return m.yc(e),m.ac().onKeydown(t)})("keyup",function(t){return m.yc(e),m.ac().onKeyup(t)})("focus",function(t){return m.yc(e),m.ac().onInputFocus(t)})("blur",function(t){return m.yc(e),m.ac().onInputBlur(t)})("change",function(t){return m.yc(e),m.ac().onInputChange(t)})("paste",function(t){return m.yc(e),m.ac().onInputPaste(t)}),m.Pb()}if(2&e){const e=m.ac();m.Bb(e.inputStyleClass),m.hc("ngStyle",e.inputStyle)("autocomplete",e.autocomplete)("ngClass",m.nc(23,De,e.dropdown,e.disabled))("value",e.inputFieldValue)("readonly",e.readonly)("disabled",e.disabled),m.Ab("type",e.type)("id",e.inputId)("required",e.required)("name",e.name)("aria-controls",e.listId)("aria-expanded",e.overlayVisible)("aria-activedescendant","p-highlighted-option")("autofocus",e.autofocus)("placeholder",e.placeholder)("size",e.size)("maxlength",e.maxlength)("tabindex",e.tabindex)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)}}function ze(e,t){1&e&&m.Mb(0)}function Se(e,t){if(1&e&&(m.Qb(0,"span",20),m.Hc(1),m.Pb()),2&e){const e=m.ac().$implicit,t=m.ac(2);m.zb(1),m.Ic(t.resolveFieldData(e))}}function we(e,t){if(1&e){const e=m.Rb();m.Qb(0,"span",21),m.Xb("click",function(){m.yc(e),m.ac();const t=m.vc(1);return m.ac(2).removeItem(t)}),m.Pb()}}const xe=function(e){return{$implicit:e}};function Oe(e,t){if(1&e&&(m.Qb(0,"li",15,16),m.Fc(2,ze,1,0,"ng-container",17),m.Fc(3,Se,2,1,"span",18),m.Fc(4,we,1,0,"span",19),m.Pb()),2&e){const e=t.$implicit,i=m.ac(2);m.zb(2),m.hc("ngTemplateOutlet",i.selectedItemTemplate)("ngTemplateOutletContext",m.mc(4,xe,e)),m.zb(1),m.hc("ngIf",!i.selectedItemTemplate),m.zb(1),m.hc("ngIf",!i.disabled)}}const _e=function(e,t){return{"p-disabled":e,"p-focus":t}};function Ee(e,t){if(1&e){const e=m.Rb();m.Qb(0,"ul",9,10),m.Xb("click",function(){return m.yc(e),m.vc(5).focus()}),m.Fc(2,Oe,5,6,"li",11),m.Qb(3,"li",12),m.Qb(4,"input",13,14),m.Xb("input",function(t){return m.yc(e),m.ac().onInput(t)})("click",function(t){return m.yc(e),m.ac().onInputClick(t)})("keydown",function(t){return m.yc(e),m.ac().onKeydown(t)})("keyup",function(t){return m.yc(e),m.ac().onKeyup(t)})("focus",function(t){return m.yc(e),m.ac().onInputFocus(t)})("blur",function(t){return m.yc(e),m.ac().onInputBlur(t)})("change",function(t){return m.yc(e),m.ac().onInputChange(t)})("paste",function(t){return m.yc(e),m.ac().onInputPaste(t)}),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac();m.hc("ngClass",m.nc(20,_e,e.disabled,e.focus)),m.zb(2),m.hc("ngForOf",e.value),m.zb(2),m.Bb(e.inputStyleClass),m.hc("disabled",e.disabled)("readonly",e.readonly)("autocomplete",e.autocomplete)("ngStyle",e.inputStyle),m.Ab("type",e.type)("id",e.inputId)("placeholder",e.value&&e.value.length?null:e.placeholder)("tabindex",e.tabindex)("maxlength",e.maxlength)("autofocus",e.autofocus)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledBy)("aria-required",e.required)("aria-controls",e.listId)("aria-expanded",e.overlayVisible)("aria-activedescendant","p-highlighted-option")}}function Ae(e,t){1&e&&m.Lb(0,"i",22)}function Ne(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",23,24),m.Xb("click",function(t){return m.yc(e),m.ac().handleDropdownClick(t)}),m.Pb()}if(2&e){const e=m.ac();m.hc("icon",e.dropdownIcon)("disabled",e.disabled),m.Ab("tabindex",e.tabindex)}}function Te(e,t){if(1&e&&(m.Qb(0,"span"),m.Hc(1),m.Pb()),2&e){const e=m.ac().$implicit,t=m.ac(3);m.zb(1),m.Ic(t.getOptionGroupLabel(e)||"empty")}}function Le(e,t){1&e&&m.Mb(0)}function He(e,t){1&e&&m.Mb(0)}function Be(e,t){if(1&e&&(m.Qb(0,"li",30),m.Fc(1,Te,2,1,"span",27),m.Fc(2,Le,1,0,"ng-container",17),m.Pb(),m.Fc(3,He,1,0,"ng-container",17)),2&e){const e=t.$implicit;m.ac(2);const i=m.vc(6),n=m.ac();m.zb(1),m.hc("ngIf",!n.groupTemplate),m.zb(1),m.hc("ngTemplateOutlet",n.groupTemplate)("ngTemplateOutletContext",m.mc(5,xe,e)),m.zb(1),m.hc("ngTemplateOutlet",i)("ngTemplateOutletContext",m.mc(7,xe,n.getOptionGroupChildren(e)))}}function Re(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Be,4,9,"ng-template",29),m.Nb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.suggestions)}}function Me(e,t){1&e&&m.Mb(0)}function qe(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Me,1,0,"ng-container",17),m.Nb()),2&e){m.ac();const e=m.vc(6),t=m.ac();m.zb(1),m.hc("ngTemplateOutlet",e)("ngTemplateOutletContext",m.mc(2,xe,t.suggestions))}}function je(e,t){if(1&e&&(m.Qb(0,"span"),m.Hc(1),m.Pb()),2&e){const e=m.ac().$implicit,t=m.ac(3);m.zb(1),m.Ic(t.resolveFieldData(e))}}function $e(e,t){1&e&&m.Mb(0)}const Ue=function(e){return{"p-highlight":e}},Ge=function(e,t){return{$implicit:e,index:t}};function Ve(e,t){if(1&e){const e=m.Rb();m.Qb(0,"li",33),m.Xb("click",function(){m.yc(e);const i=t.$implicit;return m.ac(3).selectItem(i)}),m.Fc(1,je,2,1,"span",27),m.Fc(2,$e,1,0,"ng-container",17),m.Pb()}if(2&e){const e=t.$implicit,i=t.index,n=m.ac(3);m.hc("ngClass",m.mc(5,Ue,e===n.highlightOption))("id",n.highlightOption==e?"p-highlighted-option":""),m.zb(1),m.hc("ngIf",!n.itemTemplate),m.zb(1),m.hc("ngTemplateOutlet",n.itemTemplate)("ngTemplateOutletContext",m.nc(7,Ge,e,i))}}function Xe(e,t){if(1&e&&(m.Qb(0,"li",34),m.Hc(1),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.Ic(e.emptyMessage)}}function Ke(e,t){if(1&e&&(m.Fc(0,Ve,3,10,"li",31),m.Fc(1,Xe,2,1,"li",32)),2&e){const e=t.$implicit,i=m.ac(2);m.hc("ngForOf",e),m.zb(1),m.hc("ngIf",i.noResults&&i.emptyMessage)}}const We=function(){return["p-autocomplete-panel p-component"]},Ze=function(e,t){return{showTransitionParams:e,hideTransitionParams:t}},Je=function(e){return{value:"visible",params:e}};function Ye(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",0,25),m.Xb("@overlayAnimation.start",function(t){return m.yc(e),m.ac().onOverlayAnimationStart(t)}),m.Qb(2,"ul",26),m.Fc(3,Re,2,1,"ng-container",27),m.Fc(4,qe,2,4,"ng-container",27),m.Fc(5,Ke,2,2,"ng-template",null,28,m.Gc),m.Pb(),m.Pb()}if(2&e){const e=m.ac();m.Bb(e.panelStyleClass),m.Ec("max-height",e.scrollHeight),m.hc("ngClass",m.lc(10,We))("ngStyle",e.panelStyle)("@overlayAnimation",m.mc(14,Je,m.nc(11,Ze,e.showTransitionOptions,e.hideTransitionOptions))),m.zb(2),m.Ab("id",e.listId),m.zb(1),m.hc("ngIf",e.group),m.zb(1),m.hc("ngIf",!e.group)}}const et=function(e,t){return{"p-autocomplete p-component":!0,"p-autocomplete-dd":e,"p-autocomplete-multiple":t}},tt={provide:S.n,useExisting:Object(m.T)(()=>it),multi:!0};let it=(()=>{class e{constructor(e,t,i,n){this.el=e,this.renderer=t,this.cd=i,this.differs=n,this.minLength=1,this.delay=300,this.type="text",this.autoZIndex=!0,this.baseZIndex=0,this.dropdownIcon="pi pi-chevron-down",this.unique=!0,this.completeOnFocus=!1,this.completeMethod=new m.n,this.onSelect=new m.n,this.onUnselect=new m.n,this.onFocus=new m.n,this.onBlur=new m.n,this.onDropdownClick=new m.n,this.onClear=new m.n,this.onKeyUp=new m.n,this.onShow=new m.n,this.onHide=new m.n,this.scrollHeight="200px",this.dropdownMode="blank",this.showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)",this.hideTransitionOptions=".1s linear",this.autocomplete="off",this.onModelChange=()=>{},this.onModelTouched=()=>{},this.overlayVisible=!1,this.focus=!1,this.inputFieldValue=null,this.differ=n.find([]).create(null),this.listId=Object(Pe.b)()+"_list"}get suggestions(){return this._suggestions}set suggestions(e){this._suggestions=e,this.handleSuggestionsChange()}ngAfterViewChecked(){this.suggestionsUpdated&&this.overlay&&this.overlay.offsetParent&&(setTimeout(()=>{this.overlay&&this.alignOverlay()},1),this.suggestionsUpdated=!1),this.highlightOptionChanged&&(setTimeout(()=>{if(this.overlay){let e=ve.b.findSingle(this.overlay,"li.p-highlight");e&&ve.b.scrollInView(this.overlay,e)}},1),this.highlightOptionChanged=!1)}handleSuggestionsChange(){null!=this._suggestions&&this.loading&&(this.highlightOption=null,this._suggestions.length?(this.noResults=!1,this.show(),this.suggestionsUpdated=!0,this.autoHighlight&&(this.highlightOption=this._suggestions[0])):(this.noResults=!0,this.emptyMessage?(this.show(),this.suggestionsUpdated=!0):this.hide()),this.loading=!1)}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"item":this.itemTemplate=e.template;break;case"group":this.groupTemplate=e.template;break;case"selectedItem":this.selectedItemTemplate=e.template;break;default:this.itemTemplate=e.template}})}writeValue(e){this.value=e,this.filled=this.value&&""!=this.value,this.updateInputField(),this.cd.markForCheck()}getOptionGroupChildren(e){return this.optionGroupChildren?Pe.a.resolveFieldData(e,this.optionGroupChildren):e.items}getOptionGroupLabel(e){return this.optionGroupLabel?Pe.a.resolveFieldData(e,this.optionGroupLabel):null!=e.label?e.label:e}registerOnChange(e){this.onModelChange=e}registerOnTouched(e){this.onModelTouched=e}setDisabledState(e){this.disabled=e,this.cd.markForCheck()}onInput(e){if(!this.inputKeyDown&&ve.b.isIE())return;this.timeout&&clearTimeout(this.timeout);let t=e.target.value;this.multiple||this.forceSelection||this.onModelChange(t),0!==t.length||this.multiple||(this.hide(),this.onClear.emit(e),this.onModelChange(t)),t.length>=this.minLength?this.timeout=setTimeout(()=>{this.search(e,t)},this.delay):this.hide(),this.updateFilledState(),this.inputKeyDown=!1}onInputClick(e){this.documentClickListener&&(this.inputClick=!0)}search(e,t){null!=t&&(this.loading=!0,this.completeMethod.emit({originalEvent:e,query:t}))}selectItem(e,t=!0){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.multiple?(this.multiInputEL.nativeElement.value="",this.value=this.value||[],this.isSelected(e)&&this.unique||(this.value=[...this.value,e],this.onModelChange(this.value))):(this.inputEL.nativeElement.value=this.field?Pe.a.resolveFieldData(e,this.field)||"":e,this.value=e,this.onModelChange(this.value)),this.onSelect.emit(e),this.updateFilledState(),t&&(this.itemClicked=!0,this.focusInput())}show(){if(this.multiInputEL||this.inputEL){let e=this.multiple?this.multiInputEL.nativeElement.ownerDocument.activeElement==this.multiInputEL.nativeElement:this.inputEL.nativeElement.ownerDocument.activeElement==this.inputEL.nativeElement;!this.overlayVisible&&e&&(this.overlayVisible=!0)}}onOverlayAnimationStart(e){switch(e.toState){case"visible":this.overlay=e.element,this.appendOverlay(),this.autoZIndex&&(this.overlay.style.zIndex=String(this.baseZIndex+ ++ve.b.zindex)),this.alignOverlay(),this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener(),this.onShow.emit(e);break;case"void":this.onOverlayHide()}}appendOverlay(){this.appendTo&&("body"===this.appendTo?document.body.appendChild(this.overlay):ve.b.appendChild(this.overlay,this.appendTo),this.overlay.style.minWidth||(this.overlay.style.minWidth=ve.b.getWidth(this.el.nativeElement.children[0])+"px"))}resolveFieldData(e){return this.field?Pe.a.resolveFieldData(e,this.field):e}restoreOverlayAppend(){this.overlay&&this.appendTo&&this.el.nativeElement.appendChild(this.overlay)}alignOverlay(){this.appendTo?ve.b.absolutePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement):ve.b.relativePosition(this.overlay,this.multiple?this.multiContainerEL.nativeElement:this.inputEL.nativeElement)}hide(){this.overlayVisible=!1,this.cd.markForCheck()}handleDropdownClick(e){if(this.overlayVisible)this.hide();else{this.focusInput();let t=this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value;"blank"===this.dropdownMode?this.search(e,""):"current"===this.dropdownMode&&this.search(e,t),this.onDropdownClick.emit({originalEvent:e,query:t})}}focusInput(){this.multiple?this.multiInputEL.nativeElement.focus():this.inputEL.nativeElement.focus()}removeItem(e){let t=ve.b.index(e),i=this.value[t];this.value=this.value.filter((e,i)=>i!=t),this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(i)}onKeydown(e){if(this.overlayVisible)switch(e.which){case 40:if(this.group){let e=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==e){let t=e.itemIndex+1;t<this.getOptionGroupChildren(this.suggestions[e.groupIndex]).length?(this.highlightOption=this.getOptionGroupChildren(this.suggestions[e.groupIndex])[t],this.highlightOptionChanged=!0):this.suggestions[e.groupIndex+1]&&(this.highlightOption=this.getOptionGroupChildren(this.suggestions[e.groupIndex+1])[0],this.highlightOptionChanged=!0)}else this.highlightOption=this.getOptionGroupChildren(this.suggestions[0])[0]}else{let e=this.findOptionIndex(this.highlightOption,this.suggestions);if(-1!=e){var t=e+1;t!=this.suggestions.length&&(this.highlightOption=this.suggestions[t],this.highlightOptionChanged=!0)}else this.highlightOption=this.suggestions[0]}e.preventDefault();break;case 38:if(this.group){let e=this.findOptionGroupIndex(this.highlightOption,this.suggestions);if(-1!==e){let t=e.itemIndex-1;if(t>=0)this.highlightOption=this.getOptionGroupChildren(this.suggestions[e.groupIndex])[t],this.highlightOptionChanged=!0;else if(t<0){let t=this.suggestions[e.groupIndex-1];t&&(this.highlightOption=this.getOptionGroupChildren(t)[this.getOptionGroupChildren(t).length-1],this.highlightOptionChanged=!0)}}}else{let e=this.findOptionIndex(this.highlightOption,this.suggestions);e>0&&(this.highlightOption=this.suggestions[e-1],this.highlightOptionChanged=!0)}e.preventDefault();break;case 13:this.highlightOption&&(this.selectItem(this.highlightOption),this.hide()),e.preventDefault();break;case 27:this.hide(),e.preventDefault();break;case 9:this.highlightOption&&this.selectItem(this.highlightOption),this.hide()}else 40===e.which&&this.suggestions&&this.search(e,e.target.value);if(this.multiple)switch(e.which){case 8:if(this.value&&this.value.length&&!this.multiInputEL.nativeElement.value){this.value=[...this.value];const e=this.value.pop();this.onModelChange(this.value),this.updateFilledState(),this.onUnselect.emit(e)}}this.inputKeyDown=!0}onKeyup(e){this.onKeyUp.emit(e)}onInputFocus(e){!this.itemClicked&&this.completeOnFocus&&this.search(e,this.multiple?this.multiInputEL.nativeElement.value:this.inputEL.nativeElement.value),this.focus=!0,this.onFocus.emit(e),this.itemClicked=!1}onInputBlur(e){this.focus=!1,this.onModelTouched(),this.onBlur.emit(e)}onInputChange(e){if(this.forceSelection){let t=!1,i=e.target.value.trim();if(this.suggestions)for(let e of this.suggestions){let n=this.field?Pe.a.resolveFieldData(e,this.field):e;if(n&&i===n.trim()){t=!0,this.forceSelectionUpdateModelTimeout=setTimeout(()=>{this.selectItem(e,!1)},250);break}}t||(this.multiple?this.multiInputEL.nativeElement.value="":(this.value=null,this.inputEL.nativeElement.value=""),this.onClear.emit(e),this.onModelChange(this.value),this.updateFilledState())}}onInputPaste(e){this.onKeydown(e)}isSelected(e){let t=!1;if(this.value&&this.value.length)for(let i=0;i<this.value.length;i++)if(Pe.a.equals(this.value[i],e,this.dataKey)){t=!0;break}return t}findOptionIndex(e,t){let i=-1;if(t)for(let n=0;n<t.length;n++)if(Pe.a.equals(e,t[n])){i=n;break}return i}findOptionGroupIndex(e,t){let i,n;if(t)for(let r=0;r<t.length&&(i=r,n=this.findOptionIndex(e,this.getOptionGroupChildren(t[r])),-1===n);r++);return-1!==n?{groupIndex:i,itemIndex:n}:-1}updateFilledState(){this.filled=this.multiple?this.value&&this.value.length||this.multiInputEL&&this.multiInputEL.nativeElement&&""!=this.multiInputEL.nativeElement.value:this.inputFieldValue&&""!=this.inputFieldValue||this.inputEL&&this.inputEL.nativeElement&&""!=this.inputEL.nativeElement.value}updateInputField(){let e=this.value?this.field?Pe.a.resolveFieldData(this.value,this.field)||"":this.value:"";this.inputFieldValue=e,this.inputEL&&this.inputEL.nativeElement&&(this.inputEL.nativeElement.value=e),this.updateFilledState()}bindDocumentClickListener(){this.documentClickListener||(this.documentClickListener=this.renderer.listen(this.el?this.el.nativeElement.ownerDocument:"document","click",e=>{3!==e.which&&(this.inputClick||this.isDropdownClick(e)||this.hide(),this.inputClick=!1,this.cd.markForCheck())}))}isDropdownClick(e){if(this.dropdown){let t=e.target;return t===this.dropdownButton.nativeElement||t.parentNode===this.dropdownButton.nativeElement}return!1}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}bindDocumentResizeListener(){this.documentResizeListener=this.onWindowResize.bind(this),window.addEventListener("resize",this.documentResizeListener)}unbindDocumentResizeListener(){this.documentResizeListener&&(window.removeEventListener("resize",this.documentResizeListener),this.documentResizeListener=null)}onWindowResize(){this.hide()}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new ve.a(this.containerEL.nativeElement,()=>{this.overlayVisible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}onOverlayHide(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener(),this.overlay=null,this.onHide.emit()}ngOnDestroy(){this.forceSelectionUpdateModelTimeout&&(clearTimeout(this.forceSelectionUpdateModelTimeout),this.forceSelectionUpdateModelTimeout=null),this.scrollHandler&&(this.scrollHandler.destroy(),this.scrollHandler=null),this.restoreOverlayAppend(),this.onOverlayHide()}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(m.l),m.Kb(m.D),m.Kb(m.h),m.Kb(m.s))},e.\u0275cmp=m.Eb({type:e,selectors:[["p-autoComplete"]],contentQueries:function(e,t,i){if(1&e&&m.Db(i,L.i,!1),2&e){let e;m.uc(e=m.Yb())&&(t.templates=e)}},viewQuery:function(e,t){if(1&e&&(m.Nc(ye,!0),m.Nc(Ie,!0),m.Nc(Fe,!0),m.Nc(Qe,!0),m.Nc(Ce,!0)),2&e){let e;m.uc(e=m.Yb())&&(t.containerEL=e.first),m.uc(e=m.Yb())&&(t.inputEL=e.first),m.uc(e=m.Yb())&&(t.multiInputEL=e.first),m.uc(e=m.Yb())&&(t.multiContainerEL=e.first),m.uc(e=m.Yb())&&(t.dropdownButton=e.first)}},hostVars:4,hostBindings:function(e,t){2&e&&m.Cb("p-inputwrapper-filled",t.filled)("p-inputwrapper-focus",t.focus&&!t.disabled||t.overlayVisible)},inputs:{minLength:"minLength",delay:"delay",type:"type",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",dropdownIcon:"dropdownIcon",unique:"unique",completeOnFocus:"completeOnFocus",scrollHeight:"scrollHeight",dropdownMode:"dropdownMode",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autocomplete:"autocomplete",suggestions:"suggestions",disabled:"disabled",style:"style",panelStyle:"panelStyle",styleClass:"styleClass",panelStyleClass:"panelStyleClass",inputStyle:"inputStyle",inputId:"inputId",inputStyleClass:"inputStyleClass",placeholder:"placeholder",readonly:"readonly",maxlength:"maxlength",name:"name",required:"required",size:"size",appendTo:"appendTo",autoHighlight:"autoHighlight",forceSelection:"forceSelection",ariaLabel:"ariaLabel",ariaLabelledBy:"ariaLabelledBy",group:"group",field:"field",dropdown:"dropdown",multiple:"multiple",tabindex:"tabindex",dataKey:"dataKey",emptyMessage:"emptyMessage",autofocus:"autofocus",optionGroupChildren:"optionGroupChildren",optionGroupLabel:"optionGroupLabel"},outputs:{completeMethod:"completeMethod",onSelect:"onSelect",onUnselect:"onUnselect",onFocus:"onFocus",onBlur:"onBlur",onDropdownClick:"onDropdownClick",onClear:"onClear",onKeyUp:"onKeyUp",onShow:"onShow",onHide:"onHide"},features:[m.yb([tt])],decls:7,vars:12,consts:[[3,"ngClass","ngStyle"],["container",""],["class","p-autocomplete-input p-inputtext p-component","aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"ngStyle","class","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste",4,"ngIf"],["class","p-autocomplete-multiple-container p-component p-inputtext",3,"ngClass","click",4,"ngIf"],["class","p-autocomplete-loader pi pi-spinner pi-spin",4,"ngIf"],["type","button","pButton","","class","p-autocomplete-dropdown","pRipple","",3,"icon","disabled","click",4,"ngIf"],[3,"ngClass","max-height","ngStyle","class",4,"ngIf"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",1,"p-autocomplete-input","p-inputtext","p-component",3,"ngStyle","autocomplete","ngClass","value","readonly","disabled","click","input","keydown","keyup","focus","blur","change","paste"],["in",""],[1,"p-autocomplete-multiple-container","p-component","p-inputtext",3,"ngClass","click"],["multiContainer",""],["class","p-autocomplete-token",4,"ngFor","ngForOf"],[1,"p-autocomplete-input-token"],["aria-autocomplete","list","role","searchbox","aria-haspopup","true",3,"disabled","readonly","autocomplete","ngStyle","input","click","keydown","keyup","focus","blur","change","paste"],["multiIn",""],[1,"p-autocomplete-token"],["token",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","p-autocomplete-token-label",4,"ngIf"],["class","p-autocomplete-token-icon pi pi-times-circle",3,"click",4,"ngIf"],[1,"p-autocomplete-token-label"],[1,"p-autocomplete-token-icon","pi","pi-times-circle",3,"click"],[1,"p-autocomplete-loader","pi","pi-spinner","pi-spin"],["type","button","pButton","","pRipple","",1,"p-autocomplete-dropdown",3,"icon","disabled","click"],["ddBtn",""],["panel",""],["role","listbox",1,"p-autocomplete-items"],[4,"ngIf"],["itemslist",""],["ngFor","",3,"ngForOf"],[1,"p-autocomplete-item-group"],["role","option","class","p-autocomplete-item","pRipple","",3,"ngClass","id","click",4,"ngFor","ngForOf"],["class","p-autocomplete-emptymessage p-autocomplete-item",4,"ngIf"],["role","option","pRipple","",1,"p-autocomplete-item",3,"ngClass","id","click"],[1,"p-autocomplete-emptymessage","p-autocomplete-item"]],template:function(e,t){1&e&&(m.Qb(0,"span",0,1),m.Fc(2,ke,2,26,"input",2),m.Fc(3,Ee,6,23,"ul",3),m.Fc(4,Ae,1,0,"i",4),m.Fc(5,Ne,2,3,"button",5),m.Fc(6,Ye,7,16,"div",6),m.Pb()),2&e&&(m.Bb(t.styleClass),m.hc("ngClass",m.nc(9,et,t.dropdown,t.multiple))("ngStyle",t.style),m.zb(2),m.hc("ngIf",!t.multiple),m.zb(1),m.hc("ngIf",t.multiple),m.zb(1),m.hc("ngIf",t.loading),m.zb(1),m.hc("ngIf",t.dropdown),m.zb(1),m.hc("ngIf",t.overlayVisible))},directives:[D.l,D.o,D.n,D.m,D.s,A.b,ge.a],styles:[".p-autocomplete{display:inline-flex;position:relative}.p-autocomplete-loader{margin-top:-.5rem;position:absolute;top:50%}.p-autocomplete-dd .p-autocomplete-input{flex:1 1 auto;width:1%}.p-autocomplete-dd .p-autocomplete-input,.p-autocomplete-dd .p-autocomplete-multiple-container{border-bottom-right-radius:0;border-top-right-radius:0}.p-autocomplete-dd .p-autocomplete-dropdown{border-bottom-left-radius:0;border-top-left-radius:0}.p-autocomplete .p-autocomplete-panel{min-width:100%}.p-autocomplete-panel{overflow:auto;position:absolute}.p-autocomplete-items{list-style-type:none;margin:0;padding:0}.p-autocomplete-item{cursor:pointer;overflow:hidden;position:relative;white-space:nowrap}.p-autocomplete-multiple-container{align-items:center;cursor:text;display:flex;flex-wrap:wrap;list-style-type:none;margin:0;overflow:hidden;padding:0}.p-autocomplete-token{align-items:center;cursor:default;display:inline-flex;flex:0 0 auto}.p-autocomplete-token-icon{cursor:pointer}.p-autocomplete-input-token{display:inline-flex;flex:1 1 auto}.p-autocomplete-input-token input{background-color:transparent;border:0;border-radius:0;box-shadow:none;margin:0;outline:0 none;padding:0;width:100%}.p-fluid .p-autocomplete{display:flex}.p-fluid .p-autocomplete-dd .p-autocomplete-input{width:1%}"],encapsulation:2,data:{animation:[Object(me.m)("overlayAnimation",[Object(me.l)(":enter",[Object(me.k)({opacity:0,transform:"scaleY(0.8)"}),Object(me.e)("{{showTransitionParams}}")]),Object(me.l)(":leave",[Object(me.e)("{{hideTransitionParams}}",Object(me.k)({opacity:0}))])])]},changeDetection:0}),e})(),nt=(()=>{class e{}return e.\u0275mod=m.Ib({type:e}),e.\u0275inj=m.Hb({factory:function(t){return new(t||e)},imports:[[D.c,_.b,A.c,L.j,ge.b],L.j]}),e})();var rt=i("Ks7X");function ot(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",9),m.Xb("click",function(){return m.yc(e),m.ac().back()}),m.Pb()}}function at(e,t){1&e&&m.Mb(0)}function st(e,t){if(1&e&&(m.Qb(0,"p-tabPanel",18),m.Lb(1,"app-demand-result",19),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("result",e.currentDemand.Result)}}const ct=function(e){return{formFactoring:e}};function lt(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"p-tabView",10),m.Qb(2,"p-tabPanel",11),m.Qb(3,"app-demand-info",12),m.Xb("sendMessage",function(t){return m.yc(e),m.ac().handleSendMessage(t)}),m.Pb(),m.Pb(),m.Qb(4,"p-tabPanel",13),m.Fc(5,at,1,0,"ng-container",14),m.Pb(),m.Qb(6,"p-tabPanel",15),m.Qb(7,"app-demand-files",16),m.Xb("removeFile",function(t){return m.yc(e),m.ac().handleRemoveFile(t)}),m.Pb(),m.Pb(),m.Fc(8,st,2,1,"p-tabPanel",17),m.Pb(),m.Nb()}if(2&e){const e=m.ac(),t=m.vc(13);m.zb(3),m.hc("currentDemandInfo",e.currentInformation),m.zb(2),m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(5,ct,e.formFactoring)),m.zb(2),m.hc("currentDemandFiles",e.currentDemand.Files),m.zb(1),m.hc("ngIf",e.isView)}}function dt(e,t){1&e&&m.Mb(0)}function bt(e,t){if(1&e&&m.Fc(0,dt,1,0,"ng-container",14),2&e){const e=m.ac(),t=m.vc(13);m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(2,ct,e.formFactoring))}}function ut(e,t){1&e&&(m.Ob(0),m.Hc(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... "),m.Nb())}function ft(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ht(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ft,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.organizationShortName.errors.required)}}function pt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function mt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0418\u041d\u041d (10 \u0438\u043b\u0438 12 \u0446\u0438\u0444\u0440). "),m.Pb())}function gt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,pt,2,0,"small",82),m.Fc(2,mt,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.organizationINN.errors.required),m.zb(1),m.hc("ngIf",e.controls.organizationINN.errors.minlength)}}function vt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Pt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,vt,2,0,"small",82),m.Pb()),2&e){const e=m.ac(3).formFactoring;m.zb(1),m.hc("ngIf",e.controls.organizationLegalForm.errors.required)}}function yt(e,t){if(1&e&&(m.Qb(0,"div",24),m.Qb(1,"label",84),m.Hc(2,"\u041f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430"),m.Pb(),m.Lb(3,"p-dropdown",85),m.Fc(4,Pt,2,1,"div",27),m.Pb()),2&e){const e=m.ac(2).formFactoring,t=m.ac();m.zb(3),m.hc("options",t.ruleTypes),m.zb(1),m.hc("ngIf",e.controls.organizationLegalForm.invalid)}}function It(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ft(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,It,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.organizationPhone.errors.required)}}function Qt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ct(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443. "),m.Pb())}function Dt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Qt,2,0,"small",82),m.Fc(2,Ct,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.organizationEmail.errors.required),m.zb(1),m.hc("ngIf",e.controls.organizationEmail.errors.email)}}function kt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function zt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,kt,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.organizationWEB.errors.required)}}function St(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0411\u0418\u041a \u0431\u0430\u043d\u043a\u0430 (9 \u0446\u0438\u0444\u0440). "),m.Pb())}function wt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,St,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.bankBik.errors.required)}}function xt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u0440 \u0441\u0447\u0435\u0442 (20 \u0446\u0438\u0444\u0440) "),m.Pb())}function Ot(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,xt,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.bankCorrespondentAccount.errors.required)}}function _t(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Et(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,_t,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.bankName.errors.required)}}function At(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Nt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,At,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.bankAccountOpenDate.errors.required)}}function Tt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),m.Pb())}function Lt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Tt,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.bankOwnerAccount.errors.required)}}function Ht(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Bt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ht,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.bankComment.errors.required)}}function Rt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Mt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Rt,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("otherBanks").controls[e].get("otherBankAccountOpenDate").errors.required)}}function qt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function jt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,qt,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("otherBanks").controls[e].get("otherBankName").errors.required)}}function $t(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),m.Pb())}function Ut(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,$t,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("otherBanks").controls[e].get("otherBankOwnerAccount").errors.required)}}function Gt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Vt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Gt,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("otherBanks").controls[e].get("otherBankTarget").errors.required)}}function Xt(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",86),m.Qb(1,"div",2),m.Qb(2,"div",87),m.Hc(3," \u0421\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435 "),m.Pb(),m.Qb(4,"button",88),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac(3).remove(i,"otherBanks")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",89),m.Qb(7,"div",90),m.Qb(8,"div",91),m.Qb(9,"div",24),m.Qb(10,"label",92),m.Hc(11,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(12,"input",93),m.Fc(13,Mt,2,1,"div",27),m.Pb(),m.Qb(14,"div",24),m.Qb(15,"label",94),m.Hc(16,"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(17,"input",95),m.Pb(),m.Qb(18,"div",37),m.Qb(19,"label",96),m.Hc(20,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Qb(21,"p-autoComplete",97),m.Xb("completeMethod",function(t){return m.yc(e),m.ac(3).searchByBankName(t)})("onSelect",function(i){m.yc(e);const n=t.index,r=m.ac(2).formFactoring;return m.ac().onOtherBankSelect(r.get("otherBanks").controls[n],i)}),m.Pb(),m.Fc(22,jt,2,1,"div",27),m.Pb(),m.Qb(23,"div",37),m.Qb(24,"label",98),m.Hc(25,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(26,"p-inputMask",99),m.Fc(27,Ut,2,1,"div",27),m.Pb(),m.Qb(28,"div",37),m.Qb(29,"label",100),m.Hc(30,"\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"),m.Pb(),m.Lb(31,"input",101),m.Fc(32,Vt,2,1,"div",27),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac(2).formFactoring,n=m.ac();m.zb(7),m.hc("formGroupName",e),m.zb(6),m.hc("ngIf",i.get("otherBanks").controls[e].get("otherBankAccountOpenDate").invalid),m.zb(8),m.hc("suggestions",n.resultsBankname),m.zb(1),m.hc("ngIf",i.get("otherBanks").controls[e].get("otherBankName").invalid),m.zb(5),m.hc("ngIf",i.get("otherBanks").controls[e].get("otherBankOwnerAccount").invalid),m.zb(5),m.hc("ngIf",i.get("otherBanks").controls[e].get("otherBankTarget").invalid)}}function Kt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Wt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Kt,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.factoringProducts.errors.required)}}function Zt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Jt(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Zt,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.factoringTradeMarks.errors.required)}}function Yt(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ei(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Yt,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.factoringShipments.errors.required)}}function ti(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ii(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ti,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.factoringFinanceLimit.errors.required)}}function ni(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ri(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ni,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.factoringClients.errors.required)}}function oi(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ai(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,oi,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.factoringWorkers.errors.required)}}function si(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",102),m.Qb(1,"div",2),m.Qb(2,"div",87),m.Hc(3," \u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),m.Pb(),m.Qb(4,"button",88),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac(3).remove(i,"factoringPlaces")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",89),m.Qb(7,"div",90),m.Qb(8,"div",91),m.Qb(9,"div",46),m.Qb(10,"label",103),m.Hc(11,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430"),m.Pb(),m.Qb(12,"div",56),m.Lb(13,"input",104),m.Qb(14,"button",105),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac(3).openAddressForm(i)}),m.Pb(),m.Pb(),m.Pb(),m.Qb(15,"div",46),m.Qb(16,"label",106),m.Hc(17,"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(18,"p-dropdown",107),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac(3);m.zb(7),m.hc("formGroupName",e),m.zb(11),m.hc("options",i.typesOfOwner)}}function ci(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function li(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ci,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("factoringCredits").controls[e].get("factoringCreditsCreditor").errors.required)}}function di(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function bi(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,di,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("factoringCredits").controls[e].get("factoringPlacesTypeDuty").errors.required)}}function ui(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function fi(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ui,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("factoringCredits").controls[e].get("factoringPlacesDateClose").errors.required)}}function hi(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function pi(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,hi,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("factoringCredits").controls[e].get("factoringPlacesContractSum").errors.required)}}function mi(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function gi(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,mi,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("factoringCredits").controls[e].get("factoringPlacesBalanceReport").errors.required)}}function vi(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Pi(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,vi,2,0,"small",82),m.Pb()),2&e){const e=m.ac().index,t=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",t.get("factoringCredits").controls[e].get("factoringPlacesBalanceCurrent").errors.required)}}function yi(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",108),m.Qb(1,"div",2),m.Qb(2,"div",87),m.Hc(3," \u041a\u0440\u0435\u0434\u0438\u0442, \u0437\u0430\u0439\u043c, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f, ... "),m.Pb(),m.Qb(4,"button",88),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac(3).remove(i,"factoringCredits")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",89),m.Qb(7,"div",90),m.Qb(8,"div",91),m.Qb(9,"div",109),m.Qb(10,"label",110),m.Hc(11,"\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440"),m.Pb(),m.Lb(12,"input",111),m.Fc(13,li,2,1,"div",27),m.Pb(),m.Qb(14,"div",109),m.Qb(15,"label",112),m.Hc(16,"\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"),m.Pb(),m.Lb(17,"input",113),m.Fc(18,bi,2,1,"div",27),m.Pb(),m.Qb(19,"div",109),m.Qb(20,"label",114),m.Hc(21,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(22,"input",115),m.Fc(23,fi,2,1,"div",27),m.Pb(),m.Qb(24,"div",109),m.Qb(25,"label",116),m.Hc(26,"\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),m.Pb(),m.Lb(27,"input",117),m.Fc(28,pi,2,1,"div",27),m.Pb(),m.Qb(29,"div",109),m.Qb(30,"label",118),m.Hc(31,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438"),m.Pb(),m.Lb(32,"input",119),m.Fc(33,gi,2,1,"div",27),m.Pb(),m.Qb(34,"div",109),m.Qb(35,"label",120),m.Hc(36,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443"),m.Pb(),m.Lb(37,"input",121),m.Fc(38,Pi,2,1,"div",27),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac(2).formFactoring;m.zb(7),m.hc("formGroupName",e),m.zb(6),m.hc("ngIf",i.get("factoringCredits").controls[e].get("factoringCreditsCreditor").invalid),m.zb(5),m.hc("ngIf",i.get("factoringCredits").controls[e].get("factoringPlacesTypeDuty").invalid),m.zb(5),m.hc("ngIf",i.get("factoringCredits").controls[e].get("factoringPlacesDateClose").invalid),m.zb(5),m.hc("ngIf",i.get("factoringCredits").controls[e].get("factoringPlacesContractSum").invalid),m.zb(5),m.hc("ngIf",i.get("factoringCredits").controls[e].get("factoringPlacesBalanceReport").invalid),m.zb(5),m.hc("ngIf",i.get("factoringCredits").controls[e].get("factoringPlacesBalanceCurrent").invalid)}}function Ii(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Fi(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ii,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.factoringSuppliers.errors.required)}}function Qi(e,t){1&e&&(m.Qb(0,"small",83),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ci(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Qi,2,0,"small",82),m.Pb()),2&e){const e=m.ac(2).formFactoring;m.zb(1),m.hc("ngIf",e.controls.factoringLimit.errors.required)}}function Di(e,t){1&e&&(m.Qb(0,"div",144),m.Qb(1,"small",83),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function ki(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",147),m.Qb(1,"div",123),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",124),m.Qb(5,"div",148),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function zi(e,t){if(1&e&&(m.Ob(0),m.Fc(1,ki,7,1,"div",146),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Regulations"===e.Identifier)}}function Si(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,zi,2,1,"ng-container",145),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function wi(e,t){1&e&&(m.Qb(0,"div",144),m.Qb(1,"small",83),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function xi(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",147),m.Qb(1,"div",123),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",124),m.Qb(5,"div",148),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Oi(e,t){if(1&e&&(m.Ob(0),m.Fc(1,xi,7,1,"div",146),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","GenDirPassport"===e.Identifier)}}function _i(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Oi,2,1,"ng-container",145),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function Ei(e,t){1&e&&(m.Qb(0,"div",144),m.Qb(1,"small",83),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Ai(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",147),m.Qb(1,"div",123),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",124),m.Qb(5,"div",148),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Ni(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Ai,7,1,"div",146),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","GenDirProtocol"===e.Identifier)}}function Ti(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ni,2,1,"ng-container",145),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function Li(e,t){1&e&&(m.Qb(0,"div",144),m.Qb(1,"small",83),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Hi(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",147),m.Qb(1,"div",123),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",124),m.Qb(5,"div",148),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Bi(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Hi,7,1,"div",146),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","GenDirOrder"===e.Identifier)}}function Ri(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Bi,2,1,"ng-container",145),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function Mi(e,t){1&e&&(m.Qb(0,"div",144),m.Qb(1,"small",83),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function qi(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",147),m.Qb(1,"div",123),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",124),m.Qb(5,"div",148),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function ji(e,t){if(1&e&&(m.Ob(0),m.Fc(1,qi,7,1,"div",146),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Balance"===e.Identifier)}}function $i(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ji,2,1,"ng-container",145),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function Ui(e,t){1&e&&(m.Qb(0,"div",144),m.Qb(1,"small",83),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Gi(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",147),m.Qb(1,"div",123),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",124),m.Qb(5,"div",148),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Vi(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Gi,7,1,"div",146),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","OSV"===e.Identifier)}}function Xi(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Vi,2,1,"ng-container",145),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function Ki(e,t){1&e&&(m.Qb(0,"div",144),m.Qb(1,"small",83),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Wi(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",147),m.Qb(1,"div",123),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",124),m.Qb(5,"div",148),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Zi(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Wi,7,1,"div",146),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Shareholders"===e.Identifier)}}function Ji(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Zi,2,1,"ng-container",145),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function Yi(e,t){1&e&&(m.Qb(0,"div",144),m.Qb(1,"small",83),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function en(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",147),m.Qb(1,"div",123),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",124),m.Qb(5,"div",148),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function tn(e,t){if(1&e&&(m.Ob(0),m.Fc(1,en,7,1,"div",146),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","ContractDelivery"===e.Identifier)}}function nn(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,tn,2,1,"ng-container",145),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function rn(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"div",40),m.Qb(2,"p"),m.Hc(3,"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:"),m.Pb(),m.Pb(),m.Qb(4,"div",46),m.Qb(5,"div",122),m.Qb(6,"div",123),m.Qb(7,"p"),m.Hc(8," \u0423\u0441\u0442\u0430\u0432 (\u0421\u043e \u0432\u0441\u0435\u043c\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438) "),m.Pb(),m.Pb(),m.Qb(9,"div",124),m.Qb(10,"input",125),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"Regulations")}),m.Pb(),m.Qb(11,"label",126),m.Lb(12,"i",127),m.Hc(13," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(14,Di,3,0,"div",128),m.Fc(15,Si,2,1,"div",27),m.Pb(),m.Qb(16,"div",46),m.Qb(17,"div",122),m.Qb(18,"div",123),m.Qb(19,"p"),m.Hc(20," \u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 (\u0412\u0441\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) "),m.Pb(),m.Pb(),m.Qb(21,"div",124),m.Qb(22,"input",129),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"GenDirPassport")}),m.Pb(),m.Qb(23,"label",130),m.Lb(24,"i",127),m.Hc(25," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(26,wi,3,0,"div",128),m.Fc(27,_i,2,1,"div",27),m.Pb(),m.Qb(28,"div",46),m.Qb(29,"div",122),m.Qb(30,"div",123),m.Qb(31,"p"),m.Hc(32," \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b/\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),m.Pb(),m.Pb(),m.Qb(33,"div",124),m.Qb(34,"input",131),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"GenDirProtocol")}),m.Pb(),m.Qb(35,"label",132),m.Lb(36,"i",127),m.Hc(37," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(38,Ei,3,0,"div",128),m.Fc(39,Ti,2,1,"div",27),m.Pb(),m.Qb(40,"div",46),m.Qb(41,"div",122),m.Qb(42,"div",123),m.Qb(43,"p"),m.Hc(44," \u041f\u0440\u0438\u043a\u0430\u0437 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),m.Pb(),m.Pb(),m.Qb(45,"div",124),m.Qb(46,"input",133),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"GenDirOrder")}),m.Pb(),m.Qb(47,"label",134),m.Lb(48,"i",127),m.Hc(49," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(50,Li,3,0,"div",128),m.Fc(51,Ri,2,1,"div",27),m.Pb(),m.Qb(52,"div",46),m.Qb(53,"div",122),m.Qb(54,"div",123),m.Qb(55,"p"),m.Hc(56," \u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0441\u043a\u0438\u0439 \u0411\u0430\u043b\u0430\u043d\u0441 "),m.Pb(),m.Pb(),m.Qb(57,"div",124),m.Qb(58,"input",135),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"Balance")}),m.Pb(),m.Qb(59,"label",136),m.Lb(60,"i",127),m.Hc(61," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(62,Mi,3,0,"div",128),m.Fc(63,$i,2,1,"div",27),m.Pb(),m.Qb(64,"div",46),m.Qb(65,"div",122),m.Qb(66,"div",123),m.Qb(67,"p"),m.Hc(68," \u041e\u0421\u0412 (\u043e\u0431\u043e\u0440\u043e\u0442\u043d\u043e-\u0441\u0430\u043b\u044c\u0434\u043e\u0432\u0430\u044f \u0432\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c) "),m.Pb(),m.Pb(),m.Qb(69,"div",124),m.Qb(70,"input",137),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"OSV")}),m.Pb(),m.Qb(71,"label",138),m.Lb(72,"i",127),m.Hc(73," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(74,Ui,3,0,"div",128),m.Fc(75,Xi,2,1,"div",27),m.Pb(),m.Qb(76,"div",139),m.Qb(77,"div",122),m.Qb(78,"div",123),m.Qb(79,"p"),m.Hc(80," \u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0423\u0447\u0440\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439 "),m.Pb(),m.Pb(),m.Qb(81,"div",124),m.Qb(82,"input",140),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"Shareholders")}),m.Pb(),m.Qb(83,"label",141),m.Lb(84,"i",127),m.Hc(85," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(86,Ki,3,0,"div",128),m.Fc(87,Ji,2,1,"div",27),m.Pb(),m.Qb(88,"div",46),m.Qb(89,"div",122),m.Qb(90,"div",123),m.Qb(91,"p"),m.Hc(92," \u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 "),m.Pb(),m.Pb(),m.Qb(93,"div",124),m.Qb(94,"input",142),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"ContractDelivery")}),m.Pb(),m.Qb(95,"label",143),m.Lb(96,"i",127),m.Hc(97," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(98,Yi,3,0,"div",128),m.Fc(99,nn,2,1,"div",27),m.Pb(),m.Nb()}if(2&e){const e=m.ac(3);m.zb(14),m.hc("ngIf",e.isFileInvalid("Regulations")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("GenDirPassport")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("GenDirProtocol")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("GenDirOrder")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("Balance")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("OSV")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("Shareholders")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("ContractDelivery")),m.zb(1),m.hc("ngIf",e.files.length)}}function on(e,t){if(1&e){const e=m.Rb();m.Qb(0,"form",21),m.Xb("ngSubmit",function(){return m.yc(e),m.ac(2).onSubmit()}),m.Qb(1,"div",22),m.Qb(2,"button",9),m.Xb("click",function(){return m.yc(e),m.ac(2).back()}),m.Pb(),m.Pb(),m.Qb(3,"div",23),m.Qb(4,"div",24),m.Qb(5,"label",25),m.Hc(6,"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),m.Pb(),m.Lb(7,"input",26),m.Fc(8,ht,2,1,"div",27),m.Pb(),m.Qb(9,"div",24),m.Qb(10,"label",28),m.Hc(11,"\u0418\u041d\u041d"),m.Pb(),m.Lb(12,"input",29),m.Fc(13,gt,3,2,"div",27),m.Pb(),m.Qb(14,"div",24),m.Qb(15,"label",30),m.Hc(16,"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),m.Pb(),m.Qb(17,"p-dropdown",31),m.Xb("onChange",function(t){return m.yc(e),m.ac(2).onTypeChanged(t.value)}),m.Pb(),m.Pb(),m.Fc(18,yt,5,2,"div",32),m.Pb(),m.Qb(19,"div",23),m.Qb(20,"div",24),m.Qb(21,"label",33),m.Hc(22,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),m.Pb(),m.Lb(23,"p-inputMask",34),m.Fc(24,Ft,2,1,"div",27),m.Pb(),m.Qb(25,"div",24),m.Qb(26,"label",35),m.Hc(27,"E-mail"),m.Pb(),m.Lb(28,"input",36),m.Fc(29,Dt,3,2,"div",27),m.Pb(),m.Qb(30,"div",37),m.Qb(31,"label",38),m.Hc(32,"\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430"),m.Pb(),m.Lb(33,"input",39),m.Fc(34,zt,2,1,"div",27),m.Pb(),m.Qb(35,"div",40),m.Qb(36,"h3"),m.Hc(37,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Pb(),m.Qb(38,"div",41),m.Qb(39,"label",42),m.Hc(40,"\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Qb(41,"p-autoComplete",43),m.Xb("completeMethod",function(t){return m.yc(e),m.ac(2).search(t)})("onSelect",function(t){return m.yc(e),m.ac(2).onBankSelect(t)}),m.Pb(),m.Fc(42,wt,2,1,"div",27),m.Pb(),m.Qb(43,"div",41),m.Qb(44,"label",44),m.Hc(45,"\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Lb(46,"p-inputMask",45),m.Fc(47,Ot,2,1,"div",27),m.Pb(),m.Qb(48,"div",46),m.Qb(49,"label",47),m.Hc(50,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Qb(51,"p-autoComplete",48),m.Xb("completeMethod",function(t){return m.yc(e),m.ac(2).searchByBankName(t)})("onSelect",function(t){return m.yc(e),m.ac(2).onBankSelect(t)}),m.Pb(),m.Fc(52,Et,2,1,"div",27),m.Pb(),m.Qb(53,"div",41),m.Qb(54,"label",49),m.Hc(55,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(56,"input",50),m.Fc(57,Nt,2,1,"div",27),m.Pb(),m.Qb(58,"div",41),m.Qb(59,"label",51),m.Hc(60,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(61,"p-inputMask",52),m.Fc(62,Lt,2,1,"div",27),m.Pb(),m.Qb(63,"div",46),m.Qb(64,"label",53),m.Hc(65,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),m.Pb(),m.Lb(66,"input",54),m.Fc(67,Bt,2,1,"div",27),m.Pb(),m.Qb(68,"div",40),m.Qb(69,"h3"),m.Hc(70,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0447\u0435\u0442\u043e\u0432"),m.Pb(),m.Fc(71,Xt,33,6,"div",55),m.Pb(),m.Qb(72,"div",46),m.Qb(73,"div",56),m.Qb(74,"div",57),m.Qb(75,"p"),m.Hc(76," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0430 \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u0430\u043d\u043a\u0430\u0445 "),m.Pb(),m.Pb(),m.Qb(77,"button",58),m.Xb("click",function(){return m.yc(e),m.ac(2).addOtherBank()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(78,"div",40),m.Qb(79,"h3"),m.Hc(80,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a \u0410\u043d\u043a\u0435\u0442\u0435 (\u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433)"),m.Pb(),m.Pb(),m.Qb(81,"div",37),m.Qb(82,"label",59),m.Hc(83,"\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),m.Pb(),m.Lb(84,"input",60),m.Fc(85,Wt,2,1,"div",27),m.Pb(),m.Qb(86,"div",37),m.Qb(87,"label",61),m.Hc(88,"\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),m.Pb(),m.Lb(89,"input",62),m.Fc(90,Jt,2,1,"div",27),m.Pb(),m.Qb(91,"div",37),m.Qb(92,"label",63),m.Hc(93,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438"),m.Pb(),m.Lb(94,"input",64),m.Fc(95,ei,2,1,"div",27),m.Pb(),m.Qb(96,"div",37),m.Qb(97,"label",65),m.Hc(98,"\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),m.Pb(),m.Lb(99,"p-inputNumber",66),m.Fc(100,ii,2,1,"div",27),m.Pb(),m.Qb(101,"div",37),m.Qb(102,"label",67),m.Hc(103,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438"),m.Pb(),m.Lb(104,"input",68),m.Fc(105,ri,2,1,"div",27),m.Pb(),m.Qb(106,"div",37),m.Qb(107,"label",69),m.Hc(108,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),m.Pb(),m.Lb(109,"input",70),m.Fc(110,ai,2,1,"div",27),m.Pb(),m.Qb(111,"div",40),m.Qb(112,"h3"),m.Hc(113,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0435\u0439\u0441\u044f \u0432 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438/\u0430\u0440\u0435\u043d\u0434\u0435 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f"),m.Pb(),m.Qb(114,"p",71),m.Hc(115,"\u041f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043f\u0443\u043d\u043a\u0442\u0443 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f\u0445 \u0438 \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435 \u0432\u043b\u0430\u0434\u0435\u0435\u0442 \u0442\u0435\u043c \u0438\u043b\u0438 \u0438\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"),m.Pb(),m.Fc(116,si,19,2,"div",72),m.Pb(),m.Qb(117,"div",46),m.Qb(118,"div",56),m.Qb(119,"div",57),m.Qb(120,"p"),m.Hc(121," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(122,"button",73),m.Xb("click",function(){return m.yc(e),m.ac(2).addOtherPlace()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(123,"div",40),m.Qb(124,"h3"),m.Hc(125,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u043d\u0435\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u0445, \u0430\u043a\u043a\u0440\u0435\u0434\u0438\u0442\u0438\u0432\u0430\u0445, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f\u0445, \u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430\u0445"),m.Pb(),m.Qb(126,"p",71),m.Hc(127,"\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u0430\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0438 \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0440\u0441\u043a\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c, \u0432 \u0442. \u0447. \u0441\u0441\u0443\u0434\u044b \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),m.Pb(),m.Fc(128,yi,39,7,"div",74),m.Pb(),m.Qb(129,"div",46),m.Qb(130,"div",56),m.Qb(131,"div",57),m.Qb(132,"p"),m.Hc(133," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(134,"button",75),m.Xb("click",function(){return m.yc(e),m.ac(2).addFactoringCredits()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(135,"div",40),m.Qb(136,"h3"),m.Hc(137,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a \u0410\u043d\u043a\u0435\u0442\u0435 (\u0424\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043a\u043e\u043c\u043c\u0435\u0440\u0447\u0435\u0441\u043a\u043e\u0439 \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u0438)"),m.Pb(),m.Pb(),m.Qb(138,"div",46),m.Qb(139,"label",76),m.Hc(140,"\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438"),m.Pb(),m.Lb(141,"input",77),m.Fc(142,Fi,2,1,"div",27),m.Pb(),m.Qb(143,"div",46),m.Qb(144,"label",78),m.Hc(145,"\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442"),m.Pb(),m.Lb(146,"p-inputNumber",79),m.Fc(147,Ci,2,1,"div",27),m.Pb(),m.Fc(148,rn,100,16,"ng-container",27),m.Qb(149,"div",40),m.Qb(150,"label",80),m.Hc(151,"\xa0"),m.Pb(),m.Lb(152,"button",81),m.bc(153,"async"),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().formFactoring,t=m.ac();m.hc("formGroup",e),m.zb(8),m.hc("ngIf",e.controls.organizationShortName.invalid),m.zb(5),m.hc("ngIf",e.controls.organizationINN.invalid),m.zb(4),m.hc("options",t.organizationTypes),m.zb(1),m.hc("ngIf",1===e.get("organizationType").value),m.zb(6),m.hc("ngIf",e.controls.organizationPhone.invalid),m.zb(5),m.hc("ngIf",e.controls.organizationEmail.invalid),m.zb(5),m.hc("ngIf",e.controls.organizationWEB.invalid),m.zb(7),m.hc("suggestions",t.resultsBIK),m.zb(1),m.hc("ngIf",e.controls.bankBik.invalid),m.zb(5),m.hc("ngIf",e.controls.bankCorrespondentAccount.invalid),m.zb(4),m.hc("suggestions",t.resultsBankname),m.zb(1),m.hc("ngIf",e.controls.bankName.invalid),m.zb(5),m.hc("ngIf",e.controls.bankAccountOpenDate.invalid),m.zb(5),m.hc("ngIf",e.controls.bankOwnerAccount.invalid),m.zb(5),m.hc("ngIf",e.controls.bankComment.invalid),m.zb(4),m.hc("ngForOf",e.get("otherBanks").controls),m.zb(14),m.hc("ngIf",e.controls.factoringProducts.invalid),m.zb(5),m.hc("ngIf",e.controls.factoringTradeMarks.invalid),m.zb(5),m.hc("ngIf",e.controls.factoringShipments.invalid),m.zb(5),m.hc("ngIf",e.controls.factoringFinanceLimit.invalid),m.zb(5),m.hc("ngIf",e.controls.factoringClients.invalid),m.zb(5),m.hc("ngIf",e.controls.factoringWorkers.invalid),m.zb(6),m.hc("ngForOf",e.get("factoringPlaces").controls),m.zb(12),m.hc("ngForOf",e.get("factoringCredits").controls),m.zb(14),m.hc("ngIf",e.controls.factoringSuppliers.invalid),m.zb(5),m.hc("ngIf",e.controls.factoringLimit.invalid),m.zb(1),m.hc("ngIf",!t.isEdit),m.zb(4),m.hc("disabled",e.invalid||m.cc(153,29,t.isLoading$)||t.isFilesInvalid())}}function an(e,t){if(1&e&&(m.Fc(0,ut,2,0,"ng-container",6),m.Fc(1,on,154,31,"ng-template",null,20,m.Gc)),2&e){const e=m.vc(2),t=m.ac();m.hc("ngIf",t.isLoading)("ngIfElse",e)}}const sn=function(e){return{"card-content":e}};let cn=(()=>{class e{constructor(e,t,i,n,r,o,a,s,c,l,d){this.dialogService=e,this.currencyPipe=t,this.authService=i,this.router=n,this.fb=r,this.route=o,this.demandService=a,this.messageService=s,this.commonService=c,this.store=l,this.fileService=d,this.isEdit=!1,this.currentDraftId=0,this.files=[],this.organizationTypes=[],this.ruleTypes=[],this.typesOfOwner=[],this.alertMessage=[],this.addressDialog=!1,this.isLoading$=new Q.a,this.isLoading=!1,this.subscription$=new C.a}ngOnInit(){this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.initValues(),this.subscription$.add(this.route.queryParams.subscribe(e=>{this.isView="true"===e.View,e.ID&&"false"===e.Edit?(this.isLoading=!0,this.fetch(e.ID)):(this.isLoading=!0,this.getDraft())})),this._saveDraftAction$=setInterval(()=>this.saveDraft(),3e4)}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}search(e){this.subscription$.add(this.commonService.getBankByBIK(e.query).subscribe(e=>{this.banksFounded=e,this.resultsBIK=e.map(e=>e.BIC)}))}saveDraft(){let e=this.prepareDraft();this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,e).subscribe(e=>{this.currentDraftId=e.ID,this.showSuccess()}))}isFileInvalid(e){let t=!1;return t=!this.files.map(e=>e.Identifier).includes(e),t}isFilesInvalid(){let e=!1,t=this.files.map(e=>e.Identifier);return t.length<1||(e=!(t.includes("Regulations")&&t.includes("GenDirPassport")&&t.includes("GenDirProtocol")&&t.includes("GenDirOrder")&&t.includes("Balance")&&t.includes("OSV")&&t.includes("Shareholders")&&t.includes("ContractDelivery")),e)}onOtherBankSelect(e,t){let i=this.banksFounded.find(e=>e.BIC===t||e.Name===t);this.formFactoring.get("otherBanks").controls[e].patchValue({otherBankName:i.Name})}onBankSelect(e){let t=this.banksFounded.find(t=>t.BIC===e||t.Name===e);this.formFactoring.patchValue({bankBik:t.BIC,bankCorrespondentAccount:t.AccountBank,bankName:t.Name})}searchByBankName(e){this.subscription$.add(this.commonService.getBankByName(e.query).subscribe(e=>{this.banksFounded=e,this.resultsBankname=e.map(e=>e.Name)}))}ngOnDestroy(){this.subscription$.unsubscribe()}onSubmit(){let e=this.prepareData();this.subscription$.add(this.demandService.add(e).subscribe(e=>{this.alert=!0,window.scroll(0,0),this.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}handleSendMessage(e){this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(e=>{this.fetch(this.currentDemand.ID)}))}handleRemoveFile(e){this.currentDemand.Files=this.currentDemand.Files.filter(t=>t!==e)}fetch(e){this.subscription$.add(this.demandService.getDemandById(e).subscribe(e=>{this.currentDemand=e,this.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(this.currentDemand),this.isLoading=!1,this.isEdit=!0}))}getDraft(){this.subscription$.add(this.demandService.prepareDemandByType("AgencyFactoring ").subscribe(e=>{this.currentDemand=e,this.convertToFormData(),this.isLoading=!1}))}addOtherBank(e){this.formFactoring.get("otherBanks").push(this.fb.group({otherBankAccountOpenDate:[e?e.Date:"",[S.x.required]],otherBankAccountCloseDate:[e?Object(D.x)(e.Expire,"yyyy-MM-dd","en"):""],otherBankName:[e?e.Bank:"",[S.x.required]],otherBankOwnerAccount:[e?e.Number:"",[S.x.required]],otherBankTarget:[e?e.Comment:"",[S.x.required]]}))}addOtherPlace(e){let t=this.formFactoring.get("factoringPlaces");t.push(this.fb.group({displayAddress:"",factoringPlacesAddress:{PostCode:e?e.Address.PostCode:"",Country:e?e.Address.Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:e?e.Address.RegionCode:77,RegionTitle:e?e.Address.RegionTitle:"",City:e?e.Address.City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:e?e.Address.District:"",Locality:e?e.Address.Locality:"",Street:e?e.Address.Street:"",House:e?e.Address.House:"",Appartment:e?e.Address.Appartment:""},factoringPlacesLegalForm:["Own",[S.x.required]]})),this.updateDisplayAddress(t.length-1)}addFactoringCredits(e){this.formFactoring.get("factoringCredits").push(this.fb.group({factoringCreditsCreditor:[e?e.Creditor:""],factoringPlacesTypeDuty:[e?e.Type:""],factoringPlacesDateClose:[e?Object(D.x)(e.Date,"yyyy-MM-dd","en"):""],factoringPlacesContractSum:[e?e.Summ:""],factoringPlacesBalanceReport:[e?e.ReportingRest:""],factoringPlacesBalanceCurrent:[e?e.CurrentRest:""]}))}remove(e,t){this.formFactoring.get(t).removeAt(e)}openAddressForm(e){this.currentAddressFormId=e,this.ref=this.dialogService.open(N,{header:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441",width:"650px",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,styleClass:"p-fluid",data:{address:this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,index:e}}),this.ref.onClose.subscribe(e=>{e&&(this.formFactoring.value.factoringPlaces[this.currentAddressFormId].factoringPlacesAddress=e,this.updateDisplayAddress(this.currentAddressFormId))})}onSelect(e,t){let i=e.target.files;for(let n of i){let e=k.a.newGuid();this.subscription$.add(this.commonService.getBase64(n).pipe(Object(u.a)(t=>this.fileService.uploadFileChunks(t,n.name,n.size.toString(),e))).subscribe(e=>{console.log(e),this.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:t})},e=>console.log(e)))}}removeFile(e){this.files.splice(this.files.indexOf(this.files.find(t=>t===e)),1)}onTypeChanged(e){0===e&&this.formFactoring.patchValue({organizationLegalForm:null})}initValues(){let e=new x.a;this.organizationTypes=e.getOrganizations(),this.ruleTypes=e.getLegalForms(),this.typesOfOwner=e.getTypesOfOwner(),this.countryList=e.getCountryList(),this.regionList=e.getRegionList(),this.isLoading$=this.store.pipe(Object(a.t)(z.e)),this.backendErrors$=this.store.pipe(Object(a.t)(w.c))}initForm(){this.formFactoring=this.fb.group({organizationType:[0,[S.x.required]],organizationLegalForm:[""],organizationShortName:["",[S.x.required]],organizationINN:["",[S.x.required,S.x.minLength(10),S.x.maxLength(12)]],organizationPhone:["",[S.x.required]],organizationEmail:["",[S.x.required,S.x.email]],organizationWEB:[""],bankBik:["",[S.x.required]],bankCorrespondentAccount:["",[S.x.required]],bankName:["",[S.x.required]],bankAccountOpenDate:["",[S.x.required]],bankOwnerAccount:["",[S.x.required]],bankComment:[""],otherBanks:this.fb.array([]),factoringProducts:["",[S.x.required]],factoringTradeMarks:["",[S.x.required]],factoringShipments:["",[S.x.required]],factoringFinanceLimit:[null,[S.x.required]],factoringClients:["",[S.x.required]],factoringWorkers:[0,[S.x.required]],factoringPlaces:this.fb.array([]),factoringCredits:this.fb.array([]),factoringSuppliers:["",[S.x.required]],factoringLimit:[0,[S.x.required]]}),this.formFactoring.markAllAsTouched(),this.formFactoring.markAsDirty()}updateDisplayAddress(e){let t=this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,i="";console.log(t),t.PostCode&&(i=i+" "+t.PostCode),t.Country&&(i=i+" "+t.Country),t.RegionCode&&(i=i+" "+t.RegionCode),t.RegionTitle&&(i=i+" "+t.RegionTitle),t.City&&(i=i+" "+t.City),t.District&&(i=i+" "+t.District),t.Locality&&(i=i+" "+t.Locality),t.Street&&(i=i+" "+t.Street),t.House&&(i=i+" "+t.House),t.Appartment&&(i=i+" "+t.Appartment),this.formFactoring.controls.factoringPlaces.at(e).patchValue({displayAddress:i,factoringPlacesAddress:t})}convertToFormData(){var e,t,i,n,r,o,a,s,c,l,d,b,u,f,h,p,m;let g=null===(e=this.currentDemand)||void 0===e?void 0:e.Factoring,v=null===(t=this.currentDemand)||void 0===t?void 0:t.Anket,P=null==g?void 0:g.AddonAccounts,y=null==g?void 0:g.Properties,I=null==g?void 0:g.Obligations;this.formFactoring.patchValue({organizationType:null===(i=null==v?void 0:v.Organization)||void 0===i?void 0:i.Type,organizationLegalForm:null===(n=null==v?void 0:v.Organization)||void 0===n?void 0:n.LegalForm,organizationShortName:null===(r=v.Organization)||void 0===r?void 0:r.ShortTitle,organizationINN:null===(a=null===(o=null==v?void 0:v.Organization)||void 0===o?void 0:o.Requisites)||void 0===a?void 0:a.INN,organizationPhone:null===(s=null==v?void 0:v.Organization)||void 0===s?void 0:s.Phone,organizationEmail:null===(c=null==v?void 0:v.Organization)||void 0===c?void 0:c.Email,organizationWEB:null===(l=null==v?void 0:v.Organization)||void 0===l?void 0:l.Website,bankBik:null===(d=null==g?void 0:g.Account)||void 0===d?void 0:d.BIK,bankCorrespondentAccount:null===(b=null==g?void 0:g.Account)||void 0===b?void 0:b.COR,bankName:null===(u=null==g?void 0:g.Account)||void 0===u?void 0:u.Bank,bankAccountOpenDate:Object(D.x)((null===(f=null==g?void 0:g.Account)||void 0===f?void 0:f.Date)?null===(h=null==g?void 0:g.Account)||void 0===h?void 0:h.Date:null,"yyyy-MM-dd","en"),bankOwnerAccount:null===(p=null==g?void 0:g.Account)||void 0===p?void 0:p.Number,bankComment:null===(m=null==g?void 0:g.Account)||void 0===m?void 0:m.Comment,factoringProducts:null==g?void 0:g.Products,factoringTradeMarks:null==g?void 0:g.Trademarks,factoringShipments:null==g?void 0:g.Suppliers,factoringFinanceLimit:null==g?void 0:g.LimitWanted,factoringClients:null==g?void 0:g.Buyers,factoringWorkers:null==g?void 0:g.StaffAmount,factoringSuppliers:null==g?void 0:g.Suppliers,factoringLimit:null==g?void 0:g.LimitWanted}),P&&P.forEach(e=>this.addOtherBank(e)),y&&y.forEach(e=>this.addOtherPlace(e)),I&&I.forEach(e=>this.addFactoringCredits(e))}showSuccess(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}prepareCoreData(){let e=[],t=[],i=[];return this.formFactoring.value.factoringPlaces.forEach(e=>{i.push({Address:{Appartment:e.factoringPlacesAddress.Appartment,City:e.factoringPlacesAddress.City,Country:e.factoringPlacesAddress.Country,District:e.factoringPlacesAddress.District,House:e.factoringPlacesAddress.House,Locality:e.factoringPlacesAddress.Locality,PostCode:e.factoringPlacesAddress.PostCode,RegionCode:e.factoringPlacesAddress.RegionCode,Street:e.factoringPlacesAddress.Street,RegionTitle:e.factoringPlacesAddress.RegionTitle},Comment:"",Type:e.factoringPlacesLegalForm})}),this.formFactoring.value.factoringCredits.forEach(t=>{e.push({Creditor:t.factoringCreditsCreditor,CurrentRest:t.factoringPlacesBalanceCurrent,Date:new Date(t.factoringPlacesDateClose),ReportingRest:t.factoringPlacesBalanceReport,Summ:t.factoringPlacesContractSum,Type:t.factoringPlacesTypeDuty})}),this.formFactoring.value.otherBanks.forEach(e=>{t.push({BIK:"",Bank:e.otherBankName,COR:"",Comment:e.otherBankTarget,Date:new Date(e.otherBankAccountOpenDate),Expire:new Date(e.otherBankAccountCloseDate),Number:e.otherBankOwnerAccount})}),{Anket:{Registration:{Authority:"",Date:new Date,InitDate:new Date,Number:"",Place:""},Resident:{Country:"\u0420\u0424",ForeignCode:"",IsResident:!0},Shareholders:[],Signer:{FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},Passport:{Date:new Date,Expire:new Date,IsForeign:!1,IssuerCode:"",IssuerTitle:"",Nationality:"",Number:""},Person:{BirthDate:new Date,BirthPlace:"",Email:"",Gender:1,Name:{First:"",Last:"",Second:""},NameFirst:"",NameLast:"",NameSecond:"",Phone:"",SNILS:""},PositionDate:new Date,PositionTitle:"",RegistrationAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""}},Activities:[],Capital:{Total:0,Payed:0},Licenses:[],Objectives:{BankRelationObjective:16,BankRelationObjectiveOther:"",FinancialObjective:1,FinancialObjectiveOther:"",TransactionsContracts:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430",TransactionsCount:"",TransactionsSumm:""},Organization:{Email:this.formFactoring.value.organizationEmail,FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},FactAddressEquals:!1,ForeignTitle:"",FullTitle:"",LegalAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},LegalForm:this.formFactoring.value.organizationLegalForm,Phone:this.formFactoring.value.organizationPhone,PostAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},PostAddressEquals:!1,Requisites:{INN:this.formFactoring.value.organizationINN,KPP:"",OGRN:"",OKATO:"",OKPO:""},ShortTitle:this.formFactoring.value.organizationShortName,Type:this.formFactoring.value.organizationType,Website:this.formFactoring.value.organizationWEB}},Factoring:{Account:{BIK:this.formFactoring.value.bankBik,Bank:this.formFactoring.value.bankName,COR:this.formFactoring.value.bankCorrespondentAccount,Comment:this.formFactoring.value.bankComment,Date:new Date(this.formFactoring.value.bankAccountOpenDate),Expire:null,Number:this.formFactoring.value.bankOwnerAccount},AddonAccounts:t,Buyers:this.formFactoring.value.factoringClients,EDI:[],FactoringAim:0,LimitWanted:this.formFactoring.value.factoringFinanceLimit,Obligations:e,Products:this.formFactoring.value.factoringProducts,Properties:i,StaffAmount:this.formFactoring.value.factoringWorkers,Suppliers:this.formFactoring.value.factoringShipments,Trademarks:this.formFactoring.value.factoringTradeMarks},Files:this.files,Type:"AgencyFactoring "}}prepareDraft(){return this.prepareCoreData()}prepareData(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(O.a),m.Kb(D.d),m.Kb(T.a),m.Kb(I.f),m.Kb(S.d),m.Kb(I.a),m.Kb(P),m.Kb(L.g),m.Kb(H.a),m.Kb(a.h),m.Kb(B.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-agent-factoring-page"]],decls:14,vars:8,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],["contentTemplate",""],[3,"formGroup","ngSubmit"],[1,"form-actions"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-lg-3"],["for","organizationShortName"],["id","organizationShortName","type","text","pInputText","","placeholder","\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","formControlName","organizationShortName"],[4,"ngIf"],["for","organizationINN"],["id","organizationINN","pInputText","","type","text","placeholder","\u0418\u041d\u041d","formControlName","organizationINN","minlength","10","maxlength","12"],["for","organizationType"],["id","organizationType","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationType","optionLabel","title","optionValue","value",3,"options","onChange"],["class","p-field p-col-12 p-lg-3",4,"ngIf"],["for","organizationPhone"],["id","organizationPhone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","organizationPhone","mask","+7-999-999-99-99"],["for","organizationEmail"],["id","organizationEmail","type","email","pInputText","","placeholder","E-mail","formControlName","organizationEmail"],[1,"p-field","p-col-12","p-lg-6"],["for","organizationWEB"],["id","organizationWEB","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430","formControlName","organizationWEB"],[1,"p-field","p-col-12","p-md-12"],[1,"p-field","p-col-12","p-md-3"],["for","bankBik"],["id","bankBik","placeholder","\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430","formControlName","bankBik",3,"suggestions","completeMethod","onSelect"],["for","bankCorrespondentAccount"],["id","bankCorrespondentAccount","type","text","mask","99999999999999999999","placeholder","\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430","formControlName","bankCorrespondentAccount"],[1,"p-field","p-col-12","p-md-6"],["for","bankName"],["id","bankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","bankName",3,"suggestions","completeMethod","onSelect"],["for","bankAccountOpenDate"],["id","bankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","bankAccountOpenDate"],["for","bankOwnerAccount"],["id","bankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","bankOwnerAccount"],["for","bankComment"],["id","bankComment","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439","formControlName","bankComment"],["class","mib-formset","formArrayName","otherBanks",4,"ngFor","ngForOf"],[1,"addon-button"],[1,"addon-text-small"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435","type","button",1,"basic-small",3,"click"],["for","factoringProducts"],["id","factoringProducts","type","text","pInputText","","placeholder","\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringProducts"],["for","factoringTradeMarks"],["id","factoringTradeMarks","type","text","pInputText","","placeholder","\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringTradeMarks"],["for","factoringShipments"],["id","factoringShipments","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438","formControlName","factoringShipments"],["for","factoringFinanceLimit"],["placeholder","\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","id","factoringFinanceLimit","formControlName","factoringFinanceLimit","inputId","factoringFinanceLimit","mode","currency","currency","RUB","locale","ru-RU"],["for","factoringClients"],["id","factoringClients","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438","formControlName","factoringClients"],["for","factoringWorkers"],["id","factoringWorkers","type","number","pInputText","","placeholder","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432","formControlName","factoringWorkers"],[1,"description"],["class","mib-formset","formArrayName","factoringPlaces",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringCredits",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["for","factoringSuppliers"],["id","factoringSuppliers","type","text","pInputText","","placeholder","\u041f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438","formControlName","factoringSuppliers"],["for","factoringLimit"],["placeholder","\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442","id","factoringLimit","formControlName","factoringLimit","inputId","factoringLimit","mode","currency","currency","RUB","locale","ru-RU"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],["class","p-error",4,"ngIf"],[1,"p-error"],["for","organizationLegalForm"],["id","organizationLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443","formControlName","organizationLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","otherBanks",1,"mib-formset"],[1,"text"],[1,"button","warn",3,"click"],[1,"form"],[3,"formGroupName"],[1,"p-fluid","p-formgrid","p-grid"],["for","otherBankAccountOpenDate"],["id","otherBankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountOpenDate"],["for","otherBankAccountCloseDate"],["id","otherBankAccountCloseDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountCloseDate"],["for","otherBankName"],["id","otherBankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","otherBankName",3,"suggestions","completeMethod","onSelect"],["for","otherBankOwnerAccount"],["id","otherBankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankOwnerAccount"],["for","otherBankTarget"],["id","otherBankTarget","type","text","pInputText","","placeholder","\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","formControlName","otherBankTarget"],["formArrayName","factoringPlaces",1,"mib-formset"],["for","factoringPlacesAddress"],["id","factoringPlacesAddress","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430","disabled","","formControlName","displayAddress"],["pButton","","pRipple","","type","button","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],["for","factoringPlacesLegalForm"],["id","factoringPlacesLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0424\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f","formControlName","factoringPlacesLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","factoringCredits",1,"mib-formset"],[1,"p-field","p-col-12","p-md-4","p-lg-3"],["for","factoringCreditsCreditor"],["id","factoringCreditsCreditor","type","text","pInputText","","placeholder","\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440","formControlName","factoringCreditsCreditor"],["for","factoringPlacesTypeDuty"],["id","factoringPlacesTypeDuty","type","text","pInputText","","placeholder","\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430","formControlName","factoringPlacesTypeDuty"],["for","factoringPlacesDateClose"],["id","factoringPlacesDateClose","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f","formControlName","factoringPlacesDateClose"],["for","factoringPlacesContractSum"],["id","factoringPlacesContractSum","type","text","pInputText","","placeholder","\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430","formControlName","factoringPlacesContractSum"],["for","factoringPlacesBalanceReport"],["id","factoringPlacesBalanceReport","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438","formControlName","factoringPlacesBalanceReport"],["for","factoringPlacesBalanceCurrent"],["id","factoringPlacesBalanceCurrent","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443","formControlName","factoringPlacesBalanceCurrent"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Regulations","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Regulations",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],["type","file","id","GenDirPassport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","GenDirPassport",1,"mib-upload"],["type","file","id","GenDirProtocol","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","GenDirProtocol",1,"mib-upload"],["type","file","id","actual-btn","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","actual-btn",1,"mib-upload"],["type","file","id","Balance","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Balance",1,"mib-upload"],["type","file","id","OSV","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","OSV",1,"mib-upload"],[1,"p-field","p-col-12","p-md-6","p-lg-6"],["type","file","id","Shareholders","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Shareholders",1,"mib-upload"],["type","file","id","ContractDelivery","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","ContractDelivery",1,"mib-upload"],[1,"mib-uploader__error"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(m.Lb(0,"p-toast"),m.Qb(1,"div",0),m.Qb(2,"div",1),m.Qb(3,"div",2),m.Qb(4,"h2"),m.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0410\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433"),m.Pb(),m.Pb(),m.Qb(6,"div",3),m.Fc(7,ot,1,0,"button",4),m.Pb(),m.Pb(),m.Qb(8,"p-messages",5),m.Xb("valueChange",function(e){return t.alertMessage=e}),m.Pb(),m.Fc(9,lt,9,7,"ng-container",6),m.Fc(10,bt,1,4,"ng-template",null,7,m.Gc),m.Fc(12,an,3,2,"ng-template",null,8,m.Gc),m.Pb()),2&e){const e=m.vc(11);m.zb(1),m.hc("ngClass",m.mc(6,sn,t.isUserVerified)),m.zb(6),m.hc("ngIf",t.isEdit),m.zb(1),m.hc("value",t.alertMessage)("enableService",!1),m.zb(1),m.hc("ngIf",t.isEdit)("ngIfElse",e)}},directives:[R.a,D.l,D.n,M.a,A.b,q.b,q.a,de,D.s,ue,he,S.y,S.q,S.h,S.b,_.a,S.p,S.f,S.l,S.k,E.a,pe.a,it,D.m,rt.a,S.t,S.c,S.i],pipes:[D.b],styles:[".description[_ngcontent-%COMP%]{font-family:Ubuntu;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#989898}.small[_ngcontent-%COMP%]{padding:5px!important;width:100px!important}.addon-text[_ngcontent-%COMP%]{border:1px solid #c4c4c4;width:100%;height:39px;border-radius:10px;padding:10px}[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}.passport-confirm[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;margin-bottom:20px}.btn-attention[_ngcontent-%COMP%]{max-width:280px;font-size:14px;padding:15px 0!important}.passport-owner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0!important}.passport-owner[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:10px!important}"]}),e})();var ln=i("DVgK");function dn(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",10),m.Xb("click",function(){return m.yc(e),m.ac().back()}),m.Pb()}}function bn(e,t){if(1&e&&m.Lb(0,"metib-backend-error-messages",11),2&e){const e=m.ac();m.hc("backendErrors",e.errorMessage)}}function un(e,t){1&e&&m.Mb(0)}function fn(e,t){if(1&e&&(m.Qb(0,"p-tabPanel",20),m.Lb(1,"app-demand-result",21),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("result",e.currentDemand.Result)}}const hn=function(e){return{formFree:e}};function pn(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"p-tabView",12),m.Qb(2,"p-tabPanel",13),m.Qb(3,"app-demand-info",14),m.Xb("sendMessage",function(t){return m.yc(e),m.ac().handleSendMessage(t)}),m.Pb(),m.Pb(),m.Qb(4,"p-tabPanel",15),m.Fc(5,un,1,0,"ng-container",16),m.Pb(),m.Qb(6,"p-tabPanel",17),m.Qb(7,"app-demand-files",18),m.Xb("removeFile",function(t){return m.yc(e),m.ac().handleRemoveFile(t)}),m.Pb(),m.Pb(),m.Fc(8,fn,2,1,"p-tabPanel",19),m.Pb(),m.Nb()}if(2&e){const e=m.ac(),t=m.vc(14);m.zb(3),m.hc("currentDemandInfo",e.currentInformation),m.zb(2),m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(5,hn,e.formFree)),m.zb(2),m.hc("currentDemandFiles",e.currentDemand.Files),m.zb(1),m.hc("ngIf",e.isView)}}function mn(e,t){1&e&&m.Mb(0)}function gn(e,t){if(1&e&&m.Fc(0,mn,1,0,"ng-container",16),2&e){const e=m.ac(),t=m.vc(14);m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(2,hn,e.formFree))}}function vn(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",34),m.Qb(1,"button",10),m.Xb("click",function(){return m.yc(e),m.ac(2).back()}),m.Pb(),m.Pb()}}function Pn(e,t){1&e&&(m.Qb(0,"small",36),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function yn(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Pn,2,0,"small",35),m.Pb()),2&e){const e=m.ac().formFree;m.zb(1),m.hc("ngIf",e.controls.Id.errors.required)}}function In(e,t){1&e&&(m.Qb(0,"small",36),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Fn(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,In,2,0,"small",35),m.Pb()),2&e){const e=m.ac(2).formFree;m.zb(1),m.hc("ngIf",e.controls.INN.errors.required)}}function Qn(e,t){if(1&e&&(m.Qb(0,"div",25),m.Qb(1,"label",37),m.Hc(2,"\u0418\u041d\u041d"),m.Pb(),m.Lb(3,"input",38),m.Fc(4,Fn,2,1,"div",29),m.Pb()),2&e){const e=m.ac().formFree;m.zb(4),m.hc("ngIf",e.controls.INN.invalid)}}function Cn(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",48),m.Qb(1,"div",41),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",42),m.Qb(5,"div",49),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(4).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Dn(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Cn,7,1,"div",47),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","All"===e.Identifier)}}function kn(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Dn,2,1,"ng-container",46),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.hc("ngForOf",e.files)}}function zn(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"div",39),m.Qb(2,"div",40),m.Qb(3,"div",41),m.Qb(4,"p"),m.Hc(5," \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b: "),m.Pb(),m.Pb(),m.Qb(6,"div",42),m.Qb(7,"input",43),m.Xb("change",function(t){return m.yc(e),m.ac(2).onSelect(t,"All")}),m.Pb(),m.Qb(8,"label",44),m.Lb(9,"i",45),m.Hc(10," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(11,kn,2,1,"div",29),m.Pb(),m.Nb()}if(2&e){const e=m.ac(2);m.zb(11),m.hc("ngIf",e.files.length)}}function Sn(e,t){if(1&e){const e=m.Rb();m.Qb(0,"form",22),m.Xb("ngSubmit",function(){return m.yc(e),m.ac().onSubmit()}),m.Fc(1,vn,2,0,"div",23),m.Qb(2,"div",24),m.Qb(3,"div",25),m.Qb(4,"label",26),m.Hc(5,"\u0414\u0435\u0431\u0438\u0442\u043e\u0440"),m.Pb(),m.Qb(6,"p-dropdown",27),m.Xb("change",function(){return m.yc(e),m.ac().debtorChange()})("onChange",function(){return m.yc(e),m.ac().debtorChange()}),m.Pb(),m.Qb(7,"small",28),m.Hc(8,"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430 \u0438\u0437 \u0441\u043f\u0438\u0441\u043a\u0430 \u0438\u043b\u0438 \u0434\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u0432\u043e\u0435\u0433\u043e."),m.Pb(),m.Fc(9,yn,2,1,"div",29),m.Pb(),m.Fc(10,Qn,5,1,"div",30),m.Fc(11,zn,12,1,"ng-container",29),m.Qb(12,"div",31),m.Qb(13,"label",32),m.Hc(14,"\xa0"),m.Pb(),m.Lb(15,"button",33),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.formFree,i=m.ac();m.hc("formGroup",e),m.zb(1),m.hc("ngIf",!i.isEdit),m.zb(5),m.hc("options",i.debtors)("filter",!0),m.zb(3),m.hc("ngIf",e.controls.Id.invalid),m.zb(1),m.hc("ngIf",i.isNewDebtor),m.zb(1),m.hc("ngIf",!i.isEdit),m.zb(4),m.hc("disabled",e.invalid||i.isLoading)}}const wn=function(e){return{"card-content":e}};let xn=(()=>{class e{constructor(e,t,i,n,r,o,a,s){this.authService=e,this.fb=t,this.demandService=i,this.commonService=n,this.messageService=r,this.fileService=o,this.router=a,this.route=s,this.isEdit=!1,this.currentDraftId=0,this.alertMessage=[],this.files=[],this.isLoading=!1,this.debtors=[],this.isNewDebtor=!1,this.subscription$=new C.a}ngOnInit(){this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.subscription$.add(this.route.queryParams.subscribe(e=>{this.isView="true"===e.View,e.ID&&"false"===e.Edit&&this.fetch(e.ID),e.DraftId&&(this.currentDraftId=e.DraftID)})),this._saveDraftAction$=setInterval(()=>this.saveDraft(),3e4),this.subscription$.add(this.demandService.getDebtors().subscribe(e=>{this.debtors=e}))}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}debtorChange(){let e=this.debtors.find(e=>e.ID===this.formFree.value.Id);this.isNewDebtor=!e}ngOnDestroy(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}handleSendMessage(e){this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(e=>{this.fetch(this.currentDemand.ID)}))}handleRemoveFile(e){this.currentDemand.Files=this.currentDemand.Files.filter(t=>t!==e)}fetch(e){this.subscription$.add(this.demandService.getDemandById(e).subscribe(e=>{this.currentDemand=e,this.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(this.currentDemand),this.isEdit=!0,this.convertToFormData()}))}convertToFormData(){let e=this.currentDemand.Data;this.formFree.patchValue({Id:+e.ID,inn:e.INN})}onSubmit(){if(this.resetAlerts(),this.isNewDebtor&&this.files.length<1)return this.errorAlert=!0,void(this.errorMessage="\u0414\u043b\u044f \u0434\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u044f \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u044c \u0444\u0430\u0439\u043b.");this.isLoading=!0;let e=this.prepareData();this.subscription$.add(this.demandService.add(e).subscribe(e=>{this.alert=!0,this.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}],this.isLoading=!1}))}saveDraft(){this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,this.prepareDraft()).subscribe(e=>{console.log(e),this.currentDraftId=e.ID,this.showSuccess()}))}prepareDraft(){return this.prepareCoreData()}prepareData(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}prepareCoreData(){if(this.isNewDebtor)return{ID:0,INN:this.formFree.value.INN,IsNew:!0,Title:this.formFree.value.Id,Files:this.files,Type:"NewDebtor"};if(this.formFree.value.Id){let e=this.debtors.find(e=>e.ID===+this.formFree.value.Id);return{ID:e.ID,INN:e.Inn,IsNew:!1,Title:e.Title,Files:this.files,Type:"NewDebtor"}}}initForm(){this.formFree=this.fb.group({Id:[0,[S.x.required]],INN:[""]}),this.formFree.markAllAsTouched(),this.formFree.markAsDirty()}showSuccess(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}removeFile(e){this.files.splice(this.files.indexOf(this.files.find(t=>t===e)),1)}onSelect(e,t){let i=e.target.files;for(let n of i){let e=k.a.newGuid();this.subscription$.add(this.commonService.getBase64(n).pipe(Object(u.a)(t=>this.fileService.uploadFileChunks(t,n.name,n.size.toString(),e))).subscribe(e=>{console.log(e),this.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:t})},e=>console.log(e)))}}resetAlerts(){this.alert=!1,this.alertMessage=[],this.errorAlert=!1,this.errorMessage=""}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(T.a),m.Kb(S.d),m.Kb(P),m.Kb(H.a),m.Kb(L.g),m.Kb(B.a),m.Kb(I.f),m.Kb(I.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-debitor-page"]],decls:15,vars:9,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-12","p-lg-12"],["for","Id"],["formControlName","Id","id","Id","filterBy","Title","optionLabel","Title","optionValue","ID","editable","true",3,"options","filter","change","onChange"],["id","debtor-help"],[4,"ngIf"],["class","p-field p-col-12 p-md-12 p-lg-12",4,"ngIf"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],["for","INN"],["formControlName","INN","id","INN","type","text","pInputText","","aria-describedby","\u0418\u043d\u043d"],[1,"p-field","p-col-12","p-md-6"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","accept","image/jpeg,image/png,image/gif,application/pdf","id","All","multiple","true","hidden","",3,"change"],["for","All",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(m.Lb(0,"p-toast"),m.Qb(1,"div",0),m.Qb(2,"div",1),m.Qb(3,"div",2),m.Qb(4,"h2"),m.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430"),m.Pb(),m.Pb(),m.Qb(6,"div",3),m.Fc(7,dn,1,0,"button",4),m.Pb(),m.Pb(),m.Qb(8,"p-messages",5),m.Xb("valueChange",function(e){return t.alertMessage=e}),m.Pb(),m.Fc(9,bn,1,1,"metib-backend-error-messages",6),m.Fc(10,pn,9,7,"ng-container",7),m.Fc(11,gn,1,4,"ng-template",null,8,m.Gc),m.Fc(13,Sn,16,8,"ng-template",null,9,m.Gc),m.Pb()),2&e){const e=m.vc(12);m.zb(1),m.hc("ngClass",m.mc(7,wn,t.isUserVerified)),m.zb(6),m.hc("ngIf",t.isEdit),m.zb(1),m.hc("value",t.alertMessage)("enableService",!1),m.zb(1),m.hc("ngIf",t.errorAlert),m.zb(1),m.hc("ngIf",t.isEdit)("ngIfElse",e)}},directives:[R.a,D.l,D.n,M.a,A.b,ln.a,q.b,q.a,de,D.s,ue,he,S.y,S.q,S.h,E.a,S.p,S.f,S.b,_.a,D.m],styles:[""]}),e})();var On=i("2Vo4");const _n=Object(a.o)("demands"),En=Object(a.q)(_n,e=>e.isLoading),An=Object(a.q)(_n,e=>e.error);Object(a.q)(_n,e=>e.data),Object(a.q)(_n,e=>e.drafts);var Nn=i("SUg2"),Tn=i("4pnn");function Ln(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",10),m.Xb("click",function(){return m.yc(e),m.ac().back()}),m.Pb()}}function Hn(e,t){if(1&e&&(m.Lb(0,"metib-backend-error-messages",11),m.bc(1,"async")),2&e){const e=m.ac();m.hc("backendErrors",m.cc(1,1,e.backendErrors$))}}function Bn(e,t){1&e&&(m.Ob(0),m.Hc(1,">"),m.Nb())}function Rn(e,t){if(1&e&&(m.Qb(0,"p-tabPanel",20),m.Lb(1,"app-demand-result",21),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("result",e.currentDemand.Result)}}const Mn=function(e){return{formEdit:e}};function qn(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"p-tabView",12),m.Qb(2,"p-tabPanel",13),m.Qb(3,"app-demand-info",14),m.Xb("sendMessage",function(t){return m.yc(e),m.ac().handleSendMessage(t)}),m.Pb(),m.Pb(),m.Qb(4,"p-tabPanel",15),m.Fc(5,Bn,2,0,"ng-container",16),m.Pb(),m.Qb(6,"p-tabPanel",17),m.Qb(7,"app-demand-files",18),m.Xb("removeFile",function(t){return m.yc(e),m.ac().handleRemoveFile(t)}),m.Pb(),m.Pb(),m.Fc(8,Rn,2,1,"p-tabPanel",19),m.Pb(),m.Nb()}if(2&e){const e=m.ac(),t=m.vc(15);m.zb(3),m.hc("currentDemandInfo",e.currentInformation),m.zb(2),m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(5,Mn,e.formEdit)),m.zb(2),m.hc("currentDemandFiles",e.currentDemand.Files),m.zb(1),m.hc("ngIf",e.isView)}}function jn(e,t){1&e&&m.Mb(0)}function $n(e,t){if(1&e&&m.Fc(0,jn,1,0,"ng-container",16),2&e){const e=m.ac(),t=m.vc(15);m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(2,Mn,e.formEdit))}}function Un(e,t){1&e&&(m.Ob(0),m.Hc(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... "),m.Nb())}function Gn(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",55),m.Qb(1,"button",10),m.Xb("click",function(){return m.yc(e),m.ac(3).back()}),m.Pb(),m.Pb()}}function Vn(e,t){1&e&&(m.Qb(0,"small",57),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Xn(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Vn,2,0,"small",56),m.Pb()),2&e){const e=m.ac(2).formEdit;m.zb(1),m.hc("ngIf",e.controls.last.errors.required)}}function Kn(e,t){1&e&&(m.Qb(0,"small",57),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Wn(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Kn,2,0,"small",56),m.Pb()),2&e){const e=m.ac(2).formEdit;m.zb(1),m.hc("ngIf",e.controls.first.errors.required)}}function Zn(e,t){1&e&&(m.Qb(0,"small",57),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Jn(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Zn,2,0,"small",56),m.Pb()),2&e){const e=m.ac(2).formEdit;m.zb(1),m.hc("ngIf",e.controls.isMale.errors.required)}}function Yn(e,t){1&e&&(m.Qb(0,"small",57),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function er(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Yn,2,0,"small",56),m.Pb()),2&e){const e=m.ac(2).formEdit;m.zb(1),m.hc("ngIf",e.controls.phone.errors.required)}}function tr(e,t){1&e&&(m.Qb(0,"small",57),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ir(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,tr,2,0,"small",56),m.Pb()),2&e){const e=m.ac(2).formEdit;m.zb(1),m.hc("ngIf",e.controls.email.errors.required)}}function nr(e,t){1&e&&(m.Qb(0,"div",65),m.Qb(1,"small",57),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function rr(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"div"),m.Qb(2,"div",58),m.Qb(3,"div",59),m.Qb(4,"p"),m.Hc(5," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043a\u043e\u043f\u0438\u044e \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 "),m.Pb(),m.Pb(),m.Qb(6,"div",60),m.Qb(7,"input",61),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"Passport")}),m.Pb(),m.Qb(8,"label",62),m.Lb(9,"i",63),m.Hc(10," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(11,nr,3,0,"div",64),m.Pb(),m.Nb()}if(2&e){const e=m.ac(3);m.zb(11),m.hc("ngIf",e.isFileInvalid("Passport"))}}function or(e,t){1&e&&(m.Qb(0,"small",57),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ar(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,or,2,0,"small",56),m.Pb()),2&e){const e=m.ac(2).formEdit;m.zb(1),m.hc("ngIf",e.controls.number.errors.required)}}function sr(e,t){1&e&&(m.Qb(0,"small",57),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function cr(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,sr,2,0,"small",56),m.Pb()),2&e){const e=m.ac(2).formEdit;m.zb(1),m.hc("ngIf",e.controls.date.errors.required)}}function lr(e,t){1&e&&(m.Qb(0,"small",57),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function dr(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,lr,2,0,"small",56),m.Pb()),2&e){const e=m.ac(2).formEdit;m.zb(1),m.hc("ngIf",e.controls.issuerTitle.errors.required)}}function br(e,t){1&e&&(m.Qb(0,"small",57),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ur(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,br,2,0,"small",56),m.Pb()),2&e){const e=m.ac(2).formEdit;m.zb(1),m.hc("ngIf",e.controls.issuerCode.errors.required)}}function fr(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",70),m.Qb(1,"div",59),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",60),m.Qb(5,"div",71),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function hr(e,t){if(1&e&&(m.Ob(0),m.Fc(1,fr,7,1,"div",69),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Passport"===e.Identifier)}}function pr(e,t){if(1&e&&(m.Qb(0,"div",67),m.Qb(1,"h2"),m.Hc(2,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u043d\u044b\u0435 \u0444\u0430\u0439\u043b\u044b"),m.Pb(),m.Fc(3,hr,2,1,"ng-container",68),m.Pb()),2&e){const e=m.ac(4);m.zb(3),m.hc("ngForOf",e.files)}}function mr(e,t){if(1&e&&(m.Ob(0),m.Fc(1,pr,4,1,"div",66),m.Nb()),2&e){const e=m.ac(3);m.zb(1),m.hc("ngIf",e.files.length)}}function gr(e,t){if(1&e){const e=m.Rb();m.Qb(0,"form",23),m.Xb("ngSubmit",function(){return m.yc(e),m.ac(2).onSubmit()}),m.Fc(1,Gn,2,0,"div",24),m.Qb(2,"div",25),m.Qb(3,"div",26),m.Qb(4,"label",27),m.Hc(5,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),m.Pb(),m.Lb(6,"input",28),m.Fc(7,Xn,2,1,"div",29),m.Pb(),m.Qb(8,"div",26),m.Qb(9,"label",30),m.Hc(10,"\u0418\u043c\u044f"),m.Pb(),m.Lb(11,"input",31),m.Fc(12,Wn,2,1,"div",29),m.Pb(),m.Qb(13,"div",26),m.Qb(14,"label",32),m.Hc(15,"\u041f\u043e\u043b"),m.Pb(),m.Lb(16,"p-dropdown",33),m.Fc(17,Jn,2,1,"div",29),m.Pb(),m.Qb(18,"div",34),m.Qb(19,"label",35),m.Hc(20,"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),m.Pb(),m.Lb(21,"p-inputMask",36),m.Fc(22,er,2,1,"div",29),m.Pb(),m.Qb(23,"div",34),m.Qb(24,"label",37),m.Hc(25,"E-mail"),m.Pb(),m.Lb(26,"input",38),m.Fc(27,ir,2,1,"div",29),m.Pb(),m.Pb(),m.Qb(28,"div",25),m.Qb(29,"div",39),m.Qb(30,"div",40),m.Qb(31,"div",41),m.Qb(32,"h1"),m.Hc(33,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442"),m.Pb(),m.Qb(34,"p",42),m.Hc(35,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),m.Pb(),m.Pb(),m.Fc(36,rr,12,1,"ng-container",29),m.Pb(),m.Pb(),m.Qb(37,"div",43),m.Qb(38,"label",44),m.Hc(39,"\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442"),m.Pb(),m.Lb(40,"p-inputMask",45),m.Fc(41,ar,2,1,"div",29),m.Pb(),m.Qb(42,"div",43),m.Qb(43,"label",46),m.Hc(44,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),m.Pb(),m.Lb(45,"input",47),m.Fc(46,cr,2,1,"div",29),m.Pb(),m.Qb(47,"div",43),m.Qb(48,"label",48),m.Hc(49,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d"),m.Pb(),m.Lb(50,"input",49),m.Fc(51,dr,2,1,"div",29),m.Pb(),m.Qb(52,"div",43),m.Qb(53,"label",50),m.Hc(54,"\u041a\u043e\u0434 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(55,"p-inputMask",51),m.Fc(56,ur,2,1,"div",29),m.Pb(),m.Fc(57,mr,2,1,"ng-container",29),m.Qb(58,"div",52),m.Qb(59,"label",53),m.Hc(60,"\xa0"),m.Pb(),m.Lb(61,"button",54),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().formEdit,t=m.ac();m.hc("formGroup",e),m.zb(1),m.hc("ngIf",!t.isEdit),m.zb(6),m.hc("ngIf",e.controls.last.invalid),m.zb(5),m.hc("ngIf",e.controls.first.invalid),m.zb(4),m.hc("options",t.genderTypes),m.zb(1),m.hc("ngIf",e.controls.isMale.invalid),m.zb(5),m.hc("ngIf",e.controls.phone.invalid),m.zb(5),m.hc("ngIf",e.controls.email.invalid),m.zb(9),m.hc("ngIf",!t.isEdit),m.zb(5),m.hc("ngIf",e.controls.number.invalid),m.zb(5),m.hc("ngIf",e.controls.date.invalid),m.zb(5),m.hc("ngIf",e.controls.issuerTitle.invalid),m.zb(5),m.hc("ngIf",e.controls.issuerCode.invalid),m.zb(1),m.hc("ngIf",!t.isEdit),m.zb(4),m.hc("disabled",e.invalid||t.isRequestLoading||t.isFilesInvalid())}}function vr(e,t){if(1&e&&(m.Fc(0,Un,2,0,"ng-container",7),m.Fc(1,gr,62,15,"ng-template",null,22,m.Gc)),2&e){const e=m.vc(2),t=m.ac();m.hc("ngIf",t.isLoading)("ngIfElse",e)}}const Pr=function(e){return{"card-content":e}};let yr=(()=>{class e{constructor(e,t,i,n,r,o,a,s,c,l,d){this.authService=e,this.commonService=t,this.messageService=i,this.fb=n,this.demandService=r,this.store=o,this.route=a,this.router=s,this.fileService=c,this.cryptoService=l,this.cookieService=d,this.isEdit=!1,this.currentDraftId=0,this.alertMessage=[],this.alertMessage$=new On.a(null),this.isLoading=!1,this.isRequestLoading=!1,this.avatarSource="/assets/images/mib_ava.png",this.files=[],this.genderTypes=[{title:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",value:!1},{title:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",value:!0}],this.subscription$=new C.a}ngOnInit(){this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.initValues(),this.subscription$.add(this.route.queryParams.subscribe(e=>{this.isView="true"===e.View,e.ID&&"false"===e.Edit?this.fetch(e.ID):this.getDraft()})),this._saveDraftAction$=setInterval(()=>this.saveDraft(),3e4)}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}ngOnDestroy(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}onSubmit(){let e={Data:this.prepareData(),DraftID:this.currentDraftId};this.subscription$.add(this.demandService.add(e).subscribe(e=>{this.alert=!0,window.scroll(0,0),this.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}handleSendMessage(e){this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(e=>{this.fetch(this.currentDemand.ID)}))}handleRemoveFile(e){this.currentDemand.Files=this.currentDemand.Files.filter(t=>t!==e)}isFilesInvalid(){let e=!1,t=this.files.map(e=>e.Identifier);return t.length<1||(e=!t.includes("Passport"),e)}getDraft(){this.isLoading=!0,this.subscription$.add(this.demandService.prepareDemandByType("ProfileChange").subscribe(e=>{this.isLoading=!1,this.convertToFormData(e)}))}fetch(e){this.isLoading=!0,this.subscription$.add(this.demandService.getDemandById(e).subscribe(e=>{this.currentDemand=e,this.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(this.currentDemand),this.isEdit=!0,this.isLoading=!1,this.convertToFormData()}))}convertToFormData(e){var t,i,n,r,o,a,s,c,l,d,b,u,f,h,p,m,v,P,y,I,F,Q;let C;C=e||this.currentDemand.Data,this.formEdit.patchValue({last:(null===(i=null===(t=C.Profile)||void 0===t?void 0:t.Name)||void 0===i?void 0:i.Last)?null===(r=null===(n=C.Profile)||void 0===n?void 0:n.Name)||void 0===r?void 0:r.Last:"",first:(null===(a=null===(o=C.Profile)||void 0===o?void 0:o.Name)||void 0===a?void 0:a.First)?null===(c=null===(s=C.Profile)||void 0===s?void 0:s.Name)||void 0===c?void 0:c.First:"",isMale:(null===(l=C.Profile)||void 0===l?void 0:l.IsMale)?null===(d=C.Profile)||void 0===d?void 0:d.IsMale:"",phone:(null===(b=C.Profile)||void 0===b?void 0:b.Phone)?null===(u=C.Profile)||void 0===u?void 0:u.Phone:"",email:(null===(f=C.Profile)||void 0===f?void 0:f.Email)?null===(h=C.Profile)||void 0===h?void 0:h.Email:"",number:(null===(p=C.Passport)||void 0===p?void 0:p.Number)?null===(m=C.Passport)||void 0===m?void 0:m.Number:"",date:(null===(v=C.Passport)||void 0===v?void 0:v.Date)?Object(D.x)(null===(P=C.Passport)||void 0===P?void 0:P.Date,"yyyy-MM-dd","en"):"",issuerTitle:(null===(y=C.Passport)||void 0===y?void 0:y.IssuerTitle)?null===(I=C.Passport)||void 0===I?void 0:I.IssuerTitle:"",issuerCode:(null===(F=C.Passport)||void 0===F?void 0:F.IssuerCode)?null===(Q=C.Passport)||void 0===Q?void 0:Q.IssuerCode:""}),this.avatarCode=null==C?void 0:C.Avatar,this.avatarCode&&(this.avatarSource=`${g.a.apiUrl}avatar/${this.avatarCode}`)}removeFile(e){this.files.splice(this.files.indexOf(this.files.find(t=>t===e)),1)}isFileInvalid(e){let t=!1;return t=!this.files.map(e=>e.Identifier).includes(e),t}saveDraft(){let e=this.prepareData();this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,e).subscribe(e=>{this.currentDraftId=e.ID,this.showSuccess()}))}prepareData(){return{Avatar:this.avatarCode,Passport:{Date:this.formEdit.value.date,Expire:null,IsForeign:!1,IssuerCode:this.formEdit.value.issuerCode,IssuerTitle:this.formEdit.value.issuerTitle,Nationality:"RUS",Number:this.formEdit.value.number},PassportFileCode:"",Profile:{Email:this.formEdit.value.email,IsMale:this.formEdit.value.isMale,Name:{First:this.formEdit.value.first,Last:this.formEdit.value.last},Phone:this.formEdit.value.phone},Files:this.files,UserID:this.currentUserId,Type:"ProfileChange"}}initForm(){this.formEdit=this.fb.group({last:["",[S.x.required]],first:["",[S.x.required]],isMale:[!1,[S.x.required]],phone:["",[S.x.required]],email:["",[S.x.required]],number:["",[S.x.required]],date:["",[S.x.required]],issuerTitle:["",[S.x.required]],issuerCode:["",[S.x.required]]}),this.formEdit.markAllAsTouched(),this.formEdit.markAsDirty()}initValues(){this.backendErrors$=this.store.pipe(Object(a.t)(An));let e=this.cookieService.get("_cu"),t=this.cryptoService.decrypt(e),i=JSON.parse(t);this.currentUserId=i.UserID}onSelect(e,t){let i=e.target.files;for(let n of i){let e=k.a.newGuid();this.subscription$.add("Avatar"===t?this.fileService.uploadAvatar(n,n.name).subscribe(e=>{this.avatarCode=e,this.avatarSource=`${g.a.apiUrl}avatar/${e}`},e=>console.log(e)):this.commonService.getBase64(n).pipe(Object(u.a)(t=>this.fileService.uploadFileChunks(t,n.name,n.size.toString(),e))).subscribe(e=>{this.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:t})},e=>console.log(e)))}}showSuccess(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(T.a),m.Kb(H.a),m.Kb(L.g),m.Kb(S.d),m.Kb(P),m.Kb(a.h),m.Kb(I.a),m.Kb(I.f),m.Kb(B.a),m.Kb(Nn.a),m.Kb(Tn.b))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-edit-profile-page"]],decls:16,vars:11,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],["contentTemplate",""],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-6","p-lg-4"],["for","last"],["id","last","type","text","pInputText","","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f","formControlName","last"],[4,"ngIf"],["for","first"],["id","first","type","text","pInputText","","placeholder","\u0418\u043c\u044f","formControlName","first"],["for","isMale"],["id","isMale","formControlName","isMale","optionLabel","title","optionValue","value",3,"options"],[1,"p-field","p-col-12","p-md-6","p-lg-6"],["for","phone"],["id","phone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","phone","mask","+7-999-999-99-99"],["for","email"],["id","email","type","email","pInputText","","placeholder","E-mail","formControlName","email"],[1,"p-col-12"],[1,"d-flex","passport-confirm"],[1,"passport-owner"],[1,"description"],[1,"p-field","p-col-12","p-md-6","p-lg-3"],["for","number"],["id","phone","type","text","placeholder","\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442","formControlName","number","mask","99 99 999999"],["for","date"],["id","date","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438","formControlName","date"],["for","issuerTitle"],["id","issuerTitle","type","text","pInputText","","placeholder","\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d","formControlName","issuerTitle"],["for","issuerCode"],["id","issuerCode","type","text","placeholder","\u041a\u043e\u0434 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","formControlName","issuerCode","mask","999-999"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Passport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Passport",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],[1,"mib-uploader__error"],["style","width: 100%;",4,"ngIf"],[2,"width","100%"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(m.Lb(0,"p-toast"),m.Qb(1,"div",0),m.Qb(2,"div",1),m.Qb(3,"div",2),m.Qb(4,"h2"),m.Hc(5,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u043e\u0444\u0438\u043b\u044f"),m.Pb(),m.Pb(),m.Qb(6,"div",3),m.Fc(7,Ln,1,0,"button",4),m.Pb(),m.Pb(),m.Qb(8,"p-messages",5),m.Xb("valueChange",function(e){return t.alertMessage=e}),m.Pb(),m.Fc(9,Hn,2,3,"metib-backend-error-messages",6),m.bc(10,"async"),m.Fc(11,qn,9,7,"ng-container",7),m.Fc(12,$n,1,4,"ng-template",null,8,m.Gc),m.Fc(14,vr,3,2,"ng-template",null,9,m.Gc),m.Pb()),2&e){const e=m.vc(13);m.zb(1),m.hc("ngClass",m.mc(9,Pr,t.isUserVerified)),m.zb(6),m.hc("ngIf",t.isEdit),m.zb(1),m.hc("value",t.alertMessage)("enableService",!1),m.zb(1),m.hc("ngIf",m.cc(10,7,t.backendErrors$)),m.zb(2),m.hc("ngIf",t.isEdit)("ngIfElse",e)}},directives:[R.a,D.l,D.n,M.a,A.b,ln.a,q.b,q.a,de,D.s,ue,he,S.y,S.q,S.h,S.b,_.a,S.p,S.f,E.a,pe.a,D.m],pipes:[D.b],styles:[".description[_ngcontent-%COMP%]{font-family:Ubuntu;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#989898}.small[_ngcontent-%COMP%]{padding:5px!important;width:100px!important}[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}.passport-confirm[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;margin-bottom:20px}.btn-attention[_ngcontent-%COMP%]{max-width:280px;font-size:14px;padding:15px 0!important}.passport-owner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0!important}.passport-owner[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:10px!important}.avatar[_ngcontent-%COMP%]{background:#0c83f1;border-radius:10px;width:150px;height:150px;display:flex;flex-flow:row wrap;justify-content:center;align-items:center;margin-right:20px;margin-bottom:12px}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px;height:100px}.medium[_ngcontent-%COMP%]{max-width:150px;padding:15px 20px!important;font-size:14px}"]}),e})();var Ir=i("Ji6n");function Fr(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",9),m.Xb("click",function(){return m.yc(e),m.ac().back()}),m.Pb()}}function Qr(e,t){1&e&&(m.Ob(0),m.Hc(1,">"),m.Nb())}function Cr(e,t){if(1&e&&(m.Qb(0,"p-tabPanel",18),m.Lb(1,"app-demand-result",19),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("result",e.currentDemand.Result)}}const Dr=function(e){return{formEDS:e}};function kr(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"p-tabView",10),m.Qb(2,"p-tabPanel",11),m.Qb(3,"app-demand-info",12),m.Xb("sendMessage",function(t){return m.yc(e),m.ac().handleSendMessage(t)}),m.Pb(),m.Pb(),m.Qb(4,"p-tabPanel",13),m.Fc(5,Qr,2,0,"ng-container",14),m.Pb(),m.Qb(6,"p-tabPanel",15),m.Qb(7,"app-demand-files",16),m.Xb("removeFile",function(t){return m.yc(e),m.ac().handleRemoveFile(t)}),m.Pb(),m.Pb(),m.Fc(8,Cr,2,1,"p-tabPanel",17),m.Pb(),m.Nb()}if(2&e){const e=m.ac(),t=m.vc(13);m.zb(3),m.hc("currentDemandInfo",e.currentInformation),m.zb(2),m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(5,Dr,e.formEDS)),m.zb(2),m.hc("currentDemandFiles",e.currentDemand.Files),m.zb(1),m.hc("ngIf",e.isView)}}function zr(e,t){1&e&&m.Mb(0)}function Sr(e,t){if(1&e&&m.Fc(0,zr,1,0,"ng-container",14),2&e){const e=m.ac(),t=m.vc(13);m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(2,Dr,e.formEDS))}}function wr(e,t){1&e&&(m.Ob(0),m.Hc(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... "),m.Nb())}function xr(e,t){if(1&e&&(m.Qb(0,"div",104),m.Qb(1,"label",105),m.Hc(2,"\u041f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430"),m.Pb(),m.Lb(3,"p-dropdown",106),m.Pb()),2&e){const e=m.ac(3);m.zb(3),m.hc("options",e.ruleTypes)}}function Or(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function _r(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0418\u041d\u041d (10 \u0438\u043b\u0438 12 \u0446\u0438\u0444\u0440). "),m.Pb())}function Er(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Or,2,0,"small",107),m.Fc(2,_r,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.organizationINN.errors.required),m.zb(1),m.hc("ngIf",e.controls.organizationINN.errors.minlength)}}function Ar(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Nr(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ar,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.organizationKPP.errors.required)}}function Tr(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Lr(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Tr,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.organizationOGRN.errors.required)}}function Hr(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Br(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Hr,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.organizationOKPO.errors.required)}}function Rr(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Mr(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Rr,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.organizationPhone.errors.required)}}function qr(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function jr(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443. "),m.Pb())}function $r(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,qr,2,0,"small",107),m.Fc(2,jr,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.organizationEmail.errors.required),m.zb(1),m.hc("ngIf",e.controls.organizationEmail.errors.email)}}function Ur(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Gr(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ur,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.organizationWEB.errors.required)}}function Vr(e,t){1&e&&(m.Qb(0,"div",117),m.Qb(1,"small",85),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Xr(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",120),m.Qb(1,"div",109),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",110),m.Qb(5,"div",121),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Kr(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Xr,7,1,"div",119),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Inn"===e.Identifier)}}function Wr(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Kr,2,1,"ng-container",118),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function Zr(e,t){1&e&&(m.Qb(0,"div",117),m.Qb(1,"small",85),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Jr(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",120),m.Qb(1,"div",109),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",110),m.Qb(5,"div",121),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Yr(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Jr,7,1,"div",119),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Ogrn"===e.Identifier)}}function eo(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Yr,2,1,"ng-container",118),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function to(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"div",45),m.Qb(2,"label"),m.Hc(3," \u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b "),m.Pb(),m.Qb(4,"div",108),m.Qb(5,"div",109),m.Qb(6,"p"),m.Hc(7," \u0421\u043a\u0430\u043d-\u041a\u043e\u043f\u0438\u044f \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u0418\u041d\u041d \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 "),m.Pb(),m.Pb(),m.Qb(8,"div",110),m.Qb(9,"input",111),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"Inn")}),m.Pb(),m.Qb(10,"label",112),m.Lb(11,"i",113),m.Hc(12," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(13,Vr,3,0,"div",114),m.Fc(14,Wr,2,1,"div",34),m.Pb(),m.Qb(15,"div",45),m.Qb(16,"label"),m.Hc(17," \xa0 "),m.Pb(),m.Qb(18,"div",108),m.Qb(19,"div",109),m.Qb(20,"p"),m.Hc(21," \u0421\u043a\u0430\u043d-\u041a\u043e\u043f\u0438\u044f \u0441\u0432\u0438\u0434\u0435\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430 \u041e\u0413\u0420\u041d \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438 "),m.Pb(),m.Pb(),m.Qb(22,"div",110),m.Qb(23,"input",115),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"Ogrn")}),m.Pb(),m.Qb(24,"label",116),m.Lb(25,"i",113),m.Hc(26," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(27,Zr,3,0,"div",114),m.Fc(28,eo,2,1,"div",34),m.Pb(),m.Nb()}if(2&e){const e=m.ac(3);m.zb(13),m.hc("ngIf",e.isFileInvalid("Inn")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(13),m.hc("ngIf",e.isFileInvalid("Ogrn")),m.zb(1),m.hc("ngIf",e.files.length)}}function io(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function no(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,io,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.ownerSurname.errors.required)}}function ro(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function oo(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ro,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.ownerName.errors.required)}}function ao(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function so(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ao,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.ownerMiddlename.errors.required)}}function co(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function lo(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,co,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.ownerEmail.errors.required)}}function bo(e,t){1&e&&(m.Qb(0,"div",117),m.Qb(1,"small",85),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function uo(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",120),m.Qb(1,"div",109),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",110),m.Qb(5,"div",121),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function fo(e,t){if(1&e&&(m.Ob(0),m.Fc(1,uo,7,1,"div",119),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Snils"===e.Identifier)}}function ho(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,fo,2,1,"ng-container",118),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function po(e,t){1&e&&(m.Qb(0,"div",117),m.Qb(1,"small",85),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function mo(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",120),m.Qb(1,"div",109),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",110),m.Qb(5,"div",121),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function go(e,t){if(1&e&&(m.Ob(0),m.Fc(1,mo,7,1,"div",119),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Director"===e.Identifier)}}function vo(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,go,2,1,"ng-container",118),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function Po(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"div",45),m.Qb(2,"label"),m.Hc(3," \u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b "),m.Pb(),m.Qb(4,"div",108),m.Qb(5,"div",109),m.Qb(6,"p"),m.Hc(7," \u0421\u043a\u0430\u043d-\u041a\u043e\u043f\u0438\u044f \u0421\u041d\u0418\u041b\u0421 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043a\u043b\u044e\u0447\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 "),m.Pb(),m.Pb(),m.Qb(8,"div",110),m.Qb(9,"input",122),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"Snils")}),m.Pb(),m.Qb(10,"label",123),m.Lb(11,"i",113),m.Hc(12," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(13,bo,3,0,"div",114),m.Fc(14,ho,2,1,"div",34),m.Pb(),m.Qb(15,"div",45),m.Qb(16,"label"),m.Hc(17," \xa0 "),m.Pb(),m.Qb(18,"div",108),m.Qb(19,"div",109),m.Qb(20,"p"),m.Hc(21," \u0421\u043a\u0430\u043d-\u041a\u043e\u043f\u0438\u044f \u043f\u0440\u0438\u043a\u0430\u0437\u0430 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u043d\u0430 \u0434\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c \u0413\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),m.Pb(),m.Pb(),m.Qb(22,"div",110),m.Qb(23,"input",124),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"Director")}),m.Pb(),m.Qb(24,"label",125),m.Lb(25,"i",113),m.Hc(26," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(27,po,3,0,"div",114),m.Fc(28,vo,2,1,"div",34),m.Pb(),m.Nb()}if(2&e){const e=m.ac(3);m.zb(13),m.hc("ngIf",e.isFileInvalid("Snils")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(13),m.hc("ngIf",e.isFileInvalid("Director")),m.zb(1),m.hc("ngIf",e.files.length)}}function yo(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",82),m.Qb(1,"label",126),m.Hc(2,"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0426\u0435\u043d\u0442\u0440 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"),m.Pb(),m.Qb(3,"p-dropdown",127),m.Xb("onChange",function(t){return m.yc(e),m.ac(3).setIDCenter(t)}),m.Pb(),m.Qb(4,"div"),m.Qb(5,"small",85),m.Hc(6," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043f\u043e\u0434\u0445\u043e\u0434\u044f\u0449\u0438\u0439 \u0440\u0435\u0433\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0439 \u0426\u0435\u043d\u0442\u0440 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac(3);m.zb(3),m.hc("options",e.idCenterList)}}function Io(e,t){if(1&e&&(m.Qb(0,"div",82),m.Qb(1,"p"),m.Hc(2),m.Lb(3,"br"),m.Hc(4),m.Lb(5,"br"),m.Hc(6),m.Lb(7,"br"),m.Hc(8),m.Lb(9,"br"),m.Pb(),m.Pb()),2&e){const e=m.ac(3);m.zb(2),m.Jc(" ",e.selectedIdCenter.name," "),m.zb(2),m.Jc(" \u0410\u0434\u0440\u0435\u0441: ",e.selectedIdCenter.address," "),m.zb(2),m.Jc(" \u0420\u0435\u0436\u0438\u043c \u0440\u0430\u0431\u043e\u0442\u044b: ",e.selectedIdCenter.schedule," "),m.zb(2),m.Kc(" \u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b: ",e.selectedIdCenter.email," ",e.selectedIdCenter.phone," ")}}function Fo(e,t){1&e&&(m.Qb(0,"div",117),m.Qb(1,"small",85),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Qo(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",120),m.Qb(1,"div",109),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",110),m.Qb(5,"div",121),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(5).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Co(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Qo,7,1,"div",119),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Passport"===e.Identifier)}}function Do(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Co,2,1,"ng-container",118),m.Pb()),2&e){const e=m.ac(4);m.zb(1),m.hc("ngForOf",e.files)}}function ko(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"div"),m.Qb(2,"div",108),m.Qb(3,"div",109),m.Qb(4,"p"),m.Hc(5," \u0421\u043a\u0430\u043d-\u043a\u043e\u043f\u0438\u044f \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u043a\u043b\u044e\u0447\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 "),m.Pb(),m.Pb(),m.Qb(6,"div",110),m.Qb(7,"input",128),m.Xb("change",function(t){return m.yc(e),m.ac(3).onSelect(t,"Passport")}),m.Pb(),m.Qb(8,"label",129),m.Lb(9,"i",113),m.Hc(10," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(11,Fo,3,0,"div",114),m.Pb(),m.Fc(12,Do,2,1,"div",34),m.Nb()}if(2&e){const e=m.ac(3);m.zb(11),m.hc("ngIf",e.isFileInvalid("Passport")),m.zb(1),m.hc("ngIf",e.files.length)}}function zo(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function So(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,zo,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.passportNumber.errors.required)}}function wo(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function xo(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,wo,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.passportDate.errors.required)}}function Oo(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function _o(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Oo,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.passportFrom.errors.required)}}function Eo(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ao(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Eo,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.passportCode.errors.required)}}function No(e,t){1&e&&(m.Qb(0,"small",85),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function To(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,No,2,0,"small",107),m.Pb()),2&e){const e=m.ac(2).formEDS;m.zb(1),m.hc("ngIf",e.controls.passportNationality.errors.required)}}function Lo(e,t){if(1&e){const e=m.Rb();m.Qb(0,"form",21),m.Xb("ngSubmit",function(){return m.yc(e),m.ac(2).onSubmit()}),m.Qb(1,"div",22),m.Qb(2,"button",9),m.Xb("click",function(){return m.yc(e),m.ac(2).back()}),m.Pb(),m.Pb(),m.Qb(3,"div",23),m.Qb(4,"div",24),m.Qb(5,"label",25),m.Hc(6,"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),m.Pb(),m.Lb(7,"p-dropdown",26),m.Pb(),m.Fc(8,xr,4,1,"div",27),m.Pb(),m.Qb(9,"div",23),m.Qb(10,"div",24),m.Qb(11,"label",28),m.Hc(12,"\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),m.Pb(),m.Lb(13,"input",29),m.Pb(),m.Qb(14,"div",24),m.Qb(15,"label",30),m.Hc(16,"\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),m.Pb(),m.Lb(17,"input",31),m.Pb(),m.Qb(18,"div",24),m.Qb(19,"label",32),m.Hc(20,"\u0418\u041d\u041d"),m.Pb(),m.Lb(21,"input",33),m.Fc(22,Er,3,2,"div",34),m.Pb(),m.Qb(23,"div",24),m.Qb(24,"label",35),m.Hc(25,"\u041a\u041f\u041f"),m.Pb(),m.Lb(26,"input",36),m.Fc(27,Nr,2,1,"div",34),m.Pb(),m.Qb(28,"div",24),m.Qb(29,"label",37),m.Hc(30,"\u041e\u0413\u0420\u041d"),m.Pb(),m.Lb(31,"input",38),m.Fc(32,Lr,2,1,"div",34),m.Pb(),m.Qb(33,"div",24),m.Qb(34,"label",39),m.Hc(35,"\u041e\u041a\u041f\u041e"),m.Pb(),m.Lb(36,"input",40),m.Fc(37,Br,2,1,"div",34),m.Pb(),m.Qb(38,"div",24),m.Qb(39,"label",41),m.Hc(40,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),m.Pb(),m.Lb(41,"p-inputMask",42),m.Fc(42,Mr,2,1,"div",34),m.Pb(),m.Qb(43,"div",24),m.Qb(44,"label",43),m.Hc(45,"E-mail"),m.Pb(),m.Lb(46,"input",44),m.Fc(47,$r,3,2,"div",34),m.Pb(),m.Qb(48,"div",45),m.Qb(49,"label",46),m.Hc(50,"\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430"),m.Pb(),m.Lb(51,"input",47),m.Fc(52,Gr,2,1,"div",34),m.Pb(),m.Qb(53,"div",45),m.Qb(54,"label",48),m.Hc(55,"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),m.Pb(),m.Qb(56,"div",49),m.Lb(57,"input",50),m.Qb(58,"button",51),m.Xb("click",function(){return m.yc(e),m.ac(2).openAddressForm("organizationLegalAddress")}),m.Pb(),m.Pb(),m.Qb(59,"div",52),m.Qb(60,"p-checkbox",53),m.Xb("onChange",function(){return m.yc(e),m.ac(2).isAddressEqual("organizationLegalAddress")}),m.Pb(),m.Qb(61,"label",54),m.Hc(62," \u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u043c"),m.Pb(),m.Pb(),m.Pb(),m.Qb(63,"div",45),m.Qb(64,"label",55),m.Hc(65,"\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441"),m.Pb(),m.Qb(66,"div",56),m.Lb(67,"input",57),m.Qb(68,"button",51),m.Xb("click",function(){return m.yc(e),m.ac(2).openAddressForm("organizationActualAddress")}),m.Pb(),m.Pb(),m.Qb(69,"div",52),m.Qb(70,"p-checkbox",58),m.Xb("onChange",function(){return m.yc(e),m.ac(2).isAddressEqual("organizationActualAddress")}),m.Pb(),m.Qb(71,"label",59),m.Hc(72,"\u041f\u043e\u0447\u0442\u043e\u0432\u044b\u0439 \u0430\u0434\u0440\u0435\u0441 \u0441\u043e\u0432\u043f\u0430\u0434\u0430\u0435\u0442 \u0441 \u044e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u043c"),m.Pb(),m.Pb(),m.Pb(),m.Fc(73,to,29,4,"ng-container",34),m.Qb(74,"div",60),m.Qb(75,"h1"),m.Hc(76," \u0414\u0430\u043d\u043d\u044b\u0435 \u043e \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 "),m.Pb(),m.Qb(77,"p",61),m.Hc(78,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442 \u043c\u043e\u0436\u0435\u0442 \u0431\u044b\u0442\u044c \u0438\u0437\u0434\u0430\u043d \u0442\u043e\u043b\u044c\u043a\u043e \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0435\u0433\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f, \u043b\u0438\u0447\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u044f\u044e\u0449\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0438\u0437\u0434\u0430\u043d\u0438\u0435 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430!"),m.Pb(),m.Pb(),m.Qb(79,"div",24),m.Qb(80,"label",62),m.Hc(81,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),m.Pb(),m.Lb(82,"input",63),m.Fc(83,no,2,1,"div",34),m.Pb(),m.Qb(84,"div",24),m.Qb(85,"label",64),m.Hc(86,"\u0418\u043c\u044f"),m.Pb(),m.Lb(87,"input",65),m.Fc(88,oo,2,1,"div",34),m.Pb(),m.Qb(89,"div",24),m.Qb(90,"label",66),m.Hc(91,"\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e"),m.Pb(),m.Lb(92,"input",67),m.Fc(93,so,2,1,"div",34),m.Pb(),m.Qb(94,"div",24),m.Qb(95,"label",68),m.Hc(96,"\u041f\u043e\u043b"),m.Pb(),m.Lb(97,"p-dropdown",69),m.Pb(),m.Qb(98,"div",24),m.Qb(99,"label",70),m.Hc(100,"\u0421\u041d\u0418\u041b\u0421"),m.Pb(),m.Lb(101,"input",71),m.Pb(),m.Qb(102,"div",24),m.Qb(103,"label",72),m.Hc(104,"\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(105,"input",73),m.Pb(),m.Qb(106,"div",24),m.Qb(107,"label",74),m.Hc(108,"\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(109,"input",75),m.Pb(),m.Qb(110,"div",24),m.Qb(111,"label",76),m.Hc(112,"\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),m.Pb(),m.Lb(113,"input",77),m.Pb(),m.Qb(114,"div",45),m.Qb(115,"label",78),m.Hc(116,"\u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c"),m.Pb(),m.Lb(117,"p-dropdown",79),m.Pb(),m.Qb(118,"div",45),m.Qb(119,"label",80),m.Hc(120,"E-mail"),m.Pb(),m.Lb(121,"input",81),m.Fc(122,lo,2,1,"div",34),m.Pb(),m.Pb(),m.Qb(123,"div",23),m.Fc(124,Po,29,4,"ng-container",34),m.Pb(),m.Qb(125,"div",23),m.Qb(126,"div",82),m.Qb(127,"label",83),m.Hc(128,"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0433\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435"),m.Pb(),m.Qb(129,"p-dropdown",84),m.Xb("onChange",function(t){return m.yc(e),m.ac(2).selectGeoPosition(t)}),m.Pb(),m.Qb(130,"div"),m.Qb(131,"small",85),m.Hc(132," \u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0412\u0430\u0448\u0435 \u0433\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u0434\u043b\u044f \u0432\u044b\u0431\u043e\u0440\u0430 \u0431\u043b\u0438\u0436\u0430\u0439\u0448\u0438\u0445 \u0426\u0435\u043d\u0442\u0440\u043e\u0432 \u0438\u0434\u0435\u043d\u0442\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438 "),m.Pb(),m.Pb(),m.Pb(),m.Fc(133,yo,7,1,"div",86),m.Fc(134,Io,10,5,"div",86),m.Qb(135,"div",60),m.Qb(136,"div",87),m.Qb(137,"div",88),m.Qb(138,"h1"),m.Hc(139,"\u041f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0432\u043b\u0430\u0434\u0435\u043b\u044c\u0446\u0430 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"),m.Pb(),m.Qb(140,"p",61),m.Hc(141,"\u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u0430\u0441\u043f\u043e\u0440\u0442\u043d\u044b\u0435 \u0434\u0430\u043d\u043d\u044b\u0435"),m.Pb(),m.Pb(),m.Fc(142,ko,13,2,"ng-container",34),m.Pb(),m.Pb(),m.Qb(143,"div",24),m.Qb(144,"label",89),m.Hc(145,"\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442"),m.Pb(),m.Lb(146,"input",90),m.Fc(147,So,2,1,"div",34),m.Pb(),m.Qb(148,"div",24),m.Qb(149,"label",91),m.Hc(150,"\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438"),m.Pb(),m.Lb(151,"input",92),m.Fc(152,xo,2,1,"div",34),m.Pb(),m.Qb(153,"div",24),m.Qb(154,"label",93),m.Hc(155,"\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d"),m.Pb(),m.Lb(156,"input",94),m.Fc(157,_o,2,1,"div",34),m.Pb(),m.Qb(158,"div",24),m.Qb(159,"label",95),m.Hc(160,"\u041a\u043e\u0434 \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(161,"input",96),m.Fc(162,Ao,2,1,"div",34),m.Pb(),m.Qb(163,"div",24),m.Qb(164,"label",97),m.Hc(165,"\u0413\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e"),m.Pb(),m.Lb(166,"p-dropdown",98),m.Fc(167,To,2,1,"div",34),m.Pb(),m.Qb(168,"div",60),m.Qb(169,"h1"),m.Hc(170,"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435!"),m.Pb(),m.Pb(),m.Qb(171,"div",99),m.Qb(172,"p"),m.Hc(173,"1. \u041f\u0435\u0440\u0435\u0434 \u0442\u0435\u043c \u043a\u0430\u043a \u043e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f, \u0441\u043a\u0430\u0447\u0430\u0439\u0442\u0435 \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u0432\u044b\u0434\u0430\u0447\u0443 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430 \u0438 \u0440\u0430\u0441\u043f\u0435\u0447\u0430\u0442\u0430\u0439\u0442\u0435 \u0435\u0451 \u043d\u0430 \u043f\u0440\u0438\u043d\u0442\u0435\u0440\u0435. \u041e\u043d\u0430 \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0412\u0430\u043c \u043f\u043e\u043d\u0430\u0434\u043e\u0431\u0438\u0442\u0441\u044f \u043f\u0440\u0438 \u0441\u0432\u0435\u0440\u043a\u0435 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u043f\u0440\u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430!"),m.Pb(),m.Qb(174,"button",100),m.Xb("click",function(){return m.yc(e),m.ac(2).getDigitalSignatureRequest()}),m.Pb(),m.Pb(),m.Qb(175,"p"),m.Hc(176,"2. \u041f\u043e\u0441\u043b\u0435 \u0443\u0441\u043f\u0435\u0448\u043d\u043e\u0433\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u043d\u0430 \u042d\u0426\u041f, \u0434\u043e\u0436\u0434\u0438\u0442\u0435\u0441\u044c \u043f\u0440\u0438\u0433\u043b\u0430\u0448\u0435\u043d\u0438\u044f \u043e\u0442 \u041a\u0430\u043b\u0443\u0433\u0438-\u0410\u0441\u0442\u0440\u0430\u043b (\u043f\u043e e-mail) \u0432 "),m.Qb(177,"a",101),m.Hc(178," \u043e\u0434\u0438\u043d \u0438\u0437 \u0446\u0435\u043d\u0442\u0440\u043e\u0432 \u0432\u044b\u0434\u0430\u0447\u0438 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u043e\u0432"),m.Pb(),m.Hc(179," \u0434\u043b\u044f \u0441\u0432\u0435\u0440\u043a\u0438 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u0432 \u0438 \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u0438\u044f \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"),m.Pb(),m.Qb(180,"p"),m.Hc(181,'\u0412\u044b \u043c\u043e\u0436\u0435\u0442\u0435 \u0441\u043b\u0435\u0434\u0438\u0442\u044c \u0437\u0430 \u0441\u043e\u0441\u0442\u043e\u044f\u043d\u0438\u0435\u043c \u0412\u0430\u0448\u0435\u0433\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0430 \u0438\u0437 \u043b\u0438\u0447\u043d\u043e\u0433\u043e \u043a\u0430\u0431\u0438\u043d\u0435\u0442\u0430 \u043f\u043e \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0443 \u0432 \u0440\u0430\u0437\u0434\u0435\u043b\u0435 "\u0417\u0430\u043f\u0440\u043e\u0441\u044b"'),m.Pb(),m.Qb(182,"div",82),m.Qb(183,"label",102),m.Hc(184,"\xa0"),m.Pb(),m.Lb(185,"button",103),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().formEDS,t=m.ac();m.hc("formGroup",e),m.zb(7),m.hc("options",t.organizationTypes),m.zb(1),m.hc("ngIf",1===e.value.organizationType),m.zb(14),m.hc("ngIf",e.controls.organizationINN.invalid),m.zb(5),m.hc("ngIf",e.controls.organizationKPP.invalid),m.zb(5),m.hc("ngIf",e.controls.organizationOGRN.invalid),m.zb(5),m.hc("ngIf",e.controls.organizationOKPO.invalid),m.zb(5),m.hc("ngIf",e.controls.organizationPhone.invalid),m.zb(5),m.hc("ngIf",e.controls.organizationEmail.invalid),m.zb(5),m.hc("ngIf",e.controls.organizationWEB.invalid),m.zb(21),m.hc("ngIf",!t.isEdit),m.zb(10),m.hc("ngIf",e.controls.ownerSurname.invalid),m.zb(5),m.hc("ngIf",e.controls.ownerName.invalid),m.zb(5),m.hc("ngIf",e.controls.ownerMiddlename.invalid),m.zb(4),m.hc("disabled",!0)("options",t.genderTypes),m.zb(20),m.hc("options",t.postList),m.zb(5),m.hc("ngIf",e.controls.ownerEmail.invalid),m.zb(2),m.hc("ngIf",!t.isEdit),m.zb(5),m.hc("options",t.regionList),m.zb(4),m.hc("ngIf",e.value.ownerGeoPosition),m.zb(1),m.hc("ngIf",e.value.ownerIdCenter),m.zb(8),m.hc("ngIf",!t.isEdit),m.zb(5),m.hc("ngIf",e.controls.passportNumber.invalid),m.zb(5),m.hc("ngIf",e.controls.passportDate.invalid),m.zb(5),m.hc("ngIf",e.controls.passportFrom.invalid),m.zb(5),m.hc("ngIf",e.controls.passportCode.invalid),m.zb(4),m.hc("options",t.countryList),m.zb(1),m.hc("ngIf",e.controls.passportNationality.invalid),m.zb(18),m.hc("disabled",e.invalid||t.isFilesInvalid())}}function Ho(e,t){if(1&e&&(m.Fc(0,wr,2,0,"ng-container",6),m.Fc(1,Lo,186,30,"ng-template",null,20,m.Gc)),2&e){const e=m.vc(2),t=m.ac();m.hc("ngIf",t.isLoading)("ngIfElse",e)}}const Bo=function(e){return{"card-content":e}};let Ro=(()=>{class e{constructor(e,t,i,n,r,o,a,s,c){this.dialogService=e,this.authService=t,this.messageService=i,this.fb=n,this.commonService=r,this.fileService=o,this.route=a,this.router=s,this.demandService=c,this.isEdit=!1,this.alertMessage=[],this.files=[],this.organizationTypes=[{title:"\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u043b\u0438\u0446\u043e",value:1},{title:"\u0418\u041f",value:2}],this.ruleTypes=[{title:"\u041e\u041e\u041e",value:"\u041e\u041e\u041e"},{title:"\u0417\u0410\u041e",value:"\u0417\u0410\u041e"},{title:"\u041f\u0410\u041e",value:"\u041f\u0410\u041e"},{title:"\u041e\u0410\u041e",value:"\u041e\u0410\u041e"},{title:"\u041d\u0410\u041e",value:"\u041d\u0410\u041e"},{title:"\u0410\u041e",value:"\u0410\u041e"}],this.postionTypes=[{title:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440",value:"\u0414\u0438\u0440\u0435\u043a\u0442\u043e\u0440"}],this.genderTypes=[{title:"\u0416\u0435\u043d\u0441\u043a\u0438\u0439",value:0},{title:"\u041c\u0443\u0436\u0441\u043a\u043e\u0439",value:1}],this.locationTypes=[{title:"\u0420\u043e\u0441\u0441\u0438\u044f",value:"\u0420\u043e\u0441\u0441\u0438\u044f"}],this.currentDraftId=0,this.subscription$=new C.a,this.postList=[],this.countryList=[],this.regionList=[],this.idCenterList=[]}ngOnInit(){this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.subscription$.add(this.route.queryParams.subscribe(e=>{this.isView="true"===e.View,e.ID&&"false"===e.Edit?this.fetch(e.ID):(this.isLoading=!0,this.getDraft())})),this.initAdditionalData(),this._saveDraftAction$=setInterval(()=>this.saveDraft(),3e4)}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}ngOnDestroy(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}getDigitalSignatureRequest(){this.demandService.getDigitalSignatureRequest(this.prepareCoreData()).subscribe(e=>{let t=[];t.push(e);let i=document.createElement("a");i.href=window.URL.createObjectURL(new Blob(t,{type:"application/msword"})),i.setAttribute("download","\u0417\u0430\u044f\u0432\u043a\u0430 \u043d\u0430 \u0432\u044b\u0434\u0430\u0447\u0443 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430"),document.body.appendChild(i),i.click()})}saveDraft(){let e=this.prepareDraft();this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,e).subscribe(e=>{this.currentDraftId=e.ID,this.showSuccess()}))}initForm(){this.formEDS=this.fb.group({organizationType:[1],organizationLegalForm:[""],organizationShortName:["",[S.x.required]],organizationFullName:["",[S.x.required]],organizationINN:["",[S.x.required]],organizationKPP:["",[S.x.required]],organizationOGRN:["",[S.x.required]],organizationOKPO:["",[S.x.required]],organizationPhone:["",[S.x.required]],organizationEmail:["",[S.x.required]],organizationWEB:["",[S.x.required]],organizationLegalAddress:this.fb.group({displayAddress:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f, 77 \u041c\u043e\u0441\u043a\u0432\u0430",factoringPlacesAddress:{PostCode:"",Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:77,RegionTitle:"",City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:"",Locality:"",Street:"",House:"",Appartment:""}}),organizationIsActualAdressEqual:[!1],organizationActualAddress:this.fb.group({displayAddress:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f, 77 \u041c\u043e\u0441\u043a\u0432\u0430",factoringPlacesAddress:{PostCode:"",Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:77,RegionTitle:"",City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:"",Locality:"",Street:"",House:"",Appartment:""}}),organizationIsLegalAdressEqual:[!1],ownerSurname:["",[S.x.required]],ownerName:["",[S.x.required]],ownerMiddlename:["",[S.x.required]],ownerGender:[0,[S.x.required]],ownerSNILS:["",[S.x.required]],ownerDateBurn:["",[S.x.required]],ownerPlaceBurn:["",[S.x.required]],ownerPhone:["",[S.x.required]],ownerWorkPosition:["",[S.x.required]],ownerEmail:["",[S.x.required]],ownerGeoPosition:[""],ownerIdCenter:[""],passportNumber:["",[S.x.required]],passportDate:["",[S.x.required]],passportFrom:["",[S.x.required]],passportCode:["",[S.x.required]],passportNationality:["",[S.x.required]]})}onSubmit(){console.log(this.formEDS.value),this.subscription$.add(this.demandService.add(this.prepareData()).subscribe(e=>{this.alert=!0,this.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}prepareDraft(){return this.prepareCoreData()}prepareData(){let e=this.prepareCoreData();return{DraftID:this.currentDraftId,Data:e}}prepareCoreData(){return{Files:this.files,Organization:{Email:"",FactAddress:this.formEDS.value.organizationActualAddress,FactAddressEquals:this.formEDS.value.organizationIsActualAdressEqual,ForeignTitle:"",FullTitle:"",LegalAddress:this.formEDS.value.organizationLegalAddress.factoringPlacesAddress,LegalForm:this.formEDS.value.organizationLegalForm,Phone:this.formEDS.value.organizationPhone,PostAddress:this.formEDS.value.organizationLegalAddress.factoringPlacesAddress,PostAddressEquals:this.formEDS.value.organizationIsLegalAdressEqual,Requisites:{INN:this.formEDS.value.organizationINN,KPP:this.formEDS.value.organizationKPP,OGRN:this.formEDS.value.organizationOGRN,OKATO:"",OKPO:this.formEDS.value.organizationOKPO},ShortTitle:this.formEDS.value.organizationShortName,Type:this.formEDS.value.organizationType,Website:this.formEDS.value.organizationWEB},Passport:{Date:this.formEDS.value.passportDate,IsForeign:!1,IssuerCode:this.formEDS.value.passportCode,IssuerTitle:this.formEDS.value.passportFrom,Nationality:this.formEDS.value.passportNationality,Number:this.formEDS.value.passportNumber},Person:{Name:{First:"",Last:"",Second:""},NameFirst:this.formEDS.value.ownerName,NameLast:this.formEDS.value.ownerSurname,NameSecond:this.formEDS.value.ownerMiddlename,Gender:this.formEDS.value.ownerGender,SNILS:this.formEDS.value.ownerSNILS,BirthDate:this.formEDS.value.valueownerDateBurn,BirthPlace:this.formEDS.value.ownerPlaceBurn,Phone:this.formEDS.value.ownerPhone,Email:this.formEDS.value.ownerEmail},PersonPosition:this.formEDS.value.ownerWorkPosition,Type:"DigitalSignature"}}onSelect(e,t){let i=e.target.files;for(let n of i){let e=k.a.newGuid();this.subscription$.add(this.commonService.getBase64(n).pipe(Object(u.a)(t=>this.fileService.uploadFileChunks(t,n.name,n.size.toString(),e))).subscribe(e=>{console.log(e),this.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:t})},e=>console.log(e)))}}removeFile(e){this.files.splice(this.files.indexOf(this.files.find(t=>t===e)),1)}selectGeoPosition(e){this.commonService.getIdCenters(e.value).subscribe(e=>{this.idCenterList=e})}setIDCenter(e){this.selectedIdCenter=this.idCenterList.find(t=>t.guid===e.value)}handleSendMessage(e){this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(e=>{this.fetch(this.currentDemand.ID)}))}handleRemoveFile(e){this.currentDemand.Files=this.currentDemand.Files.filter(t=>t!==e)}isFileInvalid(e){let t=!1;return t=!this.files.map(e=>e.Identifier).includes(e),t}isFilesInvalid(){let e=!1,t=this.files.map(e=>e.Identifier);return t.length<1||(e=!(t.includes("Inn")&&t.includes("Ogrn")&&t.includes("Snils")&&t.includes("Director")&&t.includes("Passport")),e)}isAddressEqual(e){"organizationLegalAddress"===e&&(this.formEDS.controls.organizationActualAddress.patchValue({factoringPlacesAddress:this.formEDS.value.organizationLegalAddress.factoringPlacesAddress}),this.updateDisplayAddress("organizationActualAddress")),"organizationActualAddress"===e&&(this.formEDS.controls.organizationLegalAddress.patchValue({factoringPlacesAddress:this.formEDS.value.organizationActualAddress.factoringPlacesAddress}),this.updateDisplayAddress("organizationLegalAddress"))}openAddressForm(e){this.ref=this.dialogService.open(N,{header:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441",width:"650px",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,styleClass:"p-fluid",data:{address:this.formEDS.value[e].factoringPlacesAddress}}),this.ref.onClose.subscribe(t=>{t&&(this.formEDS.value[e].factoringPlacesAddress=t,this.updateDisplayAddress(e))})}updateDisplayAddress(e){let t=this.formEDS.value[e].factoringPlacesAddress,i="";console.log(t),t.PostCode&&(i=i+" "+t.PostCode),t.Country&&(i=i+" "+t.Country),t.RegionCode&&(i=i+" "+t.RegionCode),t.RegionTitle&&(i=i+" "+t.RegionTitle),t.City&&(i=i+" "+t.City),t.District&&(i=i+" "+t.District),t.Locality&&(i=i+" "+t.Locality),t.Street&&(i=i+" "+t.Street),t.House&&(i=i+" "+t.House),t.Appartment&&(i=i+" "+t.Appartment),this.formEDS.controls[e].patchValue({displayAddress:i,factoringPlacesAddress:t})}getDraft(){this.subscription$.add(this.demandService.prepareDemandByType("DigitalSignature").subscribe(e=>{this.currentDemand=e,this.convertToFormData(),this.isLoading=!1}))}fetch(e){this.subscription$.add(this.demandService.getDemandById(e).subscribe(e=>{this.currentDemand=e,this.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(this.currentDemand),this.isEdit=!0,this.convertToFormData()}))}convertToFormData(){var e,t,i,n,r,o,a,s,c,l;console.log(this.currentDemand);const d=this.currentDemand.Organization,b=this.currentDemand.Passport,u=this.currentDemand.Person;this.formEDS.patchValue({organizationType:(null==d?void 0:d.Type)?null==d?void 0:d.Type:"",organizationLegalForm:(null==d?void 0:d.LegalForm)?null==d?void 0:d.LegalForm:"",organizationShortName:(null==d?void 0:d.ShortTitle)?null==d?void 0:d.ShortTitle:"",organizationFullName:(null==d?void 0:d.FullTitle)?null==d?void 0:d.FullTitle:"",organizationINN:(null===(e=null==d?void 0:d.Requisites)||void 0===e?void 0:e.INN)?null===(t=null==d?void 0:d.Requisites)||void 0===t?void 0:t.INN:"",organizationKPP:(null===(i=null==d?void 0:d.Requisites)||void 0===i?void 0:i.KPP)?null===(n=null==d?void 0:d.Requisites)||void 0===n?void 0:n.KPP:"",organizationOGRN:(null===(r=null==d?void 0:d.Requisites)||void 0===r?void 0:r.OGRN)?null===(o=null==d?void 0:d.Requisites)||void 0===o?void 0:o.OGRN:"",organizationOKPO:(null===(a=null==d?void 0:d.Requisites)||void 0===a?void 0:a.OKPO)?null===(s=null==d?void 0:d.Requisites)||void 0===s?void 0:s.OKPO:"",organizationPhone:(null==d?void 0:d.Phone)?null==d?void 0:d.Phone:"",organizationEmail:(null==d?void 0:d.Email)?null==d?void 0:d.Email:"",organizationWEB:(null==d?void 0:d.Website)?null==d?void 0:d.Website:"",organizationIsActualAdressEqual:(null==d?void 0:d.FactAddressEquals)?null==d?void 0:d.FactAddressEquals:"",organizationIsLegalAdressEqual:(null==d?void 0:d.PostAddressEquals)?null==d?void 0:d.PostAddressEquals:"",ownerSurname:(null==u?void 0:u.NameLast)?null==u?void 0:u.NameLast:"",ownerName:(null==u?void 0:u.NameFirst)?null==u?void 0:u.NameFirst:"",ownerMiddlename:(null==u?void 0:u.NameSecond)?null==u?void 0:u.NameSecond:"",ownerGender:(null==u?void 0:u.Gender)?null==u?void 0:u.Gender:"",ownerSNILS:(null==u?void 0:u.SNILS)?null==u?void 0:u.SNILS:"",ownerDateBurn:(null==u?void 0:u.BirthDate)?Object(D.x)(null==u?void 0:u.BirthDate,"yyyy-MM-dd","en"):"",ownerPlaceBurn:(null==u?void 0:u.BirthPlace)?null==u?void 0:u.BirthPlace:"",ownerPhone:(null==u?void 0:u.Phone)?null==u?void 0:u.Phone:"",ownerWorkPosition:(null===(c=this.currentDemand)||void 0===c?void 0:c.PersonPosition)?null===(l=this.currentDemand)||void 0===l?void 0:l.PersonPosition:"",ownerEmail:(null==u?void 0:u.Email)?null==u?void 0:u.Email:"",passportNumber:(null==b?void 0:b.Number)?null==b?void 0:b.Number:"",passportDate:(null==b?void 0:b.Date)?Object(D.x)(b.Date,"yyyy-MM-dd","en"):"",passportFrom:(null==b?void 0:b.IssuerTitle)?null==b?void 0:b.IssuerTitle:"",passportCode:(null==b?void 0:b.IssuerCode)?null==b?void 0:b.IssuerCode:"",passportNationality:(null==b?void 0:b.Nationality)?b.Nationality:""}),this.formEDS.controls.organizationActualAddress.patchValue({displayAddress:this.getDisplayAddress(null==d?void 0:d.FactAddress),factoringPlacesAddress:null==d?void 0:d.FactAddress})}getDisplayAddress(e){return""}initAdditionalData(){this.subscription$.add(this.commonService.getPosts().subscribe(e=>{this.postList=e})),this.subscription$.add(this.commonService.getCountries().subscribe(e=>{this.countryList=e})),this.subscription$.add(this.commonService.getRegions().subscribe(e=>{this.regionList=e}))}showSuccess(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(O.a),m.Kb(T.a),m.Kb(L.g),m.Kb(S.d),m.Kb(H.a),m.Kb(B.a),m.Kb(I.a),m.Kb(I.f),m.Kb(P))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-eds-page"]],decls:14,vars:8,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],["contentTemplate",""],[3,"formGroup","ngSubmit"],[1,"form-actions"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-3"],["for","organizationType"],["id","organizationType","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationType","optionLabel","title","optionValue","value",3,"options"],["class","p-field p-col-12 p-md-9",4,"ngIf"],["for","organizationShortName"],["id","organizationShortName","type","text","pInputText","","placeholder","\u041a\u0440\u0430\u0442\u043a\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationShortName"],["for","organizationFullName"],["id","organizationFullName","type","text","pInputText","","placeholder","\u041f\u043e\u043b\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationFullName"],["for","organizationINN"],["id","organizationINN","type","text","pInputText","","placeholder","\u0418\u041d\u041d","minlength","10","maxlength","12","formControlName","organizationINN"],[4,"ngIf"],["for","organizationKPP"],["id","organizationKPP","type","text","pInputText","","placeholder","\u041a\u041f\u041f","formControlName","organizationKPP"],["for","organizationOGRN"],["id","organizationOGRN","type","text","pInputText","","placeholder","\u041e\u0413\u0420\u041d","formControlName","organizationOGRN"],["for","organizationOKPO"],["id","organizationOKPO","type","text","pInputText","","placeholder","\u041e\u041a\u041f\u041e","formControlName","organizationOKPO"],["for","organizationPhone"],["id","organizationPhone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","organizationPhone","mask","+7-999-999-99-99"],["for","organizationEmail"],["id","organizationEmail","type","email","pInputText","","placeholder","E-mail","formControlName","organizationEmail"],[1,"p-field","p-col-12","p-md-6"],["for","organizationWEB"],["id","organizationWEB","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430","formControlName","organizationWEB"],["for","organizationLegalAddress"],["formGroupName","organizationLegalAddress",1,"addon-button","p-mb-2"],["id","organizationLegalAddress","type","text","pInputText","","placeholder","\u042e\u0440\u0438\u0434\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441","disabled","","formControlName","displayAddress"],["pButton","","pRipple","","type","button","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","small",3,"click"],[1,"p-field-checkbox"],["formControlName","organizationIsActualAdressEqual","binary","true","inputId","organizationIsActualAdressEqual",3,"onChange"],["for","organizationIsActualAdressEqual"],["for","organizationActualAddress"],["formGroupName","organizationActualAddress",1,"addon-button","p-mb-2"],["id","organizationActualAddress","type","text","pInputText","","placeholder","\u0424\u0430\u043a\u0442\u0438\u0447\u0435\u0441\u043a\u0438\u0439 \u0430\u0434\u0440\u0435\u0441","disabled","","formControlName","displayAddress"],["formControlName","organizationIsLegalAdressEqual","binary","true","inputId","organizationIsLegalAdressEqual",3,"onChange"],["for","organizationIsLegalAdressEqual"],[1,"p-col-12"],[1,"description"],["for","ownerSurname"],["id","ownerSurname","type","text","pInputText","","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f","disabled","","formControlName","ownerSurname"],["for","ownerName"],["id","ownerName","disabled","","type","text","pInputText","","placeholder","\u0418\u043c\u044f","formControlName","ownerName"],["for","ownerMiddlename"],["id","ownerMiddlename","type","text","pInputText","","placeholder","\u041e\u0442\u0447\u0435\u0441\u0442\u0432\u043e","formControlName","ownerMiddlename"],["for","ownerGender"],["id","ownerGender","formControlName","ownerGender","optionLabel","title","optionValue","value",3,"disabled","options"],["for","ownerSNILS"],["id","ownerSNILS","type","text","pInputText","","placeholder","\u0421\u041d\u0418\u041b\u0421","formControlName","ownerSNILS"],["for","ownerDateBurn"],["id","ownerDateBurn","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f","formControlName","ownerDateBurn"],["for","ownerPlaceBurn"],["id","ownerPlaceBurn","type","text","pInputText","","placeholder","\u041c\u0435\u0441\u0442\u043e \u0440\u043e\u0436\u0434\u0435\u043d\u0438\u044f","formControlName","ownerPlaceBurn"],["for","ownerPhone"],["id","ownerPhone","disabled","","type","tel","pInputText","","placeholder","\u041c\u043e\u0431\u0438\u043b\u044c\u043d\u044b\u0439 \u0442\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","ownerPhone"],["for","ownerWorkPosition"],["id","ownerWorkPosition","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0414\u043e\u043b\u0436\u043d\u043e\u0441\u0442\u044c","formControlName","ownerWorkPosition","optionLabel","Title","optionValue","Title",3,"options"],["for","ownerEmail"],["id","ownerEmail","type","email","pInputText","","disabled","","placeholder","E-mail","formControlName","ownerEmail"],[1,"p-field","p-col-12","p-md-12"],["for","ownerGeoPosition"],["id","ownerGeoPosition","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","formControlName","ownerGeoPosition","optionLabel","Title","optionValue","Code",3,"options","onChange"],[1,"p-error"],["class","p-field p-col-12 p-md-12",4,"ngIf"],[1,"d-flex","passport-confirm"],[1,"passport-owner"],["for","passportNumber"],["id","passportNumber","type","text","pInputText","","placeholder","\u0421\u0435\u0440\u0438\u044f \u0438 \u043d\u043e\u043c\u0435\u0440 \u043f\u0430\u0441\u043f\u043e\u0440\u0442","formControlName","passportNumber"],["for","passportDate"],["id","passportDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0432\u044b\u0434\u0430\u0447\u0438","formControlName","passportDate"],["for","passportFrom"],["id","passportFrom","type","text","pInputText","","placeholder","\u041a\u0435\u043c \u0432\u044b\u0434\u0430\u043d","formControlName","passportFrom"],["for","passportCode"],["id","passportCode","type","text","pInputText","","placeholder","\u041a\u0435\u043c \u043f\u043e\u0434\u0440\u0430\u0437\u0434\u0435\u043b\u0435\u043d\u0438\u044f","formControlName","passportCode"],["for","passportNationality"],["id","passportNationality","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0440\u0430\u0436\u0434\u0430\u043d\u0441\u0442\u0432\u043e","formControlName","passportNationality","optionLabel","Title","optionValue","Identifier",3,"options"],[1,"d-flex","p-justify-between"],["pButton","","pRipple","","type","button","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u0437\u0430\u044f\u0432\u043a\u0443 \u043d\u0430 \u0432\u044b\u0434\u0430\u0447\u0443 \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0430",1,"btn-mib-submit","btn-attention",3,"click"],["href","https://astral.ru/","target","_blank"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"p-field","p-col-12","p-md-9"],["for","organizationLegalForm"],["id","organizationLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443","formControlName","organizationLegalForm","optionLabel","title","optionValue","value",3,"options"],["class","p-error",4,"ngIf"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Inn","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Inn",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],["type","file","id","Ogrn","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Ogrn",1,"mib-upload"],[1,"mib-uploader__error"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"],["type","file","id","Snils","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Snils",1,"mib-upload"],["type","file","id","Director","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Director",1,"mib-upload"],["for","ownerIdCenter"],["id","ownerIdCenter","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0433\u0435\u043e\u0433\u0440\u0430\u0444\u0438\u0447\u0435\u0441\u043a\u043e\u0435 \u0440\u0430\u0441\u043f\u043e\u043b\u043e\u0436\u0435\u043d\u0438\u0435","formControlName","ownerIdCenter","optionLabel","name","optionValue","guid",3,"options","onChange"],["type","file","id","Passport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","Passport",1,"mib-upload"]],template:function(e,t){if(1&e&&(m.Lb(0,"p-toast"),m.Qb(1,"div",0),m.Qb(2,"div",1),m.Qb(3,"div",2),m.Qb(4,"h2"),m.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f"),m.Pb(),m.Pb(),m.Qb(6,"div",3),m.Fc(7,Fr,1,0,"button",4),m.Pb(),m.Pb(),m.Qb(8,"p-messages",5),m.Xb("valueChange",function(e){return t.alertMessage=e}),m.Pb(),m.Fc(9,kr,9,7,"ng-container",6),m.Fc(10,Sr,1,4,"ng-template",null,7,m.Gc),m.Fc(12,Ho,3,2,"ng-template",null,8,m.Gc),m.Pb()),2&e){const e=m.vc(11);m.zb(1),m.hc("ngClass",m.mc(6,Bo,t.isUserVerified)),m.zb(6),m.hc("ngIf",t.isEdit),m.zb(1),m.hc("value",t.alertMessage)("enableService",!1),m.zb(1),m.hc("ngIf",t.isEdit)("ngIfElse",e)}},directives:[R.a,D.l,D.n,M.a,A.b,q.b,q.a,de,D.s,ue,he,S.y,S.q,S.h,E.a,S.p,S.f,S.b,_.a,S.l,S.k,pe.a,S.i,Ir.a,D.m],styles:[".description[_ngcontent-%COMP%]{font-family:Ubuntu;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#989898}.small[_ngcontent-%COMP%]{padding:5px!important;width:100px!important}.addon-text[_ngcontent-%COMP%]{border:1px solid #c4c4c4;width:100%;height:39px;border-radius:10px;padding:10px}[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}.passport-confirm[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;margin-bottom:20px}.btn-attention[_ngcontent-%COMP%]{max-width:280px;font-size:14px;padding:15px 0!important}.passport-owner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0!important}.passport-owner[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:10px!important}"]}),e})();function Mo(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",62),m.Xb("click",function(){return m.yc(e),m.ac().onBack()}),m.Pb()}}function qo(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function jo(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,qo,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationShortName.errors.required)}}function $o(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Uo(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0418\u041d\u041d (10 \u0438\u043b\u0438 12 \u0446\u0438\u0444\u0440). "),m.Pb())}function Go(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,$o,2,0,"small",63),m.Fc(2,Uo,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationINN.errors.required),m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationINN.errors.minlength)}}function Vo(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Xo(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Vo,2,0,"small",63),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationLegalForm.errors.required)}}function Ko(e,t){if(1&e&&(m.Qb(0,"div",4),m.Qb(1,"label",65),m.Hc(2,"\u041f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430"),m.Pb(),m.Lb(3,"p-dropdown",66),m.Fc(4,Xo,2,1,"div",7),m.Pb()),2&e){const e=m.ac();m.zb(3),m.hc("options",e.ruleTypes),m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationLegalForm.invalid)}}function Wo(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Zo(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Wo,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationPhone.errors.required)}}function Jo(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Yo(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443. "),m.Pb())}function ea(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Jo,2,0,"small",63),m.Fc(2,Yo,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationEmail.errors.required),m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationEmail.errors.email)}}function ta(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ia(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ta,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationWEB.errors.required)}}function na(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0411\u0418\u041a \u0431\u0430\u043d\u043a\u0430 (9 \u0446\u0438\u0444\u0440). "),m.Pb())}function ra(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,na,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankBik.errors.required)}}function oa(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u0440 \u0441\u0447\u0435\u0442 (20 \u0446\u0438\u0444\u0440) "),m.Pb())}function aa(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,oa,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankCorrespondentAccount.errors.required)}}function sa(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ca(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,sa,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankName.errors.required)}}function la(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function da(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,la,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankAccountOpenDate.errors.required)}}function ba(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),m.Pb())}function ua(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ba,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankOwnerAccount.errors.required)}}function fa(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ha(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,fa,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankComment.errors.required)}}function pa(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ma(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,pa,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("otherBanks").controls[e].get("otherBankAccountOpenDate").errors.required)}}function ga(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function va(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ga,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("otherBanks").controls[e].get("otherBankName").errors.required)}}function Pa(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),m.Pb())}function ya(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Pa,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("otherBanks").controls[e].get("otherBankOwnerAccount").errors.required)}}function Ia(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Fa(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ia,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("otherBanks").controls[e].get("otherBankTarget").errors.required)}}function Qa(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",67),m.Qb(1,"div",68),m.Qb(2,"div",69),m.Hc(3," \u0421\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435 "),m.Pb(),m.Qb(4,"button",70),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().remove(i,"otherBanks")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",71),m.Qb(7,"div",72),m.Qb(8,"div",73),m.Qb(9,"div",21),m.Qb(10,"label",74),m.Hc(11,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(12,"input",75),m.Fc(13,ma,2,1,"div",7),m.Pb(),m.Qb(14,"div",21),m.Qb(15,"label",76),m.Hc(16,"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(17,"input",77),m.Pb(),m.Qb(18,"div",17),m.Qb(19,"label",78),m.Hc(20,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Qb(21,"p-autoComplete",79),m.Xb("completeMethod",function(t){return m.yc(e),m.ac().searchByBankName(t)})("onSelect",function(i){m.yc(e);const n=t.index,r=m.ac();return r.onOtherBankSelect(r.formFactoring.get("otherBanks").controls[n],i)}),m.Pb(),m.Fc(22,va,2,1,"div",7),m.Pb(),m.Qb(23,"div",17),m.Qb(24,"label",80),m.Hc(25,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(26,"p-inputMask",81),m.Fc(27,ya,2,1,"div",7),m.Pb(),m.Qb(28,"div",17),m.Qb(29,"label",82),m.Hc(30,"\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"),m.Pb(),m.Lb(31,"input",83),m.Fc(32,Fa,2,1,"div",7),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac();m.zb(7),m.hc("formGroupName",e),m.zb(6),m.hc("ngIf",i.formFactoring.get("otherBanks").controls[e].get("otherBankAccountOpenDate").invalid),m.zb(8),m.hc("suggestions",i.resultsBankname),m.zb(1),m.hc("ngIf",i.formFactoring.get("otherBanks").controls[e].get("otherBankName").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("otherBanks").controls[e].get("otherBankOwnerAccount").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("otherBanks").controls[e].get("otherBankTarget").invalid)}}function Ca(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Da(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ca,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringProducts.errors.required)}}function ka(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function za(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ka,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringTradeMarks.errors.required)}}function Sa(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function wa(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Sa,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringShipments.errors.required)}}function xa(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Oa(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,xa,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringFinanceLimit.errors.required)}}function _a(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ea(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,_a,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringClients.errors.required)}}function Aa(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Na(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Aa,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringWorkers.errors.required)}}function Ta(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",84),m.Qb(1,"div",68),m.Qb(2,"div",69),m.Hc(3," \u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),m.Pb(),m.Qb(4,"button",70),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().remove(i,"factoringPlaces")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",71),m.Qb(7,"div",72),m.Qb(8,"div",73),m.Qb(9,"div",17),m.Qb(10,"label",85),m.Hc(11,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430"),m.Pb(),m.Qb(12,"div",35),m.Lb(13,"input",86),m.Qb(14,"button",87),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().openAddressForm(i)}),m.Pb(),m.Pb(),m.Pb(),m.Qb(15,"div",17),m.Qb(16,"label",88),m.Hc(17,"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(18,"p-dropdown",89),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac();m.zb(7),m.hc("formGroupName",e),m.zb(11),m.hc("options",i.typesOfOwner)}}function La(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ha(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,La,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringCreditsCreditor").errors.required)}}function Ba(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ra(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ba,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesTypeDuty").errors.required)}}function Ma(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function qa(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ma,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesDateClose").errors.required)}}function ja(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function $a(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ja,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesContractSum").errors.required)}}function Ua(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ga(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ua,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesBalanceReport").errors.required)}}function Va(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Xa(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Va,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesBalanceCurrent").errors.required)}}function Ka(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",90),m.Qb(1,"div",68),m.Qb(2,"div",69),m.Hc(3," \u041a\u0440\u0435\u0434\u0438\u0442, \u0437\u0430\u0439\u043c, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f, ... "),m.Pb(),m.Qb(4,"button",70),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().remove(i,"factoringCredits")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",71),m.Qb(7,"div",72),m.Qb(8,"div",73),m.Qb(9,"div",4),m.Qb(10,"label",91),m.Hc(11,"\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440"),m.Pb(),m.Lb(12,"input",92),m.Fc(13,Ha,2,1,"div",7),m.Pb(),m.Qb(14,"div",4),m.Qb(15,"label",93),m.Hc(16,"\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"),m.Pb(),m.Lb(17,"input",94),m.Fc(18,Ra,2,1,"div",7),m.Pb(),m.Qb(19,"div",4),m.Qb(20,"label",95),m.Hc(21,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(22,"input",96),m.Fc(23,qa,2,1,"div",7),m.Pb(),m.Qb(24,"div",4),m.Qb(25,"label",97),m.Hc(26,"\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),m.Pb(),m.Lb(27,"input",98),m.Fc(28,$a,2,1,"div",7),m.Pb(),m.Qb(29,"div",99),m.Qb(30,"label",100),m.Hc(31,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438"),m.Pb(),m.Lb(32,"input",101),m.Fc(33,Ga,2,1,"div",7),m.Pb(),m.Qb(34,"div",99),m.Qb(35,"label",102),m.Hc(36,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443"),m.Pb(),m.Lb(37,"input",103),m.Fc(38,Xa,2,1,"div",7),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac();m.zb(7),m.hc("formGroupName",e),m.zb(6),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringCreditsCreditor").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesTypeDuty").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesDateClose").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesContractSum").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesBalanceReport").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesBalanceCurrent").invalid)}}function Wa(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Za(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Wa,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringEDIProviders").controls[e].get("factoringEDIProvidersDebitor").errors.required)}}function Ja(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ya(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ja,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringEDIProviders").controls[e].get("factoringEDIProvidersProvider").errors.required)}}function es(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",104),m.Qb(1,"div",68),m.Qb(2,"div",69),m.Hc(3," EDI "),m.Pb(),m.Qb(4,"button",70),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().remove(i,"factoringEDIProviders")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",71),m.Qb(7,"div",72),m.Qb(8,"div",73),m.Qb(9,"div",17),m.Qb(10,"label",105),m.Hc(11,"\u0414\u0435\u0431\u0438\u0442\u043e\u0440"),m.Pb(),m.Lb(12,"input",106),m.Fc(13,Za,2,1,"div",7),m.Pb(),m.Qb(14,"div",17),m.Qb(15,"label",107),m.Hc(16,"EDI-\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440"),m.Pb(),m.Lb(17,"input",108),m.Fc(18,Ya,2,1,"div",7),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac();m.zb(7),m.hc("formGroupName",e),m.zb(6),m.hc("ngIf",i.formFactoring.get("factoringEDIProviders").controls[e].get("factoringEDIProvidersDebitor").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringEDIProviders").controls[e].get("factoringEDIProvidersProvider").invalid)}}function ts(e,t){1&e&&(m.Qb(0,"div",130),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function is(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",133),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",134),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function ns(e,t){if(1&e&&(m.Ob(0),m.Fc(1,is,7,1,"div",132),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Regulations"===e.Identifier)}}function rs(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ns,2,1,"ng-container",131),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function os(e,t){1&e&&(m.Qb(0,"div",130),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function as(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",133),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",134),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function ss(e,t){if(1&e&&(m.Ob(0),m.Fc(1,as,7,1,"div",132),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","GenDirPassport"===e.Identifier)}}function cs(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ss,2,1,"ng-container",131),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function ls(e,t){1&e&&(m.Qb(0,"div",130),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function ds(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",133),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",134),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function bs(e,t){if(1&e&&(m.Ob(0),m.Fc(1,ds,7,1,"div",132),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","GenDirProtocol"===e.Identifier)}}function us(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,bs,2,1,"ng-container",131),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function fs(e,t){1&e&&(m.Qb(0,"div",130),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function hs(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",133),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",134),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function ps(e,t){if(1&e&&(m.Ob(0),m.Fc(1,hs,7,1,"div",132),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","GenDirOrder"===e.Identifier)}}function ms(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ps,2,1,"ng-container",131),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function gs(e,t){1&e&&(m.Qb(0,"div",130),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function vs(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",133),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",134),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Ps(e,t){if(1&e&&(m.Ob(0),m.Fc(1,vs,7,1,"div",132),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Balance"===e.Identifier)}}function ys(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ps,2,1,"ng-container",131),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function Is(e,t){1&e&&(m.Qb(0,"div",130),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Fs(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",133),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",134),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Qs(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Fs,7,1,"div",132),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","OSV"===e.Identifier)}}function Cs(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Qs,2,1,"ng-container",131),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function Ds(e,t){1&e&&(m.Qb(0,"div",130),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function ks(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",133),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",134),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function zs(e,t){if(1&e&&(m.Ob(0),m.Fc(1,ks,7,1,"div",132),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Shareholders"===e.Identifier)}}function Ss(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,zs,2,1,"ng-container",131),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function ws(e,t){1&e&&(m.Qb(0,"div",130),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function xs(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",133),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",134),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Os(e,t){if(1&e&&(m.Ob(0),m.Fc(1,xs,7,1,"div",132),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","ContractDelivery"===e.Identifier)}}function _s(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Os,2,1,"ng-container",131),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function Es(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"div",20),m.Qb(2,"p"),m.Hc(3,"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:"),m.Pb(),m.Pb(),m.Qb(4,"div",17),m.Qb(5,"div",109),m.Qb(6,"div",110),m.Qb(7,"p"),m.Hc(8," \u0423\u0441\u0442\u0430\u0432 (\u0421\u043e \u0432\u0441\u0435\u043c\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438) "),m.Pb(),m.Pb(),m.Qb(9,"div",111),m.Qb(10,"input",112),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"Regulations")}),m.Pb(),m.Qb(11,"label",113),m.Lb(12,"i",114),m.Hc(13," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(14,ts,3,0,"div",115),m.Fc(15,rs,2,1,"div",7),m.Pb(),m.Qb(16,"div",17),m.Qb(17,"div",109),m.Qb(18,"div",110),m.Qb(19,"p"),m.Hc(20," \u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 (\u0412\u0441\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) "),m.Pb(),m.Pb(),m.Qb(21,"div",111),m.Qb(22,"input",116),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"GenDirPassport")}),m.Pb(),m.Qb(23,"label",117),m.Lb(24,"i",114),m.Hc(25," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(26,os,3,0,"div",115),m.Fc(27,cs,2,1,"div",7),m.Pb(),m.Qb(28,"div",17),m.Qb(29,"div",109),m.Qb(30,"div",110),m.Qb(31,"p"),m.Hc(32," \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b/\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),m.Pb(),m.Pb(),m.Qb(33,"div",111),m.Qb(34,"input",118),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"GenDirProtocol")}),m.Pb(),m.Qb(35,"label",119),m.Lb(36,"i",114),m.Hc(37," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(38,ls,3,0,"div",115),m.Fc(39,us,2,1,"div",7),m.Pb(),m.Qb(40,"div",17),m.Qb(41,"div",109),m.Qb(42,"div",110),m.Qb(43,"p"),m.Hc(44," \u041f\u0440\u0438\u043a\u0430\u0437 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),m.Pb(),m.Pb(),m.Qb(45,"div",111),m.Qb(46,"input",120),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"GenDirOrder")}),m.Pb(),m.Qb(47,"label",121),m.Lb(48,"i",114),m.Hc(49," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(50,fs,3,0,"div",115),m.Fc(51,ms,2,1,"div",7),m.Pb(),m.Qb(52,"div",17),m.Qb(53,"div",109),m.Qb(54,"div",110),m.Qb(55,"p"),m.Hc(56," \u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0441\u043a\u0438\u0439 \u0411\u0430\u043b\u0430\u043d\u0441 "),m.Pb(),m.Pb(),m.Qb(57,"div",111),m.Qb(58,"input",122),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"Balance")}),m.Pb(),m.Qb(59,"label",123),m.Lb(60,"i",114),m.Hc(61," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(62,gs,3,0,"div",115),m.Fc(63,ys,2,1,"div",7),m.Pb(),m.Qb(64,"div",17),m.Qb(65,"div",109),m.Qb(66,"div",110),m.Qb(67,"p"),m.Hc(68," \u041e\u0421\u0412 (\u043e\u0431\u043e\u0440\u043e\u0442\u043d\u043e-\u0441\u0430\u043b\u044c\u0434\u043e\u0432\u0430\u044f \u0432\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c) "),m.Pb(),m.Pb(),m.Qb(69,"div",111),m.Qb(70,"input",124),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"OSV")}),m.Pb(),m.Qb(71,"label",125),m.Lb(72,"i",114),m.Hc(73," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(74,Is,3,0,"div",115),m.Fc(75,Cs,2,1,"div",7),m.Pb(),m.Qb(76,"div",99),m.Qb(77,"div",109),m.Qb(78,"div",110),m.Qb(79,"p"),m.Hc(80," \u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0423\u0447\u0440\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439 "),m.Pb(),m.Pb(),m.Qb(81,"div",111),m.Qb(82,"input",126),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"Shareholders")}),m.Pb(),m.Qb(83,"label",127),m.Lb(84,"i",114),m.Hc(85," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(86,Ds,3,0,"div",115),m.Fc(87,Ss,2,1,"div",7),m.Pb(),m.Qb(88,"div",17),m.Qb(89,"div",109),m.Qb(90,"div",110),m.Qb(91,"p"),m.Hc(92," \u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u043f\u043e\u0441\u0442\u0430\u0432\u043a\u0438 "),m.Pb(),m.Pb(),m.Qb(93,"div",111),m.Qb(94,"input",128),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"ContractDelivery")}),m.Pb(),m.Qb(95,"label",129),m.Lb(96,"i",114),m.Hc(97," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b\u044b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(98,ws,3,0,"div",115),m.Fc(99,_s,2,1,"div",7),m.Pb(),m.Nb()}if(2&e){const e=m.ac();m.zb(14),m.hc("ngIf",e.isFileInvalid("Regulations")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("GenDirPassport")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("GenDirProtocol")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("GenDirOrder")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("Balance")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("OSV")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("Shareholders")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("ContractDelivery")),m.zb(1),m.hc("ngIf",e.files.length)}}let As=(()=>{class e{constructor(e,t,i,n,r,o){this.dialogService=e,this.messageService=t,this.commonService=i,this.fileService=n,this.currencyPipe=r,this.fb=o,this.save=new m.n,this.create=new m.n,this.back=new m.n,this.organizationTypes=[],this.ruleTypes=[],this.typesOfOwner=[],this.files=[],this.subscription$=new C.a}ngOnInit(){this.initForm(),this.initValues(),this.currentDemand&&this.convertToFormData(),this._saveDraftAction$=setInterval(()=>this.saveDraft(),3e4)}ngOnDestroy(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}onSubmit(){this.create.emit(this.prepareData())}saveDraft(){this.save.emit(this.prepareDraft())}isFilesInvalid(){let e=!1,t=this.files.map(e=>e.Identifier);return t.length<1||(e=!(t.includes("Regulations")&&t.includes("ContractDelivery")&&t.includes("GenDirPassport")&&t.includes("GenDirProtocol")&&t.includes("Balance")&&t.includes("GenDirOrder")&&t.includes("OSV")&&t.includes("Shareholders")),e)}isFileInvalid(e){let t=!1;return t=!this.files.map(e=>e.Identifier).includes(e),t}onBack(){this.back.emit()}search(e){this.subscription$.add(this.commonService.getBankByBIK(e.query).subscribe(e=>{this.banksFounded=e,this.resultsBIK=e.map(e=>e.BIC)}))}onOtherBankSelect(e,t){let i=this.banksFounded.find(e=>e.BIC===t||e.Name===t);this.formFactoring.get("otherBanks").controls[e].patchValue({otherBankName:i.Name})}onBankSelect(e){let t=this.banksFounded.find(t=>t.BIC===e||t.Name===e);this.formFactoring.patchValue({bankBik:t.BIC,bankCorrespondentAccount:t.AccountBank,bankName:t.Name})}searchByBankName(e){this.subscription$.add(this.commonService.getBankByName(e.query).subscribe(e=>{this.banksFounded=e,this.resultsBankname=e.map(e=>e.Name)}))}addOtherBank(e){this.formFactoring.get("otherBanks").push(this.fb.group({otherBankAccountOpenDate:[(null==e?void 0:e.Date)?Object(D.x)(null==e?void 0:e.Date,"yyyy-MM-dd","en"):"",[S.x.required]],otherBankAccountCloseDate:[(null==e?void 0:e.Expire)?Object(D.x)(null==e?void 0:e.Expire,"yyyy-MM-dd","en"):""],otherBankName:[(null==e?void 0:e.Bank)?null==e?void 0:e.Bank:"",[S.x.required]],otherBankOwnerAccount:[(null==e?void 0:e.Number)?null==e?void 0:e.Number:"",[S.x.required]],otherBankTarget:[(null==e?void 0:e.Comment)?null==e?void 0:e.Comment:"",[S.x.required]]}))}addOtherPlace(e){let t=this.formFactoring.get("factoringPlaces");t.push(this.fb.group({displayAddress:"",factoringPlacesAddress:{PostCode:e?e.Address.PostCode:"",Country:e?e.Address.Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:e?e.Address.RegionCode:77,RegionTitle:e?e.Address.RegionTitle:"",City:e?e.Address.City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:e?e.Address.District:"",Locality:e?e.Address.Locality:"",Street:e?e.Address.Street:"",House:e?e.Address.House:"",Appartment:e?e.Address.Appartment:""},factoringPlacesLegalForm:["Own",[S.x.required]]})),this.updateDisplayAddress(t.length-1)}addFactoringCredits(e){this.formFactoring.get("factoringCredits").push(this.fb.group({factoringCreditsCreditor:[e?e.Creditor:""],factoringPlacesTypeDuty:[e?e.Type:""],factoringPlacesDateClose:[e?Object(D.x)(e.Date,"yyyy-MM-dd","en"):""],factoringPlacesContractSum:[e?e.Summ:""],factoringPlacesBalanceReport:[e?e.ReportingRest:""],factoringPlacesBalanceCurrent:[e?e.CurrentRest:""]}))}addEDIProvider(e){this.formFactoring.get("factoringEDIProviders").push(this.fb.group({factoringEDIProvidersDebitor:[e?e.Company:"",[S.x.required]],factoringEDIProvidersProvider:[e?e.EDIProvider:"",[S.x.required]]}))}remove(e,t){this.formFactoring.get(t).removeAt(e)}openAddressForm(e){this.currentAddressFormId=e,this.ref=this.dialogService.open(N,{header:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441",width:"650px",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,styleClass:"p-fluid",data:{address:this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,index:e}}),this.ref.onClose.subscribe(e=>{e&&(this.formFactoring.value.factoringPlaces[this.currentAddressFormId].factoringPlacesAddress=e,this.updateDisplayAddress(this.currentAddressFormId))})}onSelect(e,t){let i=e.target.files;for(let n of i){let e=k.a.newGuid();this.subscription$.add(this.commonService.getBase64(n).pipe(Object(u.a)(t=>this.fileService.uploadFileChunks(t,n.name,n.size.toString(),e))).subscribe(e=>{console.log(e),this.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:t})},e=>console.log(e)))}}removeFile(e){this.files.splice(this.files.indexOf(this.files.find(t=>t===e)),1)}onTypeChanged(e){0===e&&this.formFactoring.patchValue({organizationLegalForm:null})}updateDisplayAddress(e){let t=this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,i="";console.log(t),t.PostCode&&(i=i+" "+t.PostCode),t.Country&&(i=i+" "+t.Country),t.RegionCode&&(i=i+" "+t.RegionCode),t.RegionTitle&&(i=i+" "+t.RegionTitle),t.City&&(i=i+" "+t.City),t.District&&(i=i+" "+t.District),t.Locality&&(i=i+" "+t.Locality),t.Street&&(i=i+" "+t.Street),t.House&&(i=i+" "+t.House),t.Appartment&&(i=i+" "+t.Appartment),this.formFactoring.controls.factoringPlaces.at(e).patchValue({displayAddress:i,factoringPlacesAddress:t})}initValues(){let e=new x.a;this.organizationTypes=e.getOrganizations(),this.ruleTypes=e.getLegalForms(),this.typesOfOwner=e.getTypesOfOwner()}initForm(){this.formFactoring=this.fb.group({organizationType:[0,[S.x.required]],organizationLegalForm:[""],organizationShortName:["",[S.x.required]],organizationINN:["",[S.x.required,S.x.minLength(10),S.x.maxLength(12)]],organizationPhone:["",[S.x.required]],organizationEmail:["",[S.x.required,S.x.email]],organizationWEB:[""],bankBik:["",[S.x.required]],bankCorrespondentAccount:["",[S.x.required]],bankName:["",[S.x.required]],bankAccountOpenDate:["",[S.x.required]],bankOwnerAccount:["",[S.x.required]],bankComment:[""],otherBanks:this.fb.array([]),factoringProducts:["",[S.x.required]],factoringTradeMarks:["",[S.x.required]],factoringShipments:["",[S.x.required]],factoringFinanceLimit:[null,[S.x.required]],factoringClients:["",[S.x.required]],factoringWorkers:[0,[S.x.required]],factoringPlaces:this.fb.array([]),factoringCredits:this.fb.array([]),factoringEDIProviders:this.fb.array([])}),this.formFactoring.markAllAsTouched(),this.formFactoring.markAsDirty()}prepareDraft(){return this.prepareCoreData()}prepareData(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}convertToFormData(){let e=this.currentDemand.Factoring,t=this.currentDemand.Anket,i=e.AddonAccounts,n=e.Properties,r=e.Obligations,o=e.EDI;this.formFactoring.patchValue({organizationType:t.Organization.Type,organizationLegalForm:t.Organization.LegalForm,organizationShortName:t.Organization.ShortTitle,organizationINN:t.Organization.Requisites.INN,organizationPhone:t.Organization.Phone,organizationEmail:t.Organization.Email,organizationWEB:t.Organization.Website,bankBik:e.Account.BIK,bankCorrespondentAccount:e.Account.COR,bankName:e.Account.Bank,bankAccountOpenDate:Object(D.x)(e.Account.Date,"yyyy-MM-dd","en"),bankOwnerAccount:e.Account.Number,bankComment:e.Account.Comment,factoringProducts:e.Products,factoringTradeMarks:e.Trademarks,factoringShipments:e.Suppliers,factoringFinanceLimit:e.LimitWanted,factoringClients:e.Buyers,factoringWorkers:e.StaffAmount}),i.forEach(e=>this.addOtherBank(e)),n.forEach(e=>this.addOtherPlace(e)),r.forEach(e=>this.addFactoringCredits(e)),o.forEach(e=>this.addEDIProvider(e))}prepareCoreData(){let e=[],t=[],i=[],n=[];return this.formFactoring.value.factoringPlaces.forEach(e=>{n.push({Address:{Appartment:e.factoringPlacesAddress.Appartment,City:e.factoringPlacesAddress.City,Country:e.factoringPlacesAddress.Country,District:e.factoringPlacesAddress.District,House:e.factoringPlacesAddress.House,Locality:e.factoringPlacesAddress.Locality,PostCode:e.factoringPlacesAddress.PostCode,RegionCode:e.factoringPlacesAddress.RegionCode,Street:e.factoringPlacesAddress.Street,RegionTitle:e.factoringPlacesAddress.RegionTitle},Comment:"",Type:e.factoringPlacesLegalForm})}),this.formFactoring.value.factoringCredits.forEach(e=>{t.push({Creditor:e.factoringCreditsCreditor,CurrentRest:e.factoringPlacesBalanceCurrent,Date:new Date(e.factoringPlacesDateClose),ReportingRest:e.factoringPlacesBalanceReport,Summ:e.factoringPlacesContractSum,Type:e.factoringPlacesTypeDuty})}),this.formFactoring.value.otherBanks.forEach(e=>{i.push({BIK:"",Bank:e.otherBankName,COR:"",Comment:e.otherBankTarget,Date:new Date(e.otherBankAccountOpenDate),Expire:new Date(e.otherBankAccountCloseDate),Number:e.otherBankOwnerAccount})}),this.formFactoring.value.factoringEDIProviders.forEach(t=>{e.push({Company:t.factoringEDIProvidersDebitor,EDIProvider:t.factoringEDIProvidersProvider})}),{Anket:{Registration:{Authority:"",Date:new Date,InitDate:new Date,Number:"",Place:""},Resident:{Country:"\u0420\u0424",ForeignCode:"",IsResident:!0},Shareholders:[],Signer:{FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},Passport:{Date:new Date,Expire:new Date,IsForeign:!1,IssuerCode:"",IssuerTitle:"",Nationality:"",Number:""},Person:{BirthDate:new Date,BirthPlace:"",Email:"",Gender:1,Name:{First:"",Last:"",Second:""},NameFirst:"",NameLast:"",NameSecond:"",Phone:"",SNILS:""},PositionDate:new Date,PositionTitle:"",RegistrationAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""}},Activities:[],Capital:{Total:0,Payed:0},Licenses:[],Objectives:{BankRelationObjective:16,BankRelationObjectiveOther:"",FinancialObjective:1,FinancialObjectiveOther:"",TransactionsContracts:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430",TransactionsCount:"",TransactionsSumm:""},Organization:{Email:this.formFactoring.value.organizationEmail,FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},FactAddressEquals:!1,ForeignTitle:"",FullTitle:"",LegalAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},LegalForm:this.formFactoring.value.organizationLegalForm,Phone:this.formFactoring.value.organizationPhone,PostAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},PostAddressEquals:!1,Requisites:{INN:this.formFactoring.value.organizationINN,KPP:"",OGRN:"",OKATO:"",OKPO:""},ShortTitle:this.formFactoring.value.organizationShortName,Type:this.formFactoring.value.organizationType,Website:this.formFactoring.value.organizationWEB}},Factoring:{Account:{BIK:this.formFactoring.value.bankBik,Bank:this.formFactoring.value.bankName,COR:this.formFactoring.value.bankCorrespondentAccount,Comment:this.formFactoring.value.bankComment,Date:new Date(this.formFactoring.value.bankAccountOpenDate),Expire:null,Number:this.formFactoring.value.bankOwnerAccount},AddonAccounts:i,Buyers:this.formFactoring.value.factoringClients,EDI:e,FactoringAim:0,LimitWanted:this.formFactoring.value.factoringFinanceLimit,Obligations:t,Products:this.formFactoring.value.factoringProducts,Properties:n,StaffAmount:this.formFactoring.value.factoringWorkers,Suppliers:this.formFactoring.value.factoringShipments,Trademarks:this.formFactoring.value.factoringTradeMarks},Files:this.files,Type:"Factoring"}}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(O.a),m.Kb(L.g),m.Kb(H.a),m.Kb(B.a),m.Kb(D.d),m.Kb(S.d))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-factoring-data"]],inputs:{isEdit:"isEdit",currentDemand:"currentDemand",currentDraftId:"currentDraftId"},outputs:{save:"save",create:"create",back:"back"},decls:150,vars:29,consts:[[3,"formGroup","ngSubmit"],[1,"form-actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-4","p-lg-3"],["for","organizationShortName"],["id","organizationShortName","type","text","pInputText","","placeholder","\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","formControlName","organizationShortName"],[4,"ngIf"],["for","organizationINN"],["id","organizationINN","pInputText","","type","text","placeholder","\u0418\u041d\u041d","formControlName","organizationINN","minlength","10","maxlength","12"],["for","organizationType"],["id","organizationType","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationType","optionLabel","title","optionValue","value",3,"options","onChange"],["class","p-field p-col-12 p-md-4 p-lg-3",4,"ngIf"],["for","organizationPhone"],["id","organizationPhone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","organizationPhone","mask","+7-999-999-99-99"],["for","organizationEmail"],["id","organizationEmail","type","email","pInputText","","placeholder","E-mail","formControlName","organizationEmail"],[1,"p-field","p-col-12","p-md-6"],["for","organizationWEB"],["id","organizationWEB","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430","formControlName","organizationWEB"],[1,"p-field","p-col-12","p-md-12"],[1,"p-field","p-col-12","p-md-3"],["for","bankBik"],["id","bankBik","placeholder","\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430","formControlName","bankBik",3,"suggestions","completeMethod","onSelect"],["for","bankCorrespondentAccount"],["id","bankCorrespondentAccount","type","text","mask","99999999999999999999","placeholder","\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430","formControlName","bankCorrespondentAccount"],["for","bankName"],["id","bankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","bankName",3,"suggestions","completeMethod","onSelect"],["for","bankAccountOpenDate"],["id","bankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","bankAccountOpenDate"],["for","bankOwnerAccount"],["id","bankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","bankOwnerAccount"],["for","bankComment"],["id","bankComment","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439","formControlName","bankComment"],["class","mib-formset","formArrayName","otherBanks",4,"ngFor","ngForOf"],[1,"addon-button"],[1,"addon-text-small"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435","type","button",1,"basic-small",3,"click"],[1,"p-field","p-col-12","p-lg-4"],["for","factoringProducts"],["id","factoringProducts","type","text","pInputText","","placeholder","\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringProducts"],[1,"p-field","p-col-12","p-lg-8"],["for","factoringTradeMarks"],["id","factoringTradeMarks","type","text","pInputText","","placeholder","\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringTradeMarks"],[1,"p-field","p-col-12","p-lg-6"],["for","factoringShipments"],["id","factoringShipments","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438","formControlName","factoringShipments"],["for","factoringFinanceLimit"],["placeholder","\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f","id","factoringFinanceLimit","formControlName","factoringFinanceLimit","inputId","factoringFinanceLimit","mode","currency","currency","RUB","locale","ru-RU"],["for","factoringClients"],["id","factoringClients","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438","formControlName","factoringClients"],["for","factoringWorkers"],["id","factoringWorkers","type","number","pInputText","","placeholder","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432","formControlName","factoringWorkers"],[1,"description"],["class","mib-formset","formArrayName","factoringPlaces",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringCredits",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringEDIProviders",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435","type","button",1,"basic-small",3,"click"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],["class","p-error",4,"ngIf"],[1,"p-error"],["for","organizationLegalForm"],["id","organizationLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443","formControlName","organizationLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","otherBanks",1,"mib-formset"],[1,"title"],[1,"text"],[1,"button","warn",3,"click"],[1,"form"],[3,"formGroupName"],[1,"p-fluid","p-formgrid","p-grid"],["for","otherBankAccountOpenDate"],["id","otherBankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountOpenDate"],["for","otherBankAccountCloseDate"],["id","otherBankAccountCloseDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountCloseDate"],["for","otherBankName"],["id","otherBankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","otherBankName",3,"suggestions","completeMethod","onSelect"],["for","otherBankOwnerAccount"],["id","otherBankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankOwnerAccount"],["for","otherBankTarget"],["id","otherBankTarget","type","text","pInputText","","placeholder","\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","formControlName","otherBankTarget"],["formArrayName","factoringPlaces",1,"mib-formset"],["for","factoringPlacesAddress"],["id","factoringPlacesAddress","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430","disabled","","formControlName","displayAddress"],["pButton","","pRipple","","type","button","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],["for","factoringPlacesLegalForm"],["id","factoringPlacesLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0424\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f","formControlName","factoringPlacesLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","factoringCredits",1,"mib-formset"],["for","factoringCreditsCreditor"],["id","factoringCreditsCreditor","type","text","pInputText","","placeholder","\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440","formControlName","factoringCreditsCreditor"],["for","factoringPlacesTypeDuty"],["id","factoringPlacesTypeDuty","type","text","pInputText","","placeholder","\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430","formControlName","factoringPlacesTypeDuty"],["for","factoringPlacesDateClose"],["id","factoringPlacesDateClose","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f","formControlName","factoringPlacesDateClose"],["for","factoringPlacesContractSum"],["id","factoringPlacesContractSum","type","text","pInputText","","placeholder","\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430","formControlName","factoringPlacesContractSum"],[1,"p-field","p-col-12","p-md-6","p-lg-6"],["for","factoringPlacesBalanceReport"],["id","factoringPlacesBalanceReport","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438","formControlName","factoringPlacesBalanceReport"],["for","factoringPlacesBalanceCurrent"],["id","factoringPlacesBalanceCurrent","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443","formControlName","factoringPlacesBalanceCurrent"],["formArrayName","factoringEDIProviders",1,"mib-formset"],["for","factoringEDIProvidersDebitor"],["id","factoringEDIProvidersDebitor","type","text","pInputText","","placeholder","\u0414\u0435\u0431\u0438\u0442\u043e\u0440","formControlName","factoringEDIProvidersDebitor"],["for","factoringEDIProvidersProvider"],["id","factoringEDIProvidersProvider","type","text","pInputText","","placeholder","EDI-\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440","formControlName","factoringEDIProvidersProvider"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Regulations","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Regulations",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],["type","file","id","GenDirPassport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","GenDirPassport",1,"mib-upload"],["type","file","id","GenDirProtocol","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","GenDirProtocol",1,"mib-upload"],["type","file","id","actual-btn","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","actual-btn",1,"mib-upload"],["type","file","id","Balance","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Balance",1,"mib-upload"],["type","file","id","OSV","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","OSV",1,"mib-upload"],["type","file","id","Shareholders","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Shareholders",1,"mib-upload"],["type","file","id","ContractDelivery","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","ContractDelivery",1,"mib-upload"],[1,"mib-uploader__error"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){1&e&&(m.Qb(0,"form",0),m.Xb("ngSubmit",function(){return t.onSubmit()}),m.Qb(1,"div",1),m.Fc(2,Mo,1,0,"button",2),m.Pb(),m.Qb(3,"div",3),m.Qb(4,"div",4),m.Qb(5,"label",5),m.Hc(6,"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),m.Pb(),m.Lb(7,"input",6),m.Fc(8,jo,2,1,"div",7),m.Pb(),m.Qb(9,"div",4),m.Qb(10,"label",8),m.Hc(11,"\u0418\u041d\u041d"),m.Pb(),m.Lb(12,"input",9),m.Fc(13,Go,3,2,"div",7),m.Pb(),m.Qb(14,"div",4),m.Qb(15,"label",10),m.Hc(16,"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),m.Pb(),m.Qb(17,"p-dropdown",11),m.Xb("onChange",function(e){return t.onTypeChanged(e.value)}),m.Pb(),m.Pb(),m.Fc(18,Ko,5,2,"div",12),m.Pb(),m.Qb(19,"div",3),m.Qb(20,"div",4),m.Qb(21,"label",13),m.Hc(22,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),m.Pb(),m.Lb(23,"p-inputMask",14),m.Fc(24,Zo,2,1,"div",7),m.Pb(),m.Qb(25,"div",4),m.Qb(26,"label",15),m.Hc(27,"E-mail"),m.Pb(),m.Lb(28,"input",16),m.Fc(29,ea,3,2,"div",7),m.Pb(),m.Qb(30,"div",17),m.Qb(31,"label",18),m.Hc(32,"\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430"),m.Pb(),m.Lb(33,"input",19),m.Fc(34,ia,2,1,"div",7),m.Pb(),m.Qb(35,"div",20),m.Qb(36,"h3"),m.Hc(37,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Pb(),m.Qb(38,"div",21),m.Qb(39,"label",22),m.Hc(40,"\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Qb(41,"p-autoComplete",23),m.Xb("completeMethod",function(e){return t.search(e)})("onSelect",function(e){return t.onBankSelect(e)}),m.Pb(),m.Fc(42,ra,2,1,"div",7),m.Pb(),m.Qb(43,"div",21),m.Qb(44,"label",24),m.Hc(45,"\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Lb(46,"p-inputMask",25),m.Fc(47,aa,2,1,"div",7),m.Pb(),m.Qb(48,"div",17),m.Qb(49,"label",26),m.Hc(50,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Qb(51,"p-autoComplete",27),m.Xb("completeMethod",function(e){return t.searchByBankName(e)})("onSelect",function(e){return t.onBankSelect(e)}),m.Pb(),m.Fc(52,ca,2,1,"div",7),m.Pb(),m.Qb(53,"div",21),m.Qb(54,"label",28),m.Hc(55,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(56,"input",29),m.Fc(57,da,2,1,"div",7),m.Pb(),m.Qb(58,"div",21),m.Qb(59,"label",30),m.Hc(60,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(61,"p-inputMask",31),m.Fc(62,ua,2,1,"div",7),m.Pb(),m.Qb(63,"div",17),m.Qb(64,"label",32),m.Hc(65,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),m.Pb(),m.Lb(66,"input",33),m.Fc(67,ha,2,1,"div",7),m.Pb(),m.Qb(68,"div",20),m.Qb(69,"h3"),m.Hc(70,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0447\u0435\u0442\u043e\u0432"),m.Pb(),m.Fc(71,Qa,33,6,"div",34),m.Pb(),m.Qb(72,"div",17),m.Qb(73,"div",35),m.Qb(74,"div",36),m.Qb(75,"p"),m.Hc(76," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0430 \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u0430\u043d\u043a\u0430\u0445 "),m.Pb(),m.Pb(),m.Qb(77,"button",37),m.Xb("click",function(){return t.addOtherBank()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(78,"div",20),m.Qb(79,"h3"),m.Hc(80,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a \u0410\u043d\u043a\u0435\u0442\u0435 (\u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433)"),m.Pb(),m.Pb(),m.Qb(81,"div",38),m.Qb(82,"label",39),m.Hc(83,"\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),m.Pb(),m.Lb(84,"input",40),m.Fc(85,Da,2,1,"div",7),m.Pb(),m.Qb(86,"div",41),m.Qb(87,"label",42),m.Hc(88,"\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),m.Pb(),m.Lb(89,"input",43),m.Fc(90,za,2,1,"div",7),m.Pb(),m.Qb(91,"div",44),m.Qb(92,"label",45),m.Hc(93,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438"),m.Pb(),m.Lb(94,"input",46),m.Fc(95,wa,2,1,"div",7),m.Pb(),m.Qb(96,"div",44),m.Qb(97,"label",47),m.Hc(98,"\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),m.Pb(),m.Lb(99,"p-inputNumber",48),m.Fc(100,Oa,2,1,"div",7),m.Pb(),m.Qb(101,"div",17),m.Qb(102,"label",49),m.Hc(103,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438"),m.Pb(),m.Lb(104,"input",50),m.Fc(105,Ea,2,1,"div",7),m.Pb(),m.Qb(106,"div",17),m.Qb(107,"label",51),m.Hc(108,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),m.Pb(),m.Lb(109,"input",52),m.Fc(110,Na,2,1,"div",7),m.Pb(),m.Qb(111,"div",20),m.Qb(112,"h3"),m.Hc(113,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0435\u0439\u0441\u044f \u0432 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438/\u0430\u0440\u0435\u043d\u0434\u0435 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f"),m.Pb(),m.Qb(114,"p",53),m.Hc(115,"\u041f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043f\u0443\u043d\u043a\u0442\u0443 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f\u0445 \u0438 \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435 \u0432\u043b\u0430\u0434\u0435\u0435\u0442 \u0442\u0435\u043c \u0438\u043b\u0438 \u0438\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"),m.Pb(),m.Fc(116,Ta,19,2,"div",54),m.Pb(),m.Qb(117,"div",17),m.Qb(118,"div",35),m.Qb(119,"div",36),m.Qb(120,"p"),m.Hc(121," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(122,"button",55),m.Xb("click",function(){return t.addOtherPlace()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(123,"div",20),m.Qb(124,"h3"),m.Hc(125,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u043d\u0435\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u0445, \u0430\u043a\u043a\u0440\u0435\u0434\u0438\u0442\u0438\u0432\u0430\u0445, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f\u0445, \u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430\u0445"),m.Pb(),m.Qb(126,"p",53),m.Hc(127,"\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u0430\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0438 \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0440\u0441\u043a\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c, \u0432 \u0442. \u0447. \u0441\u0441\u0443\u0434\u044b \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),m.Pb(),m.Fc(128,Ka,39,7,"div",56),m.Pb(),m.Qb(129,"div",17),m.Qb(130,"div",35),m.Qb(131,"div",36),m.Qb(132,"p"),m.Hc(133," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(134,"button",57),m.Xb("click",function(){return t.addFactoringCredits()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(135,"div",20),m.Qb(136,"h3"),m.Hc(137,"\u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 EDI-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u043c\u0438 \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u043e\u0431\u043e\u0440\u043e\u0442\u0443"),m.Pb(),m.Fc(138,es,19,3,"div",58),m.Pb(),m.Qb(139,"div",17),m.Qb(140,"div",35),m.Qb(141,"div",36),m.Qb(142,"p"),m.Hc(143," EDI \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 "),m.Pb(),m.Pb(),m.Qb(144,"button",59),m.Xb("click",function(){return t.addEDIProvider()}),m.Pb(),m.Pb(),m.Pb(),m.Fc(145,Es,100,16,"ng-container",7),m.Qb(146,"div",20),m.Qb(147,"label",60),m.Hc(148,"\xa0"),m.Pb(),m.Lb(149,"button",61),m.Pb(),m.Pb(),m.Pb()),2&e&&(m.hc("formGroup",t.formFactoring),m.zb(2),m.hc("ngIf",!t.isEdit),m.zb(6),m.hc("ngIf",t.formFactoring.controls.organizationShortName.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.organizationINN.invalid),m.zb(4),m.hc("options",t.organizationTypes),m.zb(1),m.hc("ngIf",1===t.formFactoring.get("organizationType").value),m.zb(6),m.hc("ngIf",t.formFactoring.controls.organizationPhone.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.organizationEmail.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.organizationWEB.invalid),m.zb(7),m.hc("suggestions",t.resultsBIK),m.zb(1),m.hc("ngIf",t.formFactoring.controls.bankBik.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.bankCorrespondentAccount.invalid),m.zb(4),m.hc("suggestions",t.resultsBankname),m.zb(1),m.hc("ngIf",t.formFactoring.controls.bankName.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.bankAccountOpenDate.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.bankOwnerAccount.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.bankComment.invalid),m.zb(4),m.hc("ngForOf",t.formFactoring.get("otherBanks").controls),m.zb(14),m.hc("ngIf",t.formFactoring.controls.factoringProducts.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringTradeMarks.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringShipments.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringFinanceLimit.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringClients.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringWorkers.invalid),m.zb(6),m.hc("ngForOf",t.formFactoring.get("factoringPlaces").controls),m.zb(12),m.hc("ngForOf",t.formFactoring.get("factoringCredits").controls),m.zb(10),m.hc("ngForOf",t.formFactoring.get("factoringEDIProviders").controls),m.zb(7),m.hc("ngIf",!t.isEdit),m.zb(4),m.hc("disabled",t.formFactoring.invalid||t.isFilesInvalid()))},directives:[S.y,S.q,S.h,D.n,S.b,_.a,S.p,S.f,S.l,S.k,E.a,pe.a,it,D.m,A.b,rt.a,S.t,S.c,S.i],encapsulation:2}),e})();function Ns(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",9),m.Xb("click",function(){return m.yc(e),m.ac().back()}),m.Pb()}}function Ts(e,t){if(1&e&&(m.Lb(0,"metib-backend-error-messages",10),m.bc(1,"async")),2&e){const e=m.ac();m.hc("backendErrors",m.cc(1,1,e.backendErrors$))}}function Ls(e,t){1&e&&(m.Ob(0),m.Qb(1,"p"),m.Hc(2,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),m.Pb(),m.Nb())}function Hs(e,t){if(1&e&&(m.Qb(0,"p-tabPanel",20),m.Lb(1,"app-demand-result",21),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.hc("result",e.currentDemand.Result)}}function Bs(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"p-tabView",12),m.Qb(2,"p-tabPanel",13),m.Qb(3,"app-demand-info",14),m.Xb("sendMessage",function(t){return m.yc(e),m.ac(2).handleSendMessage(t)}),m.Pb(),m.Pb(),m.Qb(4,"p-tabPanel",15),m.Qb(5,"app-factoring-data",16),m.Xb("save",function(t){return m.yc(e),m.ac(2).handleSave(t)})("create",function(t){return m.yc(e),m.ac(2).handleSubmit(t)})("back",function(){return m.yc(e),m.ac(2).back()}),m.Pb(),m.Pb(),m.Qb(6,"p-tabPanel",17),m.Qb(7,"app-demand-files",18),m.Xb("removeFile",function(t){return m.yc(e),m.ac(2).handleRemoveFile(t)}),m.Pb(),m.Pb(),m.Fc(8,Hs,2,1,"p-tabPanel",19),m.Pb(),m.Nb()}if(2&e){const e=m.ac(2);m.zb(3),m.hc("currentDemandInfo",e.currentInformation),m.zb(2),m.hc("isEdit",!0)("currentDemand",e.currentDemand)("currentDraftId",e.currentDraftId),m.zb(2),m.hc("currentDemandFiles",e.currentDemand.Files),m.zb(1),m.hc("ngIf",e.isView)}}function Rs(e,t){if(1&e){const e=m.Rb();m.Qb(0,"app-factoring-data",22),m.Xb("back",function(){return m.yc(e),m.ac(2).back()})("save",function(t){return m.yc(e),m.ac(2).handleSave(t)})("create",function(t){return m.yc(e),m.ac(2).handleSubmit(t)}),m.Pb()}if(2&e){const e=m.ac(2);m.hc("isEdit",!1)("currentDemand",e.currentDemand)("currentDraftId",e.currentDraftId)}}function Ms(e,t){if(1&e&&(m.Fc(0,Bs,9,6,"ng-container",7),m.Fc(1,Rs,1,3,"ng-template",null,11,m.Gc)),2&e){const e=m.vc(2),t=m.ac();m.hc("ngIf",t.isEdit)("ngIfElse",e)}}const qs=function(e){return{"card-content":e}};let js=(()=>{class e{constructor(e,t,i,n,r,o){this.authService=e,this.messageService=t,this.demandService=i,this.route=n,this.router=r,this.store=o,this.alertMessage=[],this.currentDraftId=0,this.isEdit=!1,this.isLoading=!1,this.subscription$=new C.a}ngOnInit(){this.isUserVerified=this.authService.isUserVerified(),this.subscription$.add(this.route.queryParams.subscribe(e=>{this.isView="true"===e.View,e.ID&&"false"===e.Edit?this.fetch(e.ID):(this.isLoading=!0,this.getDraft())}))}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}ngOnDestroy(){this.subscription$.unsubscribe()}handleSubmit(e){this.isEdit&&(e.Data.Files=this.currentDemand.Files),this.subscription$.add(this.demandService.add(e).subscribe(e=>{this.alert=!0,window.scroll(0,0),this.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}handleSave(e){this.currentDemand.Files&&(e.Files=this.currentDemand.Files),this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,e).subscribe(e=>{this.currentDraftId=e.ID,this.showSuccess()}))}handleSendMessage(e){this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(e=>{this.fetch(this.currentDemand.ID)}))}handleRemoveFile(e){this.currentDemand.Files=this.currentDemand.Files.filter(t=>t!==e)}getDraft(){this.subscription$.add(this.demandService.prepareDemandByType("Factoring").subscribe(e=>{this.currentDemand=e,this.isLoading=!1}))}fetch(e){this.subscription$.add(this.demandService.getDemandById(e).subscribe(e=>{this.currentDemand=e.Data,this.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},this.isEdit=!0}))}showSuccess(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(T.a),m.Kb(L.g),m.Kb(P),m.Kb(I.a),m.Kb(I.f),m.Kb(a.h))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-factoring-page"]],decls:14,vars:11,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["contentTemplate",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],["createTemplate",""],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[3,"isEdit","currentDemand","currentDraftId","save","create","back"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"isEdit","currentDemand","currentDraftId","back","save","create"]],template:function(e,t){if(1&e&&(m.Lb(0,"p-toast"),m.Qb(1,"div",0),m.Qb(2,"div",1),m.Qb(3,"div",2),m.Qb(4,"h2"),m.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433"),m.Pb(),m.Pb(),m.Qb(6,"div",3),m.Fc(7,Ns,1,0,"button",4),m.Pb(),m.Pb(),m.Qb(8,"p-messages",5),m.Xb("valueChange",function(e){return t.alertMessage=e}),m.Pb(),m.Fc(9,Ts,2,3,"metib-backend-error-messages",6),m.bc(10,"async"),m.Fc(11,Ls,3,0,"ng-container",7),m.Fc(12,Ms,3,2,"ng-template",null,8,m.Gc),m.Pb()),2&e){const e=m.vc(13);m.zb(1),m.hc("ngClass",m.mc(9,qs,t.isUserVerified)),m.zb(6),m.hc("ngIf",t.isEdit),m.zb(1),m.hc("value",t.alertMessage)("enableService",!1),m.zb(1),m.hc("ngIf",m.cc(10,7,t.backendErrors$)),m.zb(2),m.hc("ngIf",t.isLoading)("ngIfElse",e)}},directives:[R.a,D.l,D.n,M.a,A.b,ln.a,q.b,q.a,de,As,ue,he],pipes:[D.b],styles:[".description[_ngcontent-%COMP%]{font-family:Ubuntu;font-style:normal;font-weight:400;font-size:14px;line-height:16px;color:#989898}.small[_ngcontent-%COMP%]{padding:5px!important;width:100px!important}[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}.passport-confirm[_ngcontent-%COMP%]{align-items:center;justify-content:space-between;margin-bottom:20px}.btn-attention[_ngcontent-%COMP%]{max-width:280px;font-size:14px;padding:15px 0!important}.passport-owner[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin-bottom:0!important}.passport-owner[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{margin-top:10px!important}"]}),e})();function $s(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",9),m.Xb("click",function(){return m.yc(e),m.ac().back()}),m.Pb()}}function Us(e,t){1&e&&(m.Ob(0),m.Hc(1,">"),m.Nb())}function Gs(e,t){if(1&e&&(m.Qb(0,"p-tabPanel",18),m.Lb(1,"app-demand-result",19),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("result",e.currentDemand.Result)}}const Vs=function(e){return{formFree:e}};function Xs(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"p-tabView",10),m.Qb(2,"p-tabPanel",11),m.Qb(3,"app-demand-info",12),m.Xb("sendMessage",function(t){return m.yc(e),m.ac().handleSendMessage(t)}),m.Pb(),m.Pb(),m.Qb(4,"p-tabPanel",13),m.Fc(5,Us,2,0,"ng-container",14),m.Pb(),m.Qb(6,"p-tabPanel",15),m.Qb(7,"app-demand-files",16),m.Xb("removeFile",function(t){return m.yc(e),m.ac().handleRemoveFile(t)}),m.Pb(),m.Pb(),m.Fc(8,Gs,2,1,"p-tabPanel",17),m.Pb(),m.Nb()}if(2&e){const e=m.ac(),t=m.vc(13);m.zb(3),m.hc("currentDemandInfo",e.currentInformation),m.zb(2),m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(5,Vs,e.formFree)),m.zb(2),m.hc("currentDemandFiles",e.currentDemand.Files),m.zb(1),m.hc("ngIf",e.isView)}}function Ks(e,t){1&e&&m.Mb(0)}function Ws(e,t){if(1&e&&m.Fc(0,Ks,1,0,"ng-container",14),2&e){const e=m.ac(),t=m.vc(13);m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(2,Vs,e.formFree))}}function Zs(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",33),m.Qb(1,"button",9),m.Xb("click",function(){return m.yc(e),m.ac(2).back()}),m.Pb(),m.Pb()}}function Js(e,t){1&e&&(m.Qb(0,"small",35),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ys(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Js,2,0,"small",34),m.Pb()),2&e){const e=m.ac().formFree;m.zb(1),m.hc("ngIf",e.controls.limit.errors.required)}}function ec(e,t){1&e&&(m.Qb(0,"small",35),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function tc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ec,2,0,"small",34),m.Pb()),2&e){const e=m.ac().formFree;m.zb(1),m.hc("ngIf",e.controls.comment.errors.required)}}function ic(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",50),m.Qb(1,"div",39),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",40),m.Qb(5,"div",51),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(4).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function nc(e,t){if(1&e&&(m.Ob(0),m.Fc(1,ic,7,1,"div",49),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","OSV"===e.Identifier)}}function rc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,nc,2,1,"ng-container",48),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.hc("ngForOf",e.files)}}function oc(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",50),m.Qb(1,"div",39),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",40),m.Qb(5,"div",51),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(4).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function ac(e,t){if(1&e&&(m.Ob(0),m.Fc(1,oc,7,1,"div",49),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Balance"===e.Identifier)}}function sc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ac,2,1,"ng-container",48),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.hc("ngForOf",e.files)}}function cc(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",50),m.Qb(1,"div",39),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",40),m.Qb(5,"div",51),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(4).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function lc(e,t){if(1&e&&(m.Ob(0),m.Fc(1,cc,7,1,"div",49),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Loans"===e.Identifier)}}function dc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,lc,2,1,"ng-container",48),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.hc("ngForOf",e.files)}}function bc(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"div",36),m.Hc(2," \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b: "),m.Pb(),m.Qb(3,"div",37),m.Qb(4,"div",38),m.Qb(5,"div",39),m.Qb(6,"p"),m.Hc(7," \u041e\u0431\u043e\u0440\u043e\u0442\u043d\u043e-\u0441\u0430\u043b\u044c\u0434\u043e\u0432\u0430\u044f \u0432\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c \u043f\u043e P/C \u0417\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u0438\u0435 12 \u043c\u0435\u0441\u044f\u0446\u0435\u0432 "),m.Pb(),m.Pb(),m.Qb(8,"div",40),m.Qb(9,"input",41),m.Xb("change",function(t){return m.yc(e),m.ac(2).onSelect(t,"OSV")}),m.Pb(),m.Qb(10,"label",42),m.Lb(11,"i",43),m.Hc(12," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(13,rc,2,1,"div",27),m.Pb(),m.Qb(14,"div",37),m.Qb(15,"div",38),m.Qb(16,"div",39),m.Qb(17,"p"),m.Hc(18," \u041e\u0442\u0447\u0451\u0442\u043d\u043e\u0441\u0442\u044c \u043d\u0430 \u043f\u043e\u0441\u043b\u0435\u0434\u043d\u044e\u044e \u043e\u0442\u0447\u0435\u0442\u043d\u0443\u044e \u0434\u0430\u0442\u0443 \u0411\u0411\u0438\u041e\u041f\u0438\u0423 "),m.Pb(),m.Pb(),m.Qb(19,"div",40),m.Qb(20,"input",44),m.Xb("change",function(t){return m.yc(e),m.ac(2).onSelect(t,"Balance")}),m.Pb(),m.Qb(21,"label",45),m.Lb(22,"i",43),m.Hc(23," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(24,sc,2,1,"div",27),m.Pb(),m.Qb(25,"div",37),m.Qb(26,"div",38),m.Qb(27,"div",39),m.Qb(28,"p"),m.Hc(29," \u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u043f\u0438\u0441\u044c\u043c\u043e \u043e \u0437\u0430\u0439\u043c\u0430\u0445 \u0438 \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u0445 \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443 "),m.Pb(),m.Pb(),m.Qb(30,"div",40),m.Qb(31,"input",46),m.Xb("change",function(t){return m.yc(e),m.ac(2).onSelect(t,"Loans")}),m.Pb(),m.Qb(32,"label",47),m.Lb(33,"i",43),m.Hc(34," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(35,dc,2,1,"div",27),m.Pb(),m.Nb()}if(2&e){const e=m.ac(2);m.zb(13),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.files.length)}}function uc(e,t){if(1&e){const e=m.Rb();m.Qb(0,"form",20),m.Xb("ngSubmit",function(){return m.yc(e),m.ac().onSubmit()}),m.Fc(1,Zs,2,0,"div",21),m.Qb(2,"div",22),m.Qb(3,"div",23),m.Qb(4,"div",24),m.Qb(5,"div",25),m.Hc(6,"\u0422\u0440\u0435\u0431\u0443\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442"),m.Pb(),m.Lb(7,"p-inputNumber",26),m.Pb(),m.Fc(8,Ys,2,1,"div",27),m.Pb(),m.Qb(9,"div",23),m.Qb(10,"label",28),m.Hc(11,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),m.Pb(),m.Lb(12,"textarea",29),m.Fc(13,tc,2,1,"div",27),m.Pb(),m.Fc(14,bc,36,3,"ng-container",27),m.Qb(15,"div",30),m.Qb(16,"label",31),m.Hc(17,"\xa0"),m.Pb(),m.Lb(18,"button",32),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.formFree,i=m.ac();m.hc("formGroup",e),m.zb(1),m.hc("ngIf",!i.isEdit),m.zb(7),m.hc("ngIf",e.controls.limit.invalid),m.zb(5),m.hc("ngIf",e.controls.comment.invalid),m.zb(1),m.hc("ngIf",!i.isEdit),m.zb(4),m.hc("disabled",e.invalid||i.isLoading)}}const fc=function(e){return{"card-content":e}};let hc=(()=>{class e{constructor(e,t,i,n,r,o,a,s){this.authService=e,this.fb=t,this.demandService=i,this.commonService=n,this.messageService=r,this.fileService=o,this.route=a,this.router=s,this.isEdit=!1,this.alertMessage=[],this.files=[],this.currentDraftId=0,this.isLoading=!1,this.subscription$=new C.a}ngOnInit(){this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.subscription$.add(this.route.queryParams.subscribe(e=>{this.isView="true"===e.View,e.ID&&"false"===e.Edit&&this.fetch(e.ID),e.DraftId&&(this.currentDraftId=e.DraftID,this.isEdit=!0)})),this._saveDraftAction$=setInterval(()=>this.saveDraft(),3e4)}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}ngOnDestroy(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}onSubmit(){this.isLoading=!0;let e=this.prepareData();this.subscription$.add(this.demandService.add(e).subscribe(e=>{this.alert=!0,this.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}],this.isLoading=!1}))}handleSendMessage(e){this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(e=>{this.fetch(this.currentDemand.ID)}))}handleRemoveFile(e){this.currentDemand.Files=this.currentDemand.Files.filter(t=>t!==e)}fetch(e){this.subscription$.add(this.demandService.getDemandById(e).subscribe(e=>{this.currentDemand=e,this.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(this.currentDemand),this.isEdit=!0,this.convertToFormData()}))}convertToFormData(){let e=this.currentDemand.Data;this.formFree.patchValue({limit:e.Limit,comment:e.Comment})}saveDraft(){this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,this.prepareDraft()).subscribe(e=>{console.log(e),this.currentDraftId=e.ID,this.showSuccess()}))}prepareDraft(){return this.prepareCoreData()}prepareData(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}prepareCoreData(){return{Limit:this.formFree.value.limit,Comment:this.formFree.value.comment,Files:this.files,Type:"Limit"}}initForm(){this.formFree=this.fb.group({limit:[0,[S.x.required]],comment:["",[S.x.required]]}),this.formFree.markAllAsTouched(),this.formFree.markAsDirty()}showSuccess(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}removeFile(e){this.files.splice(this.files.indexOf(this.files.find(t=>t===e)),1)}onSelect(e,t){let i=e.target.files;for(let n of i){let e=k.a.newGuid();this.subscription$.add(this.commonService.getBase64(n).pipe(Object(u.a)(t=>this.fileService.uploadFileChunks(t,n.name,n.size.toString(),e))).subscribe(e=>{console.log(e),this.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:t})},e=>console.log(e)))}}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(T.a),m.Kb(S.d),m.Kb(P),m.Kb(H.a),m.Kb(L.g),m.Kb(B.a),m.Kb(I.a),m.Kb(I.f))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-limit-page"]],decls:14,vars:8,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-12","p-lg-12"],[1,"addon-input"],[1,"text"],["formControlName","limit","mode","currency","currency","RUB","locale","ru-RU"],[4,"ngIf"],["for","comment"],["id","comment","type","text","pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439","formControlName","comment",2,"resize","none"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],[1,"p-field","p-col-12"],[1,"p-field","p-col-12","p-md-6"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","OSV","multiple","true","hidden","",3,"change"],["for","OSV",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["type","file","id","Balance","multiple","true","hidden","",3,"change"],["for","Balance",1,"mib-upload"],["type","file","id","Loans","multiple","true","hidden","",3,"change"],["for","Loans",1,"mib-upload"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(m.Lb(0,"p-toast"),m.Qb(1,"div",0),m.Qb(2,"div",1),m.Qb(3,"div",2),m.Qb(4,"h2"),m.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0423\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430"),m.Pb(),m.Pb(),m.Qb(6,"div",3),m.Fc(7,$s,1,0,"button",4),m.Pb(),m.Pb(),m.Qb(8,"p-messages",5),m.Xb("valueChange",function(e){return t.alertMessage=e}),m.Pb(),m.Fc(9,Xs,9,7,"ng-container",6),m.Fc(10,Ws,1,4,"ng-template",null,7,m.Gc),m.Fc(12,uc,19,6,"ng-template",null,8,m.Gc),m.Pb()),2&e){const e=m.vc(11);m.zb(1),m.hc("ngClass",m.mc(6,fc,t.isUserVerified)),m.zb(6),m.hc("ngIf",t.isEdit),m.zb(1),m.hc("value",t.alertMessage)("enableService",!1),m.zb(1),m.hc("ngIf",t.isEdit)("ngIfElse",e)}},directives:[R.a,D.l,D.n,M.a,A.b,q.b,q.a,de,D.s,ue,he,S.y,S.q,S.h,rt.a,S.p,S.f,S.b,te.a,D.m],styles:[""]}),e})();function pc(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",10),m.Xb("click",function(){return m.yc(e),m.ac().back()}),m.Pb()}}function mc(e,t){if(1&e&&(m.Lb(0,"metib-backend-error-messages",11),m.bc(1,"async")),2&e){const e=m.ac();m.hc("backendErrors",m.cc(1,1,e.backendErrors$))}}function gc(e,t){1&e&&m.Mb(0)}function vc(e,t){if(1&e&&(m.Qb(0,"p-tabPanel",20),m.Lb(1,"app-demand-result",21),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("result",e.currentDemand.Result)}}const Pc=function(e){return{formFree:e}};function yc(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"p-tabView",12),m.Qb(2,"p-tabPanel",13),m.Qb(3,"app-demand-info",14),m.Xb("sendMessage",function(t){return m.yc(e),m.ac().handleSendMessage(t)}),m.Pb(),m.Pb(),m.Qb(4,"p-tabPanel",15),m.Fc(5,gc,1,0,"ng-container",16),m.Pb(),m.Qb(6,"p-tabPanel",17),m.Qb(7,"app-demand-files",18),m.Xb("removeFile",function(t){return m.yc(e),m.ac().handleRemoveFile(t)}),m.Pb(),m.Pb(),m.Fc(8,vc,2,1,"p-tabPanel",19),m.Pb(),m.Nb()}if(2&e){const e=m.ac(),t=m.vc(15);m.zb(3),m.hc("currentDemandInfo",e.currentInformation),m.zb(2),m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(5,Pc,e.formFree)),m.zb(2),m.hc("currentDemandFiles",e.currentDemand.Files),m.zb(1),m.hc("ngIf",e.isView)}}function Ic(e,t){1&e&&m.Mb(0)}function Fc(e,t){if(1&e&&m.Fc(0,Ic,1,0,"ng-container",16),2&e){const e=m.ac(),t=m.vc(15);m.hc("ngTemplateOutlet",t)("ngTemplateOutletContext",m.mc(2,Pc,e.formFree))}}function Qc(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",35),m.Qb(1,"button",10),m.Xb("click",function(){return m.yc(e),m.ac(2).back()}),m.Pb(),m.Pb()}}function Cc(e,t){1&e&&(m.Qb(0,"small",37),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Dc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Cc,2,0,"small",36),m.Pb()),2&e){const e=m.ac().formFree;m.zb(1),m.hc("ngIf",e.controls.subject.errors.required)}}function kc(e,t){1&e&&(m.Qb(0,"small",37),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function zc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,kc,2,0,"small",36),m.Pb()),2&e){const e=m.ac().formFree;m.zb(1),m.hc("ngIf",e.controls.question.errors.required)}}function Sc(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",47),m.Qb(1,"div",40),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",41),m.Qb(5,"div",48),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(4).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function wc(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Sc,7,1,"div",46),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","All"===e.Identifier)}}function xc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,wc,2,1,"ng-container",45),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.hc("ngForOf",e.files)}}function Oc(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",38),m.Qb(1,"div",39),m.Qb(2,"div",40),m.Qb(3,"p"),m.Hc(4," \u041f\u0440\u0438 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u043f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u0444\u0430\u0439\u043b\u044b: "),m.Pb(),m.Pb(),m.Qb(5,"div",41),m.Qb(6,"input",42),m.Xb("change",function(t){return m.yc(e),m.ac(2).onSelect(t,"All")}),m.Pb(),m.Qb(7,"label",43),m.Lb(8,"i",44),m.Hc(9," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(10,xc,2,1,"div",28),m.Pb()}if(2&e){const e=m.ac(2);m.zb(10),m.hc("ngIf",e.files.length)}}function _c(e,t){if(1&e){const e=m.Rb();m.Qb(0,"form",22),m.Xb("ngSubmit",function(){return m.yc(e),m.ac().onSubmit()}),m.Fc(1,Qc,2,0,"div",23),m.Qb(2,"div",24),m.Qb(3,"div",25),m.Qb(4,"label",26),m.Hc(5,"\u0422\u0435\u043c\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(6,"input",27),m.Fc(7,Dc,2,1,"div",28),m.Pb(),m.Qb(8,"div",25),m.Qb(9,"label",29),m.Hc(10,"\u0412\u043e\u043f\u0440\u043e\u0441"),m.Pb(),m.Lb(11,"textarea",30),m.Fc(12,zc,2,1,"div",28),m.Pb(),m.Fc(13,Oc,11,1,"div",31),m.Qb(14,"div",32),m.Qb(15,"label",33),m.Hc(16,"\xa0"),m.Pb(),m.Lb(17,"button",34),m.bc(18,"async"),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.formFree,i=m.ac();m.hc("formGroup",e),m.zb(1),m.hc("ngIf",!i.isEdit),m.zb(6),m.hc("ngIf",e.controls.subject.invalid),m.zb(5),m.hc("ngIf",e.controls.question.invalid),m.zb(1),m.hc("ngIf",!i.isEdit),m.zb(4),m.hc("disabled",e.invalid||m.cc(18,6,i.isLoading$))}}const Ec=function(e){return{"card-content":e}};let Ac=(()=>{class e{constructor(e,t,i,n,r,o,a,s,c){this.authService=e,this.fb=t,this.demandService=i,this.commonService=n,this.messageService=r,this.fileService=o,this.route=a,this.router=s,this.store=c,this.alertMessage=[],this.isEdit=!1,this.isLoading$=new Q.a,this.files=[],this.currentDraftId=0,this.subscription$=new C.a}ngOnInit(){this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.initValues(),this.subscription$.add(this.route.queryParams.subscribe(e=>{this.isView="true"===e.View,e.ID&&"false"===e.Edit&&this.fetch(e.ID),e.DraftId&&(this.currentDraftId=e.DraftID,this.isEdit=!0)})),this._saveDraftAction$=setInterval(()=>this.saveDraft(),3e4)}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}ngOnDestroy(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}onSubmit(){let e=this.prepareData();this.subscription$.add(this.demandService.add(e).subscribe(e=>{this.alert=!0,this.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}removeFile(e){this.files.splice(this.files.indexOf(this.files.find(t=>t===e)),1)}onSelect(e,t){let i=e.target.files;for(let n of i){let e=k.a.newGuid();this.commonService.getBase64(n).pipe(Object(u.a)(t=>this.fileService.uploadFileChunks(t,n.name,n.size.toString(),e))).subscribe(e=>{console.log(e),this.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:t})},e=>console.log(e))}}saveDraft(){this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,this.prepareDraft()).subscribe(e=>{console.log(e),this.currentDraftId=e.ID,this.showSuccess()}))}handleSendMessage(e){this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(e=>{this.fetch(this.currentDemand.ID)}))}handleRemoveFile(e){this.currentDemand.Files=this.currentDemand.Files.filter(t=>t!==e)}fetch(e){this.subscription$.add(this.demandService.getDemandById(e).subscribe(e=>{this.currentDemand=e,this.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},console.log(this.currentDemand),this.isEdit=!0,this.convertToFormData()}))}convertToFormData(){let e=this.currentDemand.Data;this.formFree.patchValue({subject:e.Subject,question:e.Question})}prepareDraft(){return{Question:this.formFree.value.question,Subject:this.formFree.value.subject,Files:this.files,Type:"Question"}}prepareData(){return{Data:{Question:this.formFree.value.question,Subject:this.formFree.value.subject,Files:this.files,Type:"Question"},DraftID:this.currentDraftId}}initForm(){this.formFree=this.fb.group({subject:["",[S.x.required]],question:["",[S.x.required]]}),this.formFree.markAllAsTouched(),this.formFree.markAsDirty()}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}initValues(){this.isLoading$=this.store.pipe(Object(a.t)(En)),this.backendErrors$=this.store.pipe(Object(a.t)(An))}showSuccess(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(T.a),m.Kb(S.d),m.Kb(P),m.Kb(H.a),m.Kb(L.g),m.Kb(B.a),m.Kb(I.a),m.Kb(I.f),m.Kb(a.h))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-request-free-page"]],decls:16,vars:11,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["createTemplate",""],["form",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-12","p-lg-12"],["for","subject"],["id","subject","type","text","pInputText","","placeholder","\u0422\u0435\u043c\u0430 \u043e\u0431\u0440\u0430\u0449\u0435\u043d\u0438\u044f","formControlName","subject"],[4,"ngIf"],["for","question"],["id","question","type","text","pInputTextarea","","placeholder","\u0412\u043e\u043f\u0440\u043e\u0441","formControlName","question",2,"resize","none"],["class","p-field p-col-12 p-md-6",4,"ngIf"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],[1,"p-field","p-col-12","p-md-6"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","All","hidden","",3,"change"],["for","All",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){if(1&e&&(m.Lb(0,"p-toast"),m.Qb(1,"div",0),m.Qb(2,"div",1),m.Qb(3,"div",2),m.Qb(4,"h2"),m.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0422\u0435\u043c\u0443"),m.Pb(),m.Pb(),m.Qb(6,"div",3),m.Fc(7,pc,1,0,"button",4),m.Pb(),m.Pb(),m.Qb(8,"p-messages",5),m.Xb("valueChange",function(e){return t.alertMessage=e}),m.Pb(),m.Fc(9,mc,2,3,"metib-backend-error-messages",6),m.bc(10,"async"),m.Fc(11,yc,9,7,"ng-container",7),m.Fc(12,Fc,1,4,"ng-template",null,8,m.Gc),m.Fc(14,_c,19,8,"ng-template",null,9,m.Gc),m.Pb()),2&e){const e=m.vc(13);m.zb(1),m.hc("ngClass",m.mc(9,Ec,t.isUserVerified)),m.zb(6),m.hc("ngIf",t.isEdit),m.zb(1),m.hc("value",t.alertMessage)("enableService",!1),m.zb(1),m.hc("ngIf",m.cc(10,7,t.backendErrors$)),m.zb(2),m.hc("ngIf",t.isEdit)("ngIfElse",e)}},directives:[R.a,D.l,D.n,M.a,A.b,ln.a,q.b,q.a,de,D.s,ue,he,S.y,S.q,S.h,S.b,_.a,S.p,S.f,te.a,D.m],pipes:[D.b],styles:["[_nghost-%COMP%]     .p-fileupload.p-fileupload-basic.p-component{height:100%!important}"]}),e})();const Nc=function(e){return{"card-content":e}};let Tc=(()=>{class e{constructor(e,t){this.authService=e,this.router=t}ngOnInit(){this.isUserVerified=this.authService.isUserVerified()}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}ngOnDestroy(){}a(){}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(T.a),m.Kb(I.f))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-request-support-page"]],decls:7,vars:3,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined",3,"click"]],template:function(e,t){1&e&&(m.Qb(0,"div",0),m.Qb(1,"div",1),m.Qb(2,"div",2),m.Qb(3,"h2"),m.Hc(4,"\u0417\u0430\u0434\u0430\u0442\u044c \u0432 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443"),m.Pb(),m.Pb(),m.Qb(5,"div",3),m.Qb(6,"button",4),m.Xb("click",function(){return t.back()}),m.Pb(),m.Pb(),m.Pb(),m.Pb()),2&e&&m.hc("ngClass",m.mc(1,Nc,t.isUserVerified))},directives:[D.l,A.b],styles:[""]}),e})();function Lc(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",62),m.Xb("click",function(){return m.yc(e),m.ac().onBack()}),m.Pb()}}function Hc(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Bc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Hc,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationShortName.errors.required)}}function Rc(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Mc(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0418\u041d\u041d (10 \u0438\u043b\u0438 12 \u0446\u0438\u0444\u0440). "),m.Pb())}function qc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Rc,2,0,"small",63),m.Fc(2,Mc,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationINN.errors.required),m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationINN.errors.minlength)}}function jc(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function $c(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,jc,2,0,"small",63),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationLegalForm.errors.required)}}function Uc(e,t){if(1&e&&(m.Qb(0,"div",4),m.Qb(1,"label",65),m.Hc(2,"\u041f\u0440\u0430\u0432\u043e\u0432\u0430\u044f \u0444\u043e\u0440\u043c\u0430"),m.Pb(),m.Lb(3,"p-dropdown",66),m.Fc(4,$c,2,1,"div",7),m.Pb()),2&e){const e=m.ac();m.zb(3),m.hc("options",e.ruleTypes),m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationLegalForm.invalid)}}function Gc(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Vc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Gc,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationPhone.errors.required)}}function Xc(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Kc(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u0443\u044e \u043f\u043e\u0447\u0442\u0443. "),m.Pb())}function Wc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Xc,2,0,"small",63),m.Fc(2,Kc,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationEmail.errors.required),m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationEmail.errors.email)}}function Zc(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Jc(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Zc,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.organizationWEB.errors.required)}}function Yc(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u0411\u0418\u041a \u0431\u0430\u043d\u043a\u0430 (9 \u0446\u0438\u0444\u0440). "),m.Pb())}function el(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Yc,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankBik.errors.required)}}function tl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043a\u043e\u0440 \u0441\u0447\u0435\u0442 (20 \u0446\u0438\u0444\u0440) "),m.Pb())}function il(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,tl,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankCorrespondentAccount.errors.required)}}function nl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function rl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,nl,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankName.errors.required)}}function ol(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function al(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ol,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankAccountOpenDate.errors.required)}}function sl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),m.Pb())}function cl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,sl,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankOwnerAccount.errors.required)}}function ll(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function dl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,ll,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.bankComment.errors.required)}}function bl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ul(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,bl,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("otherBanks").controls[e].get("otherBankAccountOpenDate").errors.required)}}function fl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function hl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,fl,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("otherBanks").controls[e].get("otherBankName").errors.required)}}function pl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440 \u0441\u0447\u0435\u0442\u0430 (20 \u0446\u0438\u0444\u0440) "),m.Pb())}function ml(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,pl,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("otherBanks").controls[e].get("otherBankOwnerAccount").errors.required)}}function gl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function vl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,gl,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("otherBanks").controls[e].get("otherBankTarget").errors.required)}}function Pl(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",67),m.Qb(1,"div",68),m.Qb(2,"div",69),m.Hc(3," \u0421\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435 "),m.Pb(),m.Qb(4,"button",70),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().remove(i,"otherBanks")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",71),m.Qb(7,"div",72),m.Qb(8,"div",73),m.Qb(9,"div",21),m.Qb(10,"label",74),m.Hc(11,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(12,"input",75),m.Fc(13,ul,2,1,"div",7),m.Pb(),m.Qb(14,"div",21),m.Qb(15,"label",76),m.Hc(16,"\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(17,"input",77),m.Pb(),m.Qb(18,"div",17),m.Qb(19,"label",78),m.Hc(20,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Qb(21,"p-autoComplete",79),m.Xb("completeMethod",function(t){return m.yc(e),m.ac().searchByBankName(t)})("onSelect",function(i){m.yc(e);const n=t.index,r=m.ac();return r.onOtherBankSelect(r.formFactoring.get("otherBanks").controls[n],i)}),m.Pb(),m.Fc(22,hl,2,1,"div",7),m.Pb(),m.Qb(23,"div",17),m.Qb(24,"label",80),m.Hc(25,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(26,"p-inputMask",81),m.Fc(27,ml,2,1,"div",7),m.Pb(),m.Qb(28,"div",17),m.Qb(29,"label",82),m.Hc(30,"\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f"),m.Pb(),m.Lb(31,"input",83),m.Fc(32,vl,2,1,"div",7),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac();m.zb(7),m.hc("formGroupName",e),m.zb(6),m.hc("ngIf",i.formFactoring.get("otherBanks").controls[e].get("otherBankAccountOpenDate").invalid),m.zb(8),m.hc("suggestions",i.resultsBankname),m.zb(1),m.hc("ngIf",i.formFactoring.get("otherBanks").controls[e].get("otherBankName").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("otherBanks").controls[e].get("otherBankOwnerAccount").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("otherBanks").controls[e].get("otherBankTarget").invalid)}}function yl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Il(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,yl,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringProducts.errors.required)}}function Fl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ql(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Fl,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringTradeMarks.errors.required)}}function Cl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Dl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Cl,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringShipments.errors.required)}}function kl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function zl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,kl,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringFinanceLimit.errors.required)}}function Sl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function wl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Sl,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringClients.errors.required)}}function xl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Ol(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,xl,2,0,"small",63),m.Pb()),2&e){const e=m.ac();m.zb(1),m.hc("ngIf",e.formFactoring.controls.factoringWorkers.errors.required)}}function _l(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",84),m.Qb(1,"div",68),m.Qb(2,"div",69),m.Hc(3," \u0421\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),m.Pb(),m.Qb(4,"button",70),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().remove(i,"factoringPlaces")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",71),m.Qb(7,"div",72),m.Qb(8,"div",73),m.Qb(9,"div",17),m.Qb(10,"label",85),m.Hc(11,"\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430"),m.Pb(),m.Qb(12,"div",35),m.Lb(13,"input",86),m.Qb(14,"button",87),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().openAddressForm(i)}),m.Pb(),m.Pb(),m.Pb(),m.Qb(15,"div",17),m.Qb(16,"label",88),m.Hc(17,"\u0424\u043e\u0440\u043c\u0430 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(18,"p-dropdown",89),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac();m.zb(7),m.hc("formGroupName",e),m.zb(11),m.hc("options",i.typesOfOwner)}}function El(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Al(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,El,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringCreditsCreditor").errors.required)}}function Nl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Tl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Nl,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesTypeDuty").errors.required)}}function Ll(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Hl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ll,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesDateClose").errors.required)}}function Bl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Rl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Bl,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesContractSum").errors.required)}}function Ml(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ql(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Ml,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesBalanceReport").errors.required)}}function jl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function $l(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,jl,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesBalanceCurrent").errors.required)}}function Ul(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",90),m.Qb(1,"div",68),m.Qb(2,"div",69),m.Hc(3," \u041a\u0440\u0435\u0434\u0438\u0442, \u0437\u0430\u0439\u043c, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f, ... "),m.Pb(),m.Qb(4,"button",70),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().remove(i,"factoringCredits")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",71),m.Qb(7,"div",72),m.Qb(8,"div",73),m.Qb(9,"div",4),m.Qb(10,"label",91),m.Hc(11,"\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440"),m.Pb(),m.Lb(12,"input",92),m.Fc(13,Al,2,1,"div",7),m.Pb(),m.Qb(14,"div",4),m.Qb(15,"label",93),m.Hc(16,"\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430"),m.Pb(),m.Lb(17,"input",94),m.Fc(18,Tl,2,1,"div",7),m.Pb(),m.Qb(19,"div",4),m.Qb(20,"label",95),m.Hc(21,"\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f"),m.Pb(),m.Lb(22,"input",96),m.Fc(23,Hl,2,1,"div",7),m.Pb(),m.Qb(24,"div",4),m.Qb(25,"label",97),m.Hc(26,"\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430"),m.Pb(),m.Lb(27,"input",98),m.Fc(28,Rl,2,1,"div",7),m.Pb(),m.Qb(29,"div",99),m.Qb(30,"label",100),m.Hc(31,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438"),m.Pb(),m.Lb(32,"input",101),m.Fc(33,ql,2,1,"div",7),m.Pb(),m.Qb(34,"div",99),m.Qb(35,"label",102),m.Hc(36,"\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443"),m.Pb(),m.Lb(37,"input",103),m.Fc(38,$l,2,1,"div",7),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac();m.zb(7),m.hc("formGroupName",e),m.zb(6),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringCreditsCreditor").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesTypeDuty").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesDateClose").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesContractSum").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesBalanceReport").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringCredits").controls[e].get("factoringPlacesBalanceCurrent").invalid)}}function Gl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Vl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Gl,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringEDIProviders").controls[e].get("factoringEDIProvidersDebitor").errors.required)}}function Xl(e,t){1&e&&(m.Qb(0,"small",64),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Kl(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Xl,2,0,"small",63),m.Pb()),2&e){const e=m.ac().index,t=m.ac();m.zb(1),m.hc("ngIf",t.formFactoring.get("factoringEDIProviders").controls[e].get("factoringEDIProvidersProvider").errors.required)}}function Wl(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",104),m.Qb(1,"div",68),m.Qb(2,"div",69),m.Hc(3," EDI "),m.Pb(),m.Qb(4,"button",70),m.Xb("click",function(){m.yc(e);const i=t.index;return m.ac().remove(i,"factoringEDIProviders")}),m.Hc(5," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(6,"div",71),m.Qb(7,"div",72),m.Qb(8,"div",73),m.Qb(9,"div",17),m.Qb(10,"label",105),m.Hc(11,"\u0414\u0435\u0431\u0438\u0442\u043e\u0440"),m.Pb(),m.Lb(12,"input",106),m.Fc(13,Vl,2,1,"div",7),m.Pb(),m.Qb(14,"div",17),m.Qb(15,"label",107),m.Hc(16,"EDI-\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440"),m.Pb(),m.Lb(17,"input",108),m.Fc(18,Kl,2,1,"div",7),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.index,i=m.ac();m.zb(7),m.hc("formGroupName",e),m.zb(6),m.hc("ngIf",i.formFactoring.get("factoringEDIProviders").controls[e].get("factoringEDIProvidersDebitor").invalid),m.zb(5),m.hc("ngIf",i.formFactoring.get("factoringEDIProviders").controls[e].get("factoringEDIProvidersProvider").invalid)}}function Zl(e,t){1&e&&(m.Qb(0,"div",128),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Jl(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",131),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",132),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Yl(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Jl,7,1,"div",130),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Regulations"===e.Identifier)}}function ed(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Yl,2,1,"ng-container",129),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function td(e,t){1&e&&(m.Qb(0,"div",128),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function id(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",131),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",132),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function nd(e,t){if(1&e&&(m.Ob(0),m.Fc(1,id,7,1,"div",130),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","GenDirPassport"===e.Identifier)}}function rd(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,nd,2,1,"ng-container",129),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function od(e,t){1&e&&(m.Qb(0,"div",128),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function ad(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",131),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",132),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function sd(e,t){if(1&e&&(m.Ob(0),m.Fc(1,ad,7,1,"div",130),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","GenDirProtocol"===e.Identifier)}}function cd(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,sd,2,1,"ng-container",129),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function ld(e,t){1&e&&(m.Qb(0,"div",128),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function dd(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",131),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",132),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function bd(e,t){if(1&e&&(m.Ob(0),m.Fc(1,dd,7,1,"div",130),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","GenDirOrder"===e.Identifier)}}function ud(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,bd,2,1,"ng-container",129),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function fd(e,t){1&e&&(m.Qb(0,"div",128),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function hd(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",131),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",132),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function pd(e,t){if(1&e&&(m.Ob(0),m.Fc(1,hd,7,1,"div",130),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Balance"===e.Identifier)}}function md(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,pd,2,1,"ng-container",129),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function gd(e,t){1&e&&(m.Qb(0,"div",128),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function vd(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",131),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",132),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Pd(e,t){if(1&e&&(m.Ob(0),m.Fc(1,vd,7,1,"div",130),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","OSV"===e.Identifier)}}function yd(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Pd,2,1,"ng-container",129),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function Id(e,t){1&e&&(m.Qb(0,"div",128),m.Qb(1,"small",64),m.Hc(2," \u041d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u043e \u0437\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442 "),m.Pb(),m.Pb())}function Fd(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",131),m.Qb(1,"div",110),m.Qb(2,"p"),m.Hc(3),m.Pb(),m.Pb(),m.Qb(4,"div",111),m.Qb(5,"div",132),m.Xb("click",function(){m.yc(e);const t=m.ac().$implicit;return m.ac(3).removeFile(t)}),m.Hc(6," \u0423\u0434\u0430\u043b\u0438\u0442\u044c "),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.ac().$implicit;m.zb(3),m.Jc(" ",e.FileName," ")}}function Qd(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Fd,7,1,"div",130),m.Nb()),2&e){const e=t.$implicit;m.zb(1),m.hc("ngIf","Shareholders"===e.Identifier)}}function Cd(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Qd,2,1,"ng-container",129),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.hc("ngForOf",e.files)}}function Dd(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"div",20),m.Qb(2,"p"),m.Hc(3,"\u041f\u0440\u0438\u043a\u0440\u0435\u043f\u0438\u0442\u0435 \u043d\u0435\u043e\u0431\u0445\u043e\u0434\u0438\u043c\u044b\u0435 \u0444\u0430\u0439\u043b\u044b:"),m.Pb(),m.Pb(),m.Qb(4,"div",17),m.Qb(5,"div",109),m.Qb(6,"div",110),m.Qb(7,"p"),m.Hc(8," \u0423\u0441\u0442\u0430\u0432 (\u0421\u043e \u0432\u0441\u0435\u043c\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f\u043c\u0438) "),m.Pb(),m.Pb(),m.Qb(9,"div",111),m.Qb(10,"input",112),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"Regulations")}),m.Pb(),m.Qb(11,"label",113),m.Lb(12,"i",114),m.Hc(13," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(14,Zl,3,0,"div",115),m.Fc(15,ed,2,1,"div",7),m.Pb(),m.Qb(16,"div",17),m.Qb(17,"div",109),m.Qb(18,"div",110),m.Qb(19,"p"),m.Hc(20," \u041f\u0430\u0441\u043f\u043e\u0440\u0442 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 (\u0412\u0441\u0435 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u044b) "),m.Pb(),m.Pb(),m.Qb(21,"div",111),m.Qb(22,"input",116),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"GenDirPassport")}),m.Pb(),m.Qb(23,"label",117),m.Lb(24,"i",114),m.Hc(25," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(26,td,3,0,"div",115),m.Fc(27,rd,2,1,"div",7),m.Pb(),m.Qb(28,"div",17),m.Qb(29,"div",109),m.Qb(30,"div",110),m.Qb(31,"p"),m.Hc(32," \u041f\u0440\u043e\u0442\u043e\u043a\u043e\u043b/\u0440\u0435\u0448\u0435\u043d\u0438\u0435 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),m.Pb(),m.Pb(),m.Qb(33,"div",111),m.Qb(34,"input",118),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"GenDirProtocol")}),m.Pb(),m.Qb(35,"label",119),m.Lb(36,"i",114),m.Hc(37," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(38,od,3,0,"div",115),m.Fc(39,cd,2,1,"div",7),m.Pb(),m.Qb(40,"div",17),m.Qb(41,"div",109),m.Qb(42,"div",110),m.Qb(43,"p"),m.Hc(44," \u041f\u0440\u0438\u043a\u0430\u0437 \u043e \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d\u0438\u0438 \u0433\u0435\u043d\u0435\u0440\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0430 "),m.Pb(),m.Pb(),m.Qb(45,"div",111),m.Qb(46,"input",120),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"GenDirOrder")}),m.Pb(),m.Qb(47,"label",121),m.Lb(48,"i",114),m.Hc(49," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(50,ld,3,0,"div",115),m.Fc(51,ud,2,1,"div",7),m.Pb(),m.Qb(52,"div",17),m.Qb(53,"div",109),m.Qb(54,"div",110),m.Qb(55,"p"),m.Hc(56," \u0411\u0443\u0445\u0433\u0430\u043b\u0442\u0435\u0440\u0441\u043a\u0438\u0439 \u0411\u0430\u043b\u0430\u043d\u0441 "),m.Pb(),m.Pb(),m.Qb(57,"div",111),m.Qb(58,"input",122),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"Balance")}),m.Pb(),m.Qb(59,"label",123),m.Lb(60,"i",114),m.Hc(61," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(62,fd,3,0,"div",115),m.Fc(63,md,2,1,"div",7),m.Pb(),m.Qb(64,"div",17),m.Qb(65,"div",109),m.Qb(66,"div",110),m.Qb(67,"p"),m.Hc(68," \u041e\u0421\u0412 (\u043e\u0431\u043e\u0440\u043e\u0442\u043d\u043e-\u0441\u0430\u043b\u044c\u0434\u043e\u0432\u0430\u044f \u0432\u0435\u0434\u043e\u043c\u043e\u0441\u0442\u044c) "),m.Pb(),m.Pb(),m.Qb(69,"div",111),m.Qb(70,"input",124),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"OSV")}),m.Pb(),m.Qb(71,"label",125),m.Lb(72,"i",114),m.Hc(73," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(74,gd,3,0,"div",115),m.Fc(75,yd,2,1,"div",7),m.Pb(),m.Qb(76,"div",99),m.Qb(77,"div",109),m.Qb(78,"div",110),m.Qb(79,"p"),m.Hc(80," \u041f\u0430\u0441\u043f\u043e\u0440\u0442\u0430 \u0423\u0447\u0440\u0435\u0434\u0438\u0442\u0435\u043b\u0435\u0439 "),m.Pb(),m.Pb(),m.Qb(81,"div",111),m.Qb(82,"input",126),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"Shareholders")}),m.Pb(),m.Qb(83,"label",127),m.Lb(84,"i",114),m.Hc(85," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Fc(86,Id,3,0,"div",115),m.Fc(87,Cd,2,1,"div",7),m.Pb(),m.Nb()}if(2&e){const e=m.ac();m.zb(14),m.hc("ngIf",e.isFileInvalid("Regulations")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("GenDirPassport")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("GenDirProtocol")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("GenDirOrder")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("Balance")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("OSV")),m.zb(1),m.hc("ngIf",e.files.length),m.zb(11),m.hc("ngIf",e.isFileInvalid("Shareholders")),m.zb(1),m.hc("ngIf",e.files.length)}}let kd=(()=>{class e{constructor(e,t,i,n,r,o){this.dialogService=e,this.messageService=t,this.commonService=i,this.fileService=n,this.currencyPipe=r,this.fb=o,this.save=new m.n,this.create=new m.n,this.back=new m.n,this.organizationTypes=[],this.ruleTypes=[],this.typesOfOwner=[],this.files=[],this.subscription$=new C.a}ngOnInit(){this.initForm(),this.initValues(),this.currentDemand&&this.convertToFormData(),this._saveDraftAction$=setInterval(()=>this.saveDraft(),3e4)}onBack(){this.back.emit()}ngOnDestroy(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}onSubmit(){this.create.emit(this.prepareData())}saveDraft(){this.save.emit(this.prepareDraft())}search(e){this.subscription$.add(this.commonService.getBankByBIK(e.query).subscribe(e=>{this.banksFounded=e,this.resultsBIK=e.map(e=>e.BIC)}))}onOtherBankSelect(e,t){let i=this.banksFounded.find(e=>e.BIC===t||e.Name===t);this.formFactoring.get("otherBanks").controls[e].patchValue({otherBankName:i.Name})}onBankSelect(e){let t=this.banksFounded.find(t=>t.BIC===e||t.Name===e);this.formFactoring.patchValue({bankBik:t.BIC,bankCorrespondentAccount:t.AccountBank,bankName:t.Name})}searchByBankName(e){this.subscription$.add(this.commonService.getBankByName(e.query).subscribe(e=>{this.banksFounded=e,this.resultsBankname=e.map(e=>e.Name)}))}addOtherBank(e){this.formFactoring.get("otherBanks").push(this.fb.group({otherBankAccountOpenDate:[(null==e?void 0:e.Date)?Object(D.x)(null==e?void 0:e.Date,"yyyy-MM-dd","en"):"",[S.x.required]],otherBankAccountCloseDate:[(null==e?void 0:e.Expire)?Object(D.x)(null==e?void 0:e.Expire,"yyyy-MM-dd","en"):""],otherBankName:[(null==e?void 0:e.Bank)?null==e?void 0:e.Bank:"",[S.x.required]],otherBankOwnerAccount:[(null==e?void 0:e.Number)?null==e?void 0:e.Number:"",[S.x.required]],otherBankTarget:[(null==e?void 0:e.Comment)?null==e?void 0:e.Comment:"",[S.x.required]]}))}addOtherPlace(e){let t=this.formFactoring.get("factoringPlaces");t.push(this.fb.group({displayAddress:"",factoringPlacesAddress:{PostCode:e?e.Address.PostCode:"",Country:e?e.Address.Country:"\u0420\u043e\u0441\u0441\u0438\u0439\u0441\u043a\u0430\u044f \u0424\u0435\u0434\u0435\u0440\u0430\u0446\u0438\u044f",RegionCode:e?e.Address.RegionCode:77,RegionTitle:e?e.Address.RegionTitle:"",City:e?e.Address.City:"\u041c\u043e\u0441\u043a\u0432\u0430",District:e?e.Address.District:"",Locality:e?e.Address.Locality:"",Street:e?e.Address.Street:"",House:e?e.Address.House:"",Appartment:e?e.Address.Appartment:""},factoringPlacesLegalForm:["Own",[S.x.required]]})),this.updateDisplayAddress(t.length-1)}addFactoringCredits(e){this.formFactoring.get("factoringCredits").push(this.fb.group({factoringCreditsCreditor:[e?e.Creditor:""],factoringPlacesTypeDuty:[e?e.Type:""],factoringPlacesDateClose:[e?Object(D.x)(e.Date,"yyyy-MM-dd","en"):""],factoringPlacesContractSum:[e?e.Summ:""],factoringPlacesBalanceReport:[e?e.ReportingRest:""],factoringPlacesBalanceCurrent:[e?e.CurrentRest:""]}))}addEDIProvider(e){this.formFactoring.get("factoringEDIProviders").push(this.fb.group({factoringEDIProvidersDebitor:[e?e.Company:"",[S.x.required]],factoringEDIProvidersProvider:[e?e.EDIProvider:"",[S.x.required]]}))}remove(e,t){this.formFactoring.get(t).removeAt(e)}openAddressForm(e){this.currentAddressFormId=e,this.ref=this.dialogService.open(N,{header:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0410\u0434\u0440\u0435\u0441",width:"650px",contentStyle:{"max-height":"500px",overflow:"auto"},baseZIndex:1e4,styleClass:"p-fluid",data:{address:this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,index:e}}),this.ref.onClose.subscribe(e=>{e&&(this.formFactoring.value.factoringPlaces[this.currentAddressFormId].factoringPlacesAddress=e,this.updateDisplayAddress(this.currentAddressFormId))})}isFilesInvalid(){let e=!1,t=this.files.map(e=>e.Identifier);return t.length<1||(e=!(t.includes("Regulations")&&t.includes("GenDirPassport")&&t.includes("GenDirProtocol")&&t.includes("GenDirOrder")&&t.includes("Balance")&&t.includes("OSV")&&t.includes("Shareholders")),e)}isFileInvalid(e){let t=!1;return t=!this.files.map(e=>e.Identifier).includes(e),t}onSelect(e,t){let i=e.target.files;for(let n of i){let e=k.a.newGuid();this.subscription$.add(this.commonService.getBase64(n).pipe(Object(u.a)(t=>this.fileService.uploadFileChunks(t,n.name,n.size.toString(),e))).subscribe(e=>{console.log(e),this.files.push({Code:e.Code,FileName:e.FileName,ID:e.ID,Size:e.Size,Identifier:t})},e=>console.log(e)))}}removeFile(e){this.files.splice(this.files.indexOf(this.files.find(t=>t===e)),1)}onTypeChanged(e){0===e&&this.formFactoring.patchValue({organizationLegalForm:null})}updateDisplayAddress(e){let t=this.formFactoring.value.factoringPlaces[e].factoringPlacesAddress,i="";console.log(t),t.PostCode&&(i=i+" "+t.PostCode),t.Country&&(i=i+" "+t.Country),t.RegionCode&&(i=i+" "+t.RegionCode),t.RegionTitle&&(i=i+" "+t.RegionTitle),t.City&&(i=i+" "+t.City),t.District&&(i=i+" "+t.District),t.Locality&&(i=i+" "+t.Locality),t.Street&&(i=i+" "+t.Street),t.House&&(i=i+" "+t.House),t.Appartment&&(i=i+" "+t.Appartment),this.formFactoring.controls.factoringPlaces.at(e).patchValue({displayAddress:i,factoringPlacesAddress:t})}initValues(){let e=new x.a;this.organizationTypes=e.getOrganizations(),this.ruleTypes=e.getLegalForms(),this.typesOfOwner=e.getTypesOfOwner()}initForm(){this.formFactoring=this.fb.group({organizationType:[0,[S.x.required]],organizationLegalForm:[""],organizationShortName:["",[S.x.required]],organizationINN:["",[S.x.required,S.x.minLength(10),S.x.maxLength(12)]],organizationPhone:["",[S.x.required]],organizationEmail:["",[S.x.required,S.x.email]],organizationWEB:[""],bankBik:["",[S.x.required]],bankCorrespondentAccount:["",[S.x.required]],bankName:["",[S.x.required]],bankAccountOpenDate:["",[S.x.required]],bankOwnerAccount:["",[S.x.required]],bankComment:[""],otherBanks:this.fb.array([]),factoringProducts:["",[S.x.required]],factoringTradeMarks:["",[S.x.required]],factoringShipments:["",[S.x.required]],factoringFinanceLimit:[null,[S.x.required]],factoringClients:["",[S.x.required]],factoringWorkers:[0,[S.x.required]],factoringPlaces:this.fb.array([]),factoringCredits:this.fb.array([]),factoringEDIProviders:this.fb.array([])}),this.formFactoring.markAllAsTouched(),this.formFactoring.markAsDirty()}prepareDraft(){return this.prepareCoreData()}prepareData(){return{Data:this.prepareCoreData(),DraftID:this.currentDraftId}}convertToFormData(){let e=this.currentDemand.Factoring,t=this.currentDemand.Anket,i=e.AddonAccounts,n=e.Properties,r=e.Obligations,o=e.EDI;this.formFactoring.patchValue({organizationType:t.Organization.Type,organizationLegalForm:t.Organization.LegalForm,organizationShortName:t.Organization.ShortTitle,organizationINN:t.Organization.Requisites.INN,organizationPhone:t.Organization.Phone,organizationEmail:t.Organization.Email,organizationWEB:t.Organization.Website,bankBik:e.Account.BIK,bankCorrespondentAccount:e.Account.COR,bankName:e.Account.Bank,bankAccountOpenDate:Object(D.x)(e.Account.Date,"yyyy-MM-dd","en"),bankOwnerAccount:e.Account.Number,bankComment:e.Account.Comment,factoringProducts:e.Products,factoringTradeMarks:e.Trademarks,factoringShipments:e.Suppliers,factoringFinanceLimit:e.LimitWanted,factoringClients:e.Buyers,factoringWorkers:e.StaffAmount}),i.forEach(e=>this.addOtherBank(e)),n.forEach(e=>this.addOtherPlace(e)),r.forEach(e=>this.addFactoringCredits(e)),o.forEach(e=>this.addEDIProvider(e))}prepareCoreData(){let e=[],t=[],i=[],n=[];return this.formFactoring.value.factoringPlaces.forEach(e=>{n.push({Address:{Appartment:e.factoringPlacesAddress.Appartment,City:e.factoringPlacesAddress.City,Country:e.factoringPlacesAddress.Country,District:e.factoringPlacesAddress.District,House:e.factoringPlacesAddress.House,Locality:e.factoringPlacesAddress.Locality,PostCode:e.factoringPlacesAddress.PostCode,RegionCode:e.factoringPlacesAddress.RegionCode,Street:e.factoringPlacesAddress.Street,RegionTitle:e.factoringPlacesAddress.RegionTitle},Comment:"",Type:e.factoringPlacesLegalForm})}),this.formFactoring.value.factoringCredits.forEach(e=>{t.push({Creditor:e.factoringCreditsCreditor,CurrentRest:e.factoringPlacesBalanceCurrent,Date:new Date(e.factoringPlacesDateClose),ReportingRest:e.factoringPlacesBalanceReport,Summ:e.factoringPlacesContractSum,Type:e.factoringPlacesTypeDuty})}),this.formFactoring.value.otherBanks.forEach(e=>{i.push({BIK:"",Bank:e.otherBankName,COR:"",Comment:e.otherBankTarget,Date:new Date(e.otherBankAccountOpenDate),Expire:new Date(e.otherBankAccountCloseDate),Number:e.otherBankOwnerAccount})}),this.formFactoring.value.factoringEDIProviders.forEach(t=>{e.push({Company:t.factoringEDIProvidersDebitor,EDIProvider:t.factoringEDIProvidersProvider})}),{Anket:{Registration:{Authority:"",Date:new Date,InitDate:new Date,Number:"",Place:""},Resident:{Country:"\u0420\u0424",ForeignCode:"",IsResident:!0},Shareholders:[],Signer:{FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},Passport:{Date:new Date,Expire:new Date,IsForeign:!1,IssuerCode:"",IssuerTitle:"",Nationality:"",Number:""},Person:{BirthDate:new Date,BirthPlace:"",Email:"",Gender:1,Name:{First:"",Last:"",Second:""},NameFirst:"",NameLast:"",NameSecond:"",Phone:"",SNILS:""},PositionDate:new Date,PositionTitle:"",RegistrationAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""}},Activities:[],Capital:{Total:0,Payed:0},Licenses:[],Objectives:{BankRelationObjective:16,BankRelationObjectiveOther:"",FinancialObjective:1,FinancialObjectiveOther:"",TransactionsContracts:"\u0414\u043e\u0433\u043e\u0432\u043e\u0440 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433\u0430",TransactionsCount:"",TransactionsSumm:""},Organization:{Email:this.formFactoring.value.organizationEmail,FactAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},FactAddressEquals:!1,ForeignTitle:"",FullTitle:"",LegalAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},LegalForm:this.formFactoring.value.organizationLegalForm,Phone:this.formFactoring.value.organizationPhone,PostAddress:{Appartment:"",City:"",Country:"",District:"",House:"",Locality:"",PostCode:"",RegionCode:0,RegionTitle:"",Street:""},PostAddressEquals:!1,Requisites:{INN:this.formFactoring.value.organizationINN,KPP:"",OGRN:"",OKATO:"",OKPO:""},ShortTitle:this.formFactoring.value.organizationShortName,Type:this.formFactoring.value.organizationType,Website:this.formFactoring.value.organizationWEB}},Factoring:{Account:{BIK:this.formFactoring.value.bankBik,Bank:this.formFactoring.value.bankName,COR:this.formFactoring.value.bankCorrespondentAccount,Comment:this.formFactoring.value.bankComment,Date:new Date(this.formFactoring.value.bankAccountOpenDate),Expire:null,Number:this.formFactoring.value.bankOwnerAccount},AddonAccounts:i,Buyers:this.formFactoring.value.Clients,EDI:e,FactoringAim:0,LimitWanted:this.formFactoring.value.factoringFinanceLimit,Obligations:t,Products:this.formFactoring.value.factoringProducts,Properties:n,StaffAmount:this.formFactoring.value.factoringWorkers,Suppliers:this.formFactoring.value.factoringShipments,Trademarks:this.formFactoring.value.factoringTradeMarks},Files:this.files,Type:"Guarantee"}}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(O.a),m.Kb(L.g),m.Kb(H.a),m.Kb(B.a),m.Kb(D.d),m.Kb(S.d))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-surety-data"]],inputs:{isEdit:"isEdit",currentDemand:"currentDemand",currentDraftId:"currentDraftId"},outputs:{save:"save",create:"create",back:"back"},decls:150,vars:29,consts:[[3,"formGroup","ngSubmit"],[1,"form-actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-md-4","p-lg-3"],["for","organizationShortName"],["id","organizationShortName","type","text","pInputText","","placeholder","\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435","formControlName","organizationShortName"],[4,"ngIf"],["for","organizationINN"],["id","organizationINN","pInputText","","type","text","placeholder","\u0418\u041d\u041d","formControlName","organizationINN","minlength","10","maxlength","12"],["for","organizationType"],["id","organizationType","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438","formControlName","organizationType","optionLabel","title","optionValue","value",3,"options","onChange"],["class","p-field p-col-12 p-md-4 p-lg-3",4,"ngIf"],["for","organizationPhone"],["id","organizationPhone","type","tel","placeholder","\u0422\u0435\u043b\u0435\u0444\u043e\u043d","formControlName","organizationPhone","mask","+7-999-999-99-99"],["for","organizationEmail"],["id","organizationEmail","type","email","pInputText","","placeholder","E-mail","formControlName","organizationEmail"],[1,"p-field","p-col-12","p-md-6"],["for","organizationWEB"],["id","organizationWEB","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430","formControlName","organizationWEB"],[1,"p-field","p-col-12","p-md-12"],[1,"p-field","p-col-12","p-md-3"],["for","bankBik"],["id","bankBik","placeholder","\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430","formControlName","bankBik",3,"suggestions","completeMethod","onSelect"],["for","bankCorrespondentAccount"],["id","bankCorrespondentAccount","type","text","mask","99999999999999999999","placeholder","\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430","formControlName","bankCorrespondentAccount"],["for","bankName"],["id","bankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","bankName",3,"suggestions","completeMethod","onSelect"],["for","bankAccountOpenDate"],["id","bankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","bankAccountOpenDate"],["for","bankOwnerAccount"],["id","bankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","bankOwnerAccount"],["for","bankComment"],["id","bankComment","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u043e\u0439","formControlName","bankComment"],["class","mib-formset","formArrayName","otherBanks",4,"ngFor","ngForOf"],[1,"addon-button"],[1,"addon-text-small"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0447\u0451\u0442 \u0432 \u0431\u0430\u043d\u043a\u0435","type","button",1,"basic-small",3,"click"],[1,"p-field","p-col-12","p-lg-4"],["for","factoringProducts"],["id","factoringProducts","type","text","pInputText","","placeholder","\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringProducts"],[1,"p-field","p-col-12","p-lg-8"],["for","factoringTradeMarks"],["id","factoringTradeMarks","type","text","pInputText","","placeholder","\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438","formControlName","factoringTradeMarks"],[1,"p-field","p-col-12","p-lg-6"],["for","factoringShipments"],["id","factoringShipments","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438","formControlName","factoringShipments"],["for","factoringFinanceLimit"],["placeholder","\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442","id","factoringFinanceLimit","formControlName","factoringFinanceLimit","inputId","factoringFinanceLimit","mode","currency","currency","RUB","locale","ru-RU"],["for","factoringClients"],["id","factoringClients","type","text","pInputText","","placeholder","\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438","formControlName","factoringClients"],["for","factoringWorkers"],["id","factoringWorkers","type","number","pInputText","","placeholder","\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432","formControlName","factoringWorkers"],[1,"description"],["class","mib-formset","formArrayName","factoringPlaces",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringCredits",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c","type","button",1,"basic-small",3,"click"],["class","mib-formset","formArrayName","factoringEDIProviders",4,"ngFor","ngForOf"],["pButton","","pRipple","","label","\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435","type","button",1,"basic-small",3,"click"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],["class","p-error",4,"ngIf"],[1,"p-error"],["for","organizationLegalForm"],["id","organizationLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u041f\u0440\u0430\u0432\u043e\u0432\u0443\u044e \u0444\u043e\u0440\u043c\u0443","formControlName","organizationLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","otherBanks",1,"mib-formset"],[1,"title"],[1,"text"],[1,"button","warn",3,"click"],[1,"form"],[3,"formGroupName"],[1,"p-fluid","p-formgrid","p-grid"],["for","otherBankAccountOpenDate"],["id","otherBankAccountOpenDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountOpenDate"],["for","otherBankAccountCloseDate"],["id","otherBankAccountCloseDate","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u0437\u0430\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankAccountCloseDate"],["for","otherBankName"],["id","otherBankName","placeholder","\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430","formControlName","otherBankName",3,"suggestions","completeMethod","onSelect"],["for","otherBankOwnerAccount"],["id","otherBankOwnerAccount","type","text","mask","99999999999999999999","placeholder","\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430","formControlName","otherBankOwnerAccount"],["for","otherBankTarget"],["id","otherBankTarget","type","text","pInputText","","placeholder","\u0426\u0435\u043b\u044c \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u043d\u0438\u044f","formControlName","otherBankTarget"],["formArrayName","factoringPlaces",1,"mib-formset"],["for","factoringPlacesAddress"],["id","factoringPlacesAddress","type","text","pInputText","","placeholder","\u0410\u0434\u0440\u0435\u0441 \u043e\u0431\u044a\u0451\u043a\u0442\u0430","disabled","","formControlName","displayAddress"],["pButton","","pRipple","","type","button","label","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],["for","factoringPlacesLegalForm"],["id","factoringPlacesLegalForm","placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0424\u043e\u0440\u043c\u0443 \u0432\u043b\u0430\u0434\u0435\u043d\u0438\u044f","formControlName","factoringPlacesLegalForm","optionLabel","title","optionValue","value",3,"options"],["formArrayName","factoringCredits",1,"mib-formset"],["for","factoringCreditsCreditor"],["id","factoringCreditsCreditor","type","text","pInputText","","placeholder","\u041a\u0440\u0435\u0434\u0438\u0442\u043e\u0440","formControlName","factoringCreditsCreditor"],["for","factoringPlacesTypeDuty"],["id","factoringPlacesTypeDuty","type","text","pInputText","","placeholder","\u0422\u0438\u043f \u043e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430","formControlName","factoringPlacesTypeDuty"],["for","factoringPlacesDateClose"],["id","factoringPlacesDateClose","type","date","pInputText","","placeholder","\u0414\u0430\u0442\u0430 \u043f\u043e\u0433\u0430\u0448\u0435\u043d\u0438\u044f","formControlName","factoringPlacesDateClose"],["for","factoringPlacesContractSum"],["id","factoringPlacesContractSum","type","text","pInputText","","placeholder","\u0421\u0443\u043c\u043c\u0430 \u0434\u043e\u0433\u043e\u0432\u043e\u0440\u0430","formControlName","factoringPlacesContractSum"],[1,"p-field","p-col-12","p-md-6","p-lg-6"],["for","factoringPlacesBalanceReport"],["id","factoringPlacesBalanceReport","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0434\u0430\u0442\u0443 \u0441\u0434\u0430\u0447\u0438 \u043e\u0442\u0447\u0435\u0442\u043d\u043e\u0441\u0442\u0438","formControlName","factoringPlacesBalanceReport"],["for","factoringPlacesBalanceCurrent"],["id","factoringPlacesBalanceCurrent","type","text","pInputText","","placeholder","\u041e\u0441\u0442\u0430\u0442\u043e\u043a \u043d\u0430 \u0442\u0435\u043a\u0443\u0449\u0443\u044e \u0434\u0430\u0442\u0443","formControlName","factoringPlacesBalanceCurrent"],["formArrayName","factoringEDIProviders",1,"mib-formset"],["for","factoringEDIProvidersDebitor"],["id","factoringEDIProvidersDebitor","type","text","pInputText","","placeholder","\u0414\u0435\u0431\u0438\u0442\u043e\u0440","formControlName","factoringEDIProvidersDebitor"],["for","factoringEDIProvidersProvider"],["id","factoringEDIProvidersProvider","type","text","pInputText","","placeholder","EDI-\u041f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440","formControlName","factoringEDIProvidersProvider"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","Regulations","multiple","true","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Regulations",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["class","mib-uploader__error",4,"ngIf"],["type","file","id","GenDirPassport","accept","image/jpeg,image/png,image/gif,application/pdf","multiple","true","hidden","",3,"change"],["for","GenDirPassport",1,"mib-upload"],["type","file","id","GenDirProtocol","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","GenDirProtocol",1,"mib-upload"],["type","file","id","actual-btn","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","actual-btn",1,"mib-upload"],["type","file","id","Balance","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Balance",1,"mib-upload"],["type","file","id","OSV","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","OSV",1,"mib-upload"],["type","file","id","Shareholders","accept","image/jpeg,image/png,image/gif,application/pdf","hidden","",3,"change"],["for","Shareholders",1,"mib-upload"],[1,"mib-uploader__error"],[4,"ngFor","ngForOf"],["class","addon-button mb-10",4,"ngIf"],[1,"addon-button","mb-10"],[1,"mib-upload-warn",3,"click"]],template:function(e,t){1&e&&(m.Qb(0,"form",0),m.Xb("ngSubmit",function(){return t.onSubmit()}),m.Qb(1,"div",1),m.Fc(2,Lc,1,0,"button",2),m.Pb(),m.Qb(3,"div",3),m.Qb(4,"div",4),m.Qb(5,"label",5),m.Hc(6,"\u0421\u043e\u043a\u0440\u0430\u0449\u0435\u043d\u043d\u043e\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435"),m.Pb(),m.Lb(7,"input",6),m.Fc(8,Bc,2,1,"div",7),m.Pb(),m.Qb(9,"div",4),m.Qb(10,"label",8),m.Hc(11,"\u0418\u041d\u041d"),m.Pb(),m.Lb(12,"input",9),m.Fc(13,qc,3,2,"div",7),m.Pb(),m.Qb(14,"div",4),m.Qb(15,"label",10),m.Hc(16,"\u0422\u0438\u043f \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u0438"),m.Pb(),m.Qb(17,"p-dropdown",11),m.Xb("onChange",function(e){return t.onTypeChanged(e.value)}),m.Pb(),m.Pb(),m.Fc(18,Uc,5,2,"div",12),m.Pb(),m.Qb(19,"div",3),m.Qb(20,"div",4),m.Qb(21,"label",13),m.Hc(22,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),m.Pb(),m.Lb(23,"p-inputMask",14),m.Fc(24,Vc,2,1,"div",7),m.Pb(),m.Qb(25,"div",4),m.Qb(26,"label",15),m.Hc(27,"E-mail"),m.Pb(),m.Lb(28,"input",16),m.Fc(29,Wc,3,2,"div",7),m.Pb(),m.Qb(30,"div",17),m.Qb(31,"label",18),m.Hc(32,"\u0410\u0434\u0440\u0435\u0441 \u0441\u0430\u0439\u0442\u0430"),m.Pb(),m.Lb(33,"input",19),m.Fc(34,Jc,2,1,"div",7),m.Pb(),m.Qb(35,"div",20),m.Qb(36,"h3"),m.Hc(37,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u043d\u043e\u0432\u043d\u043e\u0433\u043e \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Pb(),m.Qb(38,"div",21),m.Qb(39,"label",22),m.Hc(40,"\u0411\u0438\u043a \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Qb(41,"p-autoComplete",23),m.Xb("completeMethod",function(e){return t.search(e)})("onSelect",function(e){return t.onBankSelect(e)}),m.Pb(),m.Fc(42,el,2,1,"div",7),m.Pb(),m.Qb(43,"div",21),m.Qb(44,"label",24),m.Hc(45,"\u041a\u043e\u0440 \u0441\u0447\u0451\u0442 \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Lb(46,"p-inputMask",25),m.Fc(47,il,2,1,"div",7),m.Pb(),m.Qb(48,"div",17),m.Qb(49,"label",26),m.Hc(50,"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435 \u0431\u0430\u043d\u043a\u0430"),m.Pb(),m.Qb(51,"p-autoComplete",27),m.Xb("completeMethod",function(e){return t.searchByBankName(e)})("onSelect",function(e){return t.onBankSelect(e)}),m.Pb(),m.Fc(52,rl,2,1,"div",7),m.Pb(),m.Qb(53,"div",21),m.Qb(54,"label",28),m.Hc(55,"\u0414\u0430\u0442\u0430 \u043e\u0442\u043a\u0440\u044b\u0442\u0438\u044f \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(56,"input",29),m.Fc(57,al,2,1,"div",7),m.Pb(),m.Qb(58,"div",21),m.Qb(59,"label",30),m.Hc(60,"\u041d\u043e\u043c\u0435\u0440 \u0441\u0447\u0451\u0442\u0430"),m.Pb(),m.Lb(61,"p-inputMask",31),m.Fc(62,cl,2,1,"div",7),m.Pb(),m.Qb(63,"div",17),m.Qb(64,"label",32),m.Hc(65,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439"),m.Pb(),m.Lb(66,"input",33),m.Fc(67,dl,2,1,"div",7),m.Pb(),m.Qb(68,"div",20),m.Qb(69,"h3"),m.Hc(70,"\u0411\u0430\u043d\u043a\u043e\u0432\u0441\u043a\u0438\u0435 \u0440\u0435\u043a\u0432\u0438\u0437\u0438\u0442\u044b \u043e\u0441\u0442\u0430\u043b\u044c\u043d\u044b\u0445 \u0441\u0447\u0435\u0442\u043e\u0432"),m.Pb(),m.Fc(71,Pl,33,6,"div",34),m.Pb(),m.Qb(72,"div",17),m.Qb(73,"div",35),m.Qb(74,"div",36),m.Qb(75,"p"),m.Hc(76," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u044b\u0435 \u0441\u0447\u0435\u0442\u0430 \u0432 \u0434\u0440\u0443\u0433\u0438\u0445 \u0431\u0430\u043d\u043a\u0430\u0445 "),m.Pb(),m.Pb(),m.Qb(77,"button",37),m.Xb("click",function(){return t.addOtherBank()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(78,"div",20),m.Qb(79,"h3"),m.Hc(80,"\u041f\u0440\u0438\u043b\u043e\u0436\u0435\u043d\u0438\u0435 \u043a \u0410\u043d\u043a\u0435\u0442\u0435 (\u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433)"),m.Pb(),m.Pb(),m.Qb(81,"div",38),m.Qb(82,"label",39),m.Hc(83,"\u0412\u0438\u0434\u044b \u0440\u0435\u0430\u043b\u0438\u0437\u0443\u0435\u043c\u043e\u0439 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),m.Pb(),m.Lb(84,"input",40),m.Fc(85,Il,2,1,"div",7),m.Pb(),m.Qb(86,"div",41),m.Qb(87,"label",42),m.Hc(88,"\u0422\u043e\u0440\u0433\u043e\u0432\u044b\u0435 \u043c\u0430\u0440\u043a\u0438, \u043f\u043e\u0434 \u043a\u043e\u0442\u043e\u0440\u044b\u043c\u0438 \u043e\u0441\u0443\u0449\u0435\u0441\u0442\u0432\u043b\u044f\u0435\u0442\u0441\u044f \u043f\u0440\u043e\u0434\u0430\u0436\u0430 \u043f\u0440\u043e\u0434\u0443\u043a\u0446\u0438\u0438"),m.Pb(),m.Lb(89,"input",43),m.Fc(90,Ql,2,1,"div",7),m.Pb(),m.Qb(91,"div",44),m.Qb(92,"label",45),m.Hc(93,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0438"),m.Pb(),m.Lb(94,"input",46),m.Fc(95,Dl,2,1,"div",7),m.Pb(),m.Qb(96,"div",44),m.Qb(97,"label",47),m.Hc(98,"\u041f\u0440\u0435\u0434\u043f\u043e\u043b\u0430\u0433\u0430\u0435\u043c\u044b\u0439 \u043b\u0438\u043c\u0438\u0442 \u0444\u0438\u043d\u0430\u043d\u0441\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f"),m.Pb(),m.Lb(99,"p-inputNumber",48),m.Fc(100,zl,2,1,"div",7),m.Pb(),m.Qb(101,"div",17),m.Qb(102,"label",49),m.Hc(103,"\u041e\u0441\u043d\u043e\u0432\u043d\u044b\u0435 \u043f\u043e\u043a\u0443\u043f\u0430\u0442\u0435\u043b\u0438"),m.Pb(),m.Lb(104,"input",50),m.Fc(105,wl,2,1,"div",7),m.Pb(),m.Qb(106,"div",17),m.Qb(107,"label",51),m.Hc(108,"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e \u0441\u043e\u0442\u0440\u0443\u0434\u043d\u0438\u043a\u043e\u0432"),m.Pb(),m.Lb(109,"input",52),m.Fc(110,Ol,2,1,"div",7),m.Pb(),m.Qb(111,"div",20),m.Qb(112,"h3"),m.Hc(113,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438, \u043d\u0430\u0445\u043e\u0434\u044f\u0449\u0435\u0439\u0441\u044f \u0432 \u0441\u043e\u0431\u0441\u0442\u0432\u0435\u043d\u043d\u043e\u0441\u0442\u0438/\u0430\u0440\u0435\u043d\u0434\u0435 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u044f"),m.Pb(),m.Qb(114,"p",53),m.Hc(115,"\u041f\u043e \u043a\u0430\u0436\u0434\u043e\u043c\u0443 \u043f\u0443\u043d\u043a\u0442\u0443 \u0443\u043a\u0430\u0437\u0430\u0442\u044c, \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u043e\u0441\u043d\u043e\u0432\u0430\u043d\u0438\u044f\u0445 \u0438 \u043d\u0430 \u043a\u0430\u043a\u0438\u0445 \u0443\u0441\u043b\u043e\u0432\u0438\u044f\u0445 \u041f\u0440\u0435\u0434\u043f\u0440\u0438\u044f\u0442\u0438\u0435 \u0432\u043b\u0430\u0434\u0435\u0435\u0442 \u0442\u0435\u043c \u0438\u043b\u0438 \u0438\u043d\u044b\u043c \u043e\u0431\u044a\u0435\u043a\u0442\u043e\u043c \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u0438"),m.Pb(),m.Fc(116,_l,19,2,"div",54),m.Pb(),m.Qb(117,"div",17),m.Qb(118,"div",35),m.Qb(119,"div",36),m.Qb(120,"p"),m.Hc(121," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u043d\u0435\u0434\u0432\u0438\u0436\u0438\u043c\u043e\u0441\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(122,"button",55),m.Xb("click",function(){return t.addOtherPlace()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(123,"div",20),m.Qb(124,"h3"),m.Hc(125,"\u0421\u0432\u0435\u0434\u0435\u043d\u0438\u044f \u043e \u043f\u043e\u043b\u0443\u0447\u0435\u043d\u043d\u044b\u0445 \u0440\u0430\u043d\u0435\u0435 \u043a\u0440\u0435\u0434\u0438\u0442\u0430\u0445, \u0430\u043a\u043a\u0440\u0435\u0434\u0438\u0442\u0438\u0432\u0430\u0445, \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u044f\u0445, \u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u0430\u0445"),m.Pb(),m.Qb(126,"p",53),m.Hc(127,"\u041a\u0440\u0435\u0434\u0438\u0442\u043d\u0430\u044f \u0438\u0441\u0442\u043e\u0440\u0438\u044f \u0438 \u0442\u0435\u043a\u0443\u0449\u0430\u044f \u043a\u0440\u0435\u0434\u0438\u0442\u043e\u0440\u0441\u043a\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c, \u0432 \u0442. \u0447. \u0441\u0441\u0443\u0434\u044b \u0438\u0437 \u0434\u0440\u0443\u0433\u0438\u0445 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a\u043e\u0432, \u0432\u043a\u043b\u044e\u0447\u0430\u044f \u0433\u043e\u0441\u0443\u0434\u0430\u0440\u0441\u0442\u0432\u0435\u043d\u043d\u044b\u0435 \u0443\u0447\u0440\u0435\u0436\u0434\u0435\u043d\u0438\u044f"),m.Pb(),m.Fc(128,Ul,39,7,"div",56),m.Pb(),m.Qb(129,"div",17),m.Qb(130,"div",35),m.Qb(131,"div",36),m.Qb(132,"p"),m.Hc(133," \u0414\u043e\u043f\u043e\u043b\u043d\u0438\u0442\u0435\u043b\u044c\u043d\u0430\u044f \u0437\u0430\u0434\u043e\u043b\u0436\u0435\u043d\u043d\u043e\u0441\u0442\u044c "),m.Pb(),m.Pb(),m.Qb(134,"button",57),m.Xb("click",function(){return t.addFactoringCredits()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(135,"div",20),m.Qb(136,"h3"),m.Hc(137,"\u0412\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 \u0441 EDI-\u043f\u0440\u043e\u0432\u0430\u0439\u0434\u0435\u0440\u0430\u043c\u0438 \u043f\u043e \u044d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u043c\u0443 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442\u043e\u043e\u0431\u043e\u0440\u043e\u0442\u0443"),m.Pb(),m.Fc(138,Wl,19,3,"div",58),m.Pb(),m.Qb(139,"div",17),m.Qb(140,"div",35),m.Qb(141,"div",36),m.Qb(142,"p"),m.Hc(143," EDI \u0432\u0437\u0430\u0438\u043c\u043e\u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0435 "),m.Pb(),m.Pb(),m.Qb(144,"button",59),m.Xb("click",function(){return t.addEDIProvider()}),m.Pb(),m.Pb(),m.Pb(),m.Fc(145,Dd,88,14,"ng-container",7),m.Qb(146,"div",20),m.Qb(147,"label",60),m.Hc(148,"\xa0"),m.Pb(),m.Lb(149,"button",61),m.Pb(),m.Pb(),m.Pb()),2&e&&(m.hc("formGroup",t.formFactoring),m.zb(2),m.hc("ngIf",!t.isEdit),m.zb(6),m.hc("ngIf",t.formFactoring.controls.organizationShortName.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.organizationINN.invalid),m.zb(4),m.hc("options",t.organizationTypes),m.zb(1),m.hc("ngIf",1===t.formFactoring.get("organizationType").value),m.zb(6),m.hc("ngIf",t.formFactoring.controls.organizationPhone.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.organizationEmail.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.organizationWEB.invalid),m.zb(7),m.hc("suggestions",t.resultsBIK),m.zb(1),m.hc("ngIf",t.formFactoring.controls.bankBik.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.bankCorrespondentAccount.invalid),m.zb(4),m.hc("suggestions",t.resultsBankname),m.zb(1),m.hc("ngIf",t.formFactoring.controls.bankName.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.bankAccountOpenDate.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.bankOwnerAccount.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.bankComment.invalid),m.zb(4),m.hc("ngForOf",t.formFactoring.get("otherBanks").controls),m.zb(14),m.hc("ngIf",t.formFactoring.controls.factoringProducts.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringTradeMarks.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringShipments.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringFinanceLimit.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringClients.invalid),m.zb(5),m.hc("ngIf",t.formFactoring.controls.factoringWorkers.invalid),m.zb(6),m.hc("ngForOf",t.formFactoring.get("factoringPlaces").controls),m.zb(12),m.hc("ngForOf",t.formFactoring.get("factoringCredits").controls),m.zb(10),m.hc("ngForOf",t.formFactoring.get("factoringEDIProviders").controls),m.zb(7),m.hc("ngIf",!t.isEdit),m.zb(4),m.hc("disabled",t.formFactoring.invalid||t.isFilesInvalid()))},directives:[S.y,S.q,S.h,D.n,S.b,_.a,S.p,S.f,S.l,S.k,E.a,pe.a,it,D.m,A.b,rt.a,S.t,S.c,S.i],encapsulation:2}),e})();function zd(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",9),m.Xb("click",function(){return m.yc(e),m.ac().back()}),m.Pb()}}function Sd(e,t){if(1&e&&(m.Lb(0,"metib-backend-error-messages",10),m.bc(1,"async")),2&e){const e=m.ac();m.hc("backendErrors",m.cc(1,1,e.backendErrors$))}}function wd(e,t){1&e&&(m.Ob(0),m.Qb(1,"p"),m.Hc(2,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),m.Pb(),m.Nb())}function xd(e,t){if(1&e&&(m.Qb(0,"p-tabPanel",20),m.Lb(1,"app-demand-result",21),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.hc("result",e.currentDemand.Result)}}function Od(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"p-tabView",12),m.Qb(2,"p-tabPanel",13),m.Qb(3,"app-demand-info",14),m.Xb("sendMessage",function(t){return m.yc(e),m.ac(2).handleSendMessage(t)}),m.Pb(),m.Pb(),m.Qb(4,"p-tabPanel",15),m.Qb(5,"app-surety-data",16),m.Xb("back",function(){return m.yc(e),m.ac(2).back()})("save",function(t){return m.yc(e),m.ac(2).handleSave(t)})("create",function(t){return m.yc(e),m.ac(2).handleSubmit(t)}),m.Pb(),m.Pb(),m.Qb(6,"p-tabPanel",17),m.Qb(7,"app-demand-files",18),m.Xb("removeFile",function(t){return m.yc(e),m.ac(2).handleRemoveFile(t)}),m.Pb(),m.Pb(),m.Fc(8,xd,2,1,"p-tabPanel",19),m.Pb(),m.Nb()}if(2&e){const e=m.ac(2);m.zb(3),m.hc("currentDemandInfo",e.currentInformation),m.zb(2),m.hc("isEdit",!0)("currentDemand",e.currentDemand)("currentDraftId",e.currentDraftId),m.zb(2),m.hc("currentDemandFiles",e.currentDemand.Files),m.zb(1),m.hc("ngIf",e.isView)}}function _d(e,t){if(1&e){const e=m.Rb();m.Qb(0,"app-surety-data",16),m.Xb("back",function(){return m.yc(e),m.ac(2).back()})("save",function(t){return m.yc(e),m.ac(2).handleSave(t)})("create",function(t){return m.yc(e),m.ac(2).handleSubmit(t)}),m.Pb()}if(2&e){const e=m.ac(2);m.hc("isEdit",!1)("currentDemand",e.currentDemand)("currentDraftId",e.currentDraftId)}}function Ed(e,t){if(1&e&&(m.Fc(0,Od,9,6,"ng-container",7),m.Fc(1,_d,1,3,"ng-template",null,11,m.Gc)),2&e){const e=m.vc(2),t=m.ac();m.hc("ngIf",t.isEdit)("ngIfElse",e)}}const Ad=function(e){return{"card-content":e}};let Nd=(()=>{class e{constructor(e,t,i,n,r,o){this.authService=e,this.messageService=t,this.router=i,this.demandService=n,this.route=r,this.store=o,this.alertMessage=[],this.currentDraftId=0,this.isEdit=!1,this.isLoading=!1,this.subscription$=new C.a}ngOnInit(){this.isUserVerified=this.authService.isUserVerified(),this.subscription$.add(this.route.queryParams.subscribe(e=>{this.isView="true"===e.View,e.ID&&"false"===e.Edit?this.fetch(e.ID):(this.isLoading=!0,this.getDraft())}))}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}ngOnDestroy(){this.subscription$.unsubscribe()}handleSubmit(e){this.isEdit&&(e.Data.Files=this.currentDemand.Files),this.subscription$.add(this.demandService.add(e).subscribe(e=>{this.alert=!0,window.scroll(0,0),this.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}handleSave(e){this.currentDemand.Files&&(e.Files=this.currentDemand.Files),this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,e).subscribe(e=>{this.currentDraftId=e.ID,this.showSuccess()}))}handleSendMessage(e){this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(e=>{this.fetch(this.currentDemand.ID)}))}handleRemoveFile(e){this.currentDemand.Files=this.currentDemand.Files.filter(t=>t!==e)}getDraft(){this.subscription$.add(this.demandService.prepareDemandByType("Guarantee").subscribe(e=>{this.currentDemand=e,this.isLoading=!1}))}fetch(e){this.subscription$.add(this.demandService.getDemandById(e).subscribe(e=>{this.currentDemand=e.Data,this.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},this.isEdit=!0}))}showSuccess(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(T.a),m.Kb(L.g),m.Kb(I.f),m.Kb(P),m.Kb(I.a),m.Kb(a.h))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-surety-page"]],decls:14,vars:11,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[3,"backendErrors",4,"ngIf"],[4,"ngIf","ngIfElse"],["contentTemplate",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],[3,"backendErrors"],["createTemplate",""],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[3,"isEdit","currentDemand","currentDraftId","back","save","create"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"]],template:function(e,t){if(1&e&&(m.Lb(0,"p-toast"),m.Qb(1,"div",0),m.Qb(2,"div",1),m.Qb(3,"div",2),m.Qb(4,"h2"),m.Hc(5,"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u041f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e"),m.Pb(),m.Pb(),m.Qb(6,"div",3),m.Fc(7,zd,1,0,"button",4),m.Pb(),m.Pb(),m.Qb(8,"p-messages",5),m.Xb("valueChange",function(e){return t.alertMessage=e}),m.Pb(),m.Fc(9,Sd,2,3,"metib-backend-error-messages",6),m.bc(10,"async"),m.Fc(11,wd,3,0,"ng-container",7),m.Fc(12,Ed,3,2,"ng-template",null,8,m.Gc),m.Pb()),2&e){const e=m.vc(13);m.zb(1),m.hc("ngClass",m.mc(9,Ad,t.isUserVerified)),m.zb(6),m.hc("ngIf",t.isEdit),m.zb(1),m.hc("value",t.alertMessage)("enableService",!1),m.zb(1),m.hc("ngIf",m.cc(10,7,t.backendErrors$)),m.zb(2),m.hc("ngIf",t.isLoading)("ngIfElse",e)}},directives:[R.a,D.l,D.n,M.a,A.b,ln.a,q.b,q.a,de,kd,ue,he],pipes:[D.b],styles:[""]}),e})();var Td=i("xrr7"),Ld=i("0s3d");function Hd(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",8),m.Xb("click",function(){return m.yc(e),m.ac().back()}),m.Pb()}}function Bd(e,t){1&e&&(m.Qb(0,"div"),m.Hc(1," \u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... "),m.Pb())}function Rd(e,t){1&e&&m.Mb(0)}function Md(e,t){if(1&e&&(m.Qb(0,"p-tabPanel",19),m.Lb(1,"app-demand-result",20),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.hc("result",e.currentDemand.Result)}}const qd=function(e){return{formFree:e}};function jd(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"p-tabView",11),m.Qb(2,"p-tabPanel",12),m.Qb(3,"app-demand-info",13),m.Xb("sendMessage",function(t){return m.yc(e),m.ac(2).handleSendMessage(t)}),m.Pb(),m.Pb(),m.Qb(4,"p-tabPanel",14),m.Fc(5,Rd,1,0,"ng-container",15),m.Pb(),m.Qb(6,"p-tabPanel",16),m.Qb(7,"app-demand-files",17),m.Xb("removeFile",function(t){return m.yc(e),m.ac(2).handleRemoveFile(t)}),m.Pb(),m.Pb(),m.Fc(8,Md,2,1,"p-tabPanel",18),m.Pb(),m.Nb()}if(2&e){m.ac();const e=m.vc(4),t=m.ac();m.zb(3),m.hc("currentDemandInfo",t.currentInformation),m.zb(2),m.hc("ngTemplateOutlet",e)("ngTemplateOutletContext",m.mc(5,qd,t.formFree)),m.zb(2),m.hc("currentDemandFiles",t.currentDemand.Files),m.zb(1),m.hc("ngIf",t.isView)}}function $d(e,t){1&e&&m.Mb(0)}function Ud(e,t){if(1&e&&m.Fc(0,$d,1,0,"ng-container",15),2&e){m.ac();const e=m.vc(4),t=m.ac();m.hc("ngTemplateOutlet",e)("ngTemplateOutletContext",m.mc(2,qd,t.formFree))}}function Gd(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",37),m.Qb(1,"button",8),m.Xb("click",function(){return m.yc(e),m.ac(3).back()}),m.Pb(),m.Pb()}}function Vd(e,t){1&e&&(m.Qb(0,"small",39),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Xd(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Vd,2,0,"small",38),m.Pb()),2&e){const e=m.ac().formFree;m.zb(1),m.hc("ngIf",e.controls.DebtorID.errors.required)}}function Kd(e,t){1&e&&(m.Qb(0,"small",39),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Wd(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Kd,2,0,"small",38),m.Pb()),2&e){const e=m.ac().formFree;m.zb(1),m.hc("ngIf",e.controls.VerificationType.errors.required)}}function Zd(e,t){1&e&&(m.Qb(0,"small",39),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function Jd(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,Zd,2,0,"small",38),m.Pb()),2&e){const e=m.ac(2).formFree;m.zb(1),m.hc("ngIf",e.controls.GLN.errors.required)}}function Yd(e,t){if(1&e&&(m.Ob(0),m.Qb(1,"div",24),m.Lb(2,"input",40),m.Fc(3,Jd,2,1,"div",27),m.Pb(),m.Qb(4,"div",41),m.Qb(5,"div",42),m.Qb(6,"div",43),m.Lb(7,"p-checkbox",44),m.Qb(8,"label",45),m.Hc(9,"\u0417\u0430\u043a\u0430\u0437 (ORDER)"),m.Pb(),m.Pb(),m.Pb(),m.Qb(10,"div",42),m.Qb(11,"div",43),m.Lb(12,"p-checkbox",46),m.Qb(13,"label",47),m.Hc(14,"\u0423\u0432\u0435\u0434\u043e\u043c\u043b\u0435\u043d\u0438\u0435 \u043e \u043f\u0440\u0438\u0451\u043c\u043a\u0435"),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Nb()),2&e){const e=m.ac().formFree;m.zb(3),m.hc("ngIf",e.controls.GLN.invalid)}}function eb(e,t){1&e&&(m.Ob(0),m.Qb(1,"div",48),m.Qb(2,"div",49),m.Qb(3,"div",43),m.Lb(4,"p-checkbox",50),m.Qb(5,"label",51),m.Hc(6,"\u0422\u043e\u0440\u0433-12"),m.Pb(),m.Pb(),m.Pb(),m.Qb(7,"div",49),m.Qb(8,"div",43),m.Lb(9,"p-checkbox",52),m.Qb(10,"label",53),m.Hc(11,"\u0421\u0447\u0435\u0442-\u0424\u0430\u043a\u0442\u0443\u0440\u0430"),m.Pb(),m.Pb(),m.Pb(),m.Qb(12,"div",49),m.Qb(13,"div",43),m.Lb(14,"p-checkbox",54),m.Qb(15,"label",55),m.Hc(16,"\u0410\u043a\u0442 \u043e \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d\u0438\u0438 \u0440\u0430\u0431\u043e\u0442 \u0432 \u0444\u043e\u0440\u043c\u0430\u0442\u0435 \u0424\u041d\u0421"),m.Pb(),m.Pb(),m.Pb(),m.Qb(17,"div",49),m.Qb(18,"div",43),m.Lb(19,"p-checkbox",56),m.Qb(20,"label",57),m.Hc(21,"\u041d\u0435\u0444\u043e\u0440\u043c\u0430\u043b\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u0439 \u0434\u043e\u043a\u0443\u043c\u0435\u043d\u0442"),m.Pb(),m.Pb(),m.Pb(),m.Pb(),m.Nb())}function tb(e,t){1&e&&(m.Qb(0,"small",39),m.Hc(1," \u041f\u043e\u043b\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0437\u0430\u043f\u043e\u043b\u043d\u0435\u043d\u043e. "),m.Pb())}function ib(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,tb,2,0,"small",38),m.Pb()),2&e){const e=m.ac().formFree;m.zb(1),m.hc("ngIf",e.controls.Comment.errors.required)}}function nb(e,t){if(1&e){const e=m.Rb();m.Qb(0,"form",21),m.Xb("ngSubmit",function(){return m.yc(e),m.ac(2).onSubmit()}),m.Fc(1,Gd,2,0,"div",22),m.Qb(2,"div",23),m.Qb(3,"div",24),m.Qb(4,"label",25),m.Hc(5,"\u0414\u0435\u0431\u0438\u0442\u043e\u0440"),m.Pb(),m.Lb(6,"p-dropdown",26),m.Fc(7,Xd,2,1,"div",27),m.Pb(),m.Qb(8,"div",24),m.Qb(9,"label",28),m.Hc(10,"\u0422\u0438\u043f \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"),m.Pb(),m.Qb(11,"p-dropdown",29),m.Xb("onChange",function(t){return m.yc(e),m.ac(2).changeVerificationType(t)}),m.Pb(),m.Fc(12,Wd,2,1,"div",27),m.Pb(),m.Ob(13,30),m.Fc(14,Yd,15,1,"ng-container",31),m.Fc(15,eb,22,0,"ng-container",31),m.Nb(),m.Qb(16,"div",32),m.Lb(17,"textarea",33),m.Fc(18,ib,2,1,"div",27),m.Pb(),m.Qb(19,"div",34),m.Qb(20,"label",35),m.Hc(21,"\xa0"),m.Pb(),m.Lb(22,"button",36),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=t.formFree,i=m.ac(2);m.hc("formGroup",e),m.zb(1),m.hc("ngIf",!i.isEdit),m.zb(5),m.hc("options",i.debtorList),m.zb(1),m.hc("ngIf",e.controls.DebtorID.invalid),m.zb(4),m.hc("options",i.verificationTypes),m.zb(1),m.hc("ngIf",e.controls.VerificationType.invalid),m.zb(1),m.hc("ngSwitch",i.currentTemplate),m.zb(1),m.hc("ngSwitchCase","ediTemplate"),m.zb(1),m.hc("ngSwitchCase","edoTemplate"),m.zb(3),m.hc("ngIf",e.controls.Comment.invalid),m.zb(4),m.hc("disabled",e.invalid||i.isLoading)}}function rb(e,t){if(1&e&&(m.Fc(0,jd,9,7,"ng-container",6),m.Fc(1,Ud,1,4,"ng-template",null,9,m.Gc),m.Fc(3,nb,23,11,"ng-template",null,10,m.Gc)),2&e){const e=m.vc(2),t=m.ac();m.hc("ngIf",t.isEdit)("ngIfElse",e)}}const ob=function(e){return{"card-content":e}};let ab=(()=>{class e{constructor(e,t,i,n,r,o,a){this.authService=e,this.fb=t,this.demandService=i,this.deliveryService=n,this.messageService=r,this.router=o,this.route=a,this.alertMessage=[],this.isEdit=!1,this.debtorList=[],this.verificationTypes=[],this.currentDraftId=0,this.subscription$=new C.a,this.currentTemplate="ediTemplate"}ngOnInit(){this.isUserVerified=this.authService.isUserVerified(),this.initForm(),this.initValues(),this.subscription$.add(this.route.queryParams.subscribe(e=>{this.isView="true"===e.View,e.ID&&"false"===e.Edit?this.fetch(e.ID):(this.isLoading=!0,this.getDraft())})),this._saveDraftAction$=setInterval(()=>this.saveDraft(),3e4)}back(){this.router.navigate([(this.isUserVerified?"":"not-verify")+"/demand"])}ngOnDestroy(){this.subscription$.unsubscribe(),this._saveDraftAction$&&clearInterval(this._saveDraftAction$)}changeVerificationType(e){switch(e.value){case"EDOKontur":this.currentTemplate="edoTemplate";break;case"Other":this.currentTemplate="anotherTemplate";break;default:this.currentTemplate="ediTemplate"}}onSubmit(){let e=this.prepareData();this.subscription$.add(this.demandService.add(e).subscribe(e=>{this.alert=!0,this.alertMessage=[{severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e!",detail:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d."}]}))}getDraft(){this.isLoadingData=!0,this.subscription$.add(this.demandService.prepareDemandByType("VerificationChannel").subscribe(e=>{this.currentDemand=e,this.convertToFormData(),this.isLoadingData=!1,this.isLoading=!1}))}saveDraft(){this.subscription$.add(this.demandService.addDraftById(this.currentDraftId,this.prepareDraft()).subscribe(e=>{console.log(e),this.currentDraftId=e.ID,this.showSuccess()}))}handleSendMessage(e){this.subscription$.add(this.demandService.addMessageByDemandId(this.currentDemand.ID,e).subscribe(e=>{this.fetch(this.currentDemand.ID)}))}handleRemoveFile(e){this.currentDemand.Files=this.currentDemand.Files.filter(t=>t!==e)}fetch(e){this.isLoadingData=!0,this.subscription$.add(this.demandService.getDemandById(e).subscribe(e=>{this.currentDemand=e,this.currentInformation={ID:e.ID,Messages:e.Messages,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateStatus,Steps:e.Steps,Status:e.Status,Type:e.Type,Manager:null},this.isEdit=!0,this.convertToFormData(),this.isLoadingData=!1}))}convertToFormData(){var e;let t=this.currentDemand,i=!1,n=!1,r=!1,o=!1,a=!1,s=!1;t.DocumentTypes.forEach(e=>{"Torg12"===e&&(i=!0),"Invoice"===e&&(n=!0),"Acceptance"===e&&(r=!0),"Nonformalized"===e&&(o=!0),"ORDER"===e&&(a=!0),"RECADV"===e&&(s=!0)}),this.formFree.patchValue({Comment:(null==t?void 0:t.Comment)?null==t?void 0:t.Comment:"",DebtorID:(null==t?void 0:t.DebtorID)?null==t?void 0:t.DebtorID:null===(e=this.debtorList[0])||void 0===e?void 0:e.ID,GLN:(null==t?void 0:t.GLN)?null==t?void 0:t.GLN:"",VerificationType:(null==t?void 0:t.VerificationType)?null==t?void 0:t.VerificationType:"EDIKorus",DocumentTypeTorg12:i,DocumentTypeInvoice:n,DocumentTypeAcceptance:r,DocumentTypeNonformalized:o,DocumentTypeORDER:a,DocumentTypeRECADV:s})}prepareDraft(){let e=[],t=this.formFree.value;return t.DocumentTypeTorg12&&e.push("Torg12"),t.DocumentTypeInvoice&&e.push("Invoice"),t.DocumentTypeAcceptance&&e.push("Acceptance"),t.DocumentTypeNonformalized&&e.push("Nonformalized"),t.DocumentTypeORDER&&e.push("ORDER"),t.DocumentTypeRECADV&&e.push("RECADV"),{DocumentTypes:e,Comment:t.Comment,DebtorID:t.DebtorID,GLN:t.GLN,VerificationType:t.VerificationType,Type:"VerificationChannel"}}prepareData(){return{Data:this.prepareDraft(),DraftID:this.currentDraftId}}initForm(){this.formFree=this.fb.group({Comment:["",[S.x.required]],DebtorID:["",[S.x.required]],GLN:[""],VerificationType:[""],DocumentTypeTorg12:!1,DocumentTypeInvoice:!1,DocumentTypeAcceptance:!1,DocumentTypeNonformalized:!1,DocumentTypeORDER:!1,DocumentTypeRECADV:!1}),this.formFree.markAllAsTouched(),this.formFree.markAsDirty()}canDeactivate(){return confirm("\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e, \u0412\u044b \u043d\u0435 \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043b\u0438 \u0434\u0430\u043d\u043d\u044b\u0435, \u0445\u043e\u0442\u0438\u0442\u0435 \u043f\u043e\u043a\u0438\u043d\u0443\u0442\u044c \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0443?")}initValues(){this.verificationTypes=[{name:"EDI \u041a\u043e\u0440\u0443\u0441",value:"EDIKorus"},{name:"EDI CISLINK (\u0421\u0438\u0441\u043b\u0438\u043d\u043a)",value:"EDICislink"},{name:"EDI Exite",value:"EDIExite"},{name:"\u042d\u0414\u041e \u041a\u043e\u043d\u0442\u0443\u0440 \u0414\u0438\u0430\u0434\u043e\u043a",value:"EDOKontur"},{name:"\u0414\u0440\u0443\u0433\u043e\u0439 \u0438\u0441\u0442\u043e\u0447\u043d\u0438\u043a",value:"Other"}],this.deliveryService.getDeliveriesWithStats().subscribe(e=>{let t=e.map(e=>e.Debtor),i=Td.a.getUniqByProperty(t,"Title");this.debtorList.push(...i),this.formFree.patchValue({VerificationType:"EDIKorus",DebtorID:this.debtorList[0].ID})})}showSuccess(){this.messageService.add({severity:"success",summary:"\u0423\u0441\u043f\u0435\u0448\u043d\u043e",detail:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0445\u0440\u0430\u043d\u0435\u043d!"})}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(T.a),m.Kb(S.d),m.Kb(P),m.Kb(Ld.a),m.Kb(L.g),m.Kb(I.f),m.Kb(I.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-action-verification-page"]],decls:12,vars:8,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432","class","p-button-outlined p-mr-2",3,"click",4,"ngIf"],[3,"value","enableService","valueChange"],[4,"ngIf","ngIfElse"],["contentTemplate",""],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined","p-mr-2",3,"click"],["createTemplate",""],["form",""],[1,"mib-tabs"],["header","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[3,"currentDemandInfo","sendMessage"],["header","\u0414\u0430\u043d\u043d\u044b\u0435"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["header","\u0424\u0430\u0439\u043b\u044b"],[3,"currentDemandFiles","removeFile"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442",4,"ngIf"],["header","\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"],[3,"result"],[3,"formGroup","ngSubmit"],["class","form-actions",4,"ngIf"],[1,"p-fluid","p-formgrid","p-grid","form"],[1,"p-field","p-col-12","p-lg-6"],["for","DebtorID"],["formControlName","DebtorID","placeholder","\u0414\u0435\u0431\u0438\u0442\u043e\u0440","optionLabel","Title","optionValue","ID",3,"options"],[4,"ngIf"],["for","VerificationType"],["formControlName","VerificationType","placeholder","\u0422\u0438\u043f \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438","optionValue","value","optionLabel","name",3,"options","onChange"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"p-field","p-col-12","p-md-12","p-lg-12"],["id","Comment","type","text","pInputTextarea","","placeholder","\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439","formControlName","Comment","rows","5",2,"resize","none"],[1,"p-field","p-col-12","p-md-12"],["for","btn_submit"],["id","btn_submit","pButton","","pRipple","","type","submit","label","\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0437\u0430\u043f\u0440\u043e\u0441",1,"btn-mib-submit","p-button-outlined",3,"disabled"],[1,"form-actions"],["class","p-error",4,"ngIf"],[1,"p-error"],["id","GLN","type","text","pInputText","","placeholder","GLN \u043f\u043e\u0441\u0442\u0430\u0432\u0449\u0438\u043a\u0430","formControlName","GLN"],[1,"p-col-12","p-lg-6","p-grid"],[1,"p-field","p-lg-6"],[1,"p-field-checkbox"],["binary","true","inputId","DocumentTypeORDER","formControlName","DocumentTypeORDER"],["for","DocumentTypeORDER"],["binary","true","inputId","DocumentTypeRECADV","formControlName","DocumentTypeRECADV"],["for","DocumentTypeRECADV"],[1,"p-col-12","p-lg-12","p-grid"],[1,"p-field","p-lg-4"],["binary","true","inputId","DocumentTypeTorg12","formControlName","DocumentTypeTorg12"],["for","DocumentTypeTorg12"],["binary","true","inputId","DocumentTypeInvoice","formControlName","DocumentTypeInvoice"],["for","DocumentTypeInvoice"],["binary","true","inputId","DocumentTypeAcceptance","formControlName","DocumentTypeAcceptance"],["for","DocumentTypeAcceptance"],["binary","true","inputId","DocumentTypeNonformalized","formControlName","DocumentTypeNonformalized"],["for","DocumentTypeNonformalized"]],template:function(e,t){if(1&e&&(m.Lb(0,"p-toast"),m.Qb(1,"div",0),m.Qb(2,"div",1),m.Qb(3,"div",2),m.Qb(4,"h2"),m.Hc(5,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043a\u0430\u043d\u0430\u043b\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438"),m.Pb(),m.Pb(),m.Qb(6,"div",3),m.Fc(7,Hd,1,0,"button",4),m.Pb(),m.Pb(),m.Qb(8,"p-messages",5),m.Xb("valueChange",function(e){return t.alertMessage=e}),m.Pb(),m.Fc(9,Bd,2,0,"div",6),m.Fc(10,rb,5,2,"ng-template",null,7,m.Gc),m.Pb()),2&e){const e=m.vc(11);m.zb(1),m.hc("ngClass",m.mc(6,ob,t.isUserVerified)),m.zb(6),m.hc("ngIf",t.isEdit),m.zb(1),m.hc("value",t.alertMessage)("enableService",!1),m.zb(1),m.hc("ngIf",t.isLoadingData)("ngIfElse",e)}},directives:[R.a,D.l,D.n,M.a,A.b,q.b,q.a,de,D.s,ue,he,S.y,S.q,S.h,E.a,S.p,S.f,D.p,D.q,S.b,te.a,_.a,Ir.a],styles:[""]}),e})();var sb=i("vkgz"),cb=i("Kj3r"),lb=i("/uUt");function db(e,t){1&e&&(m.Ob(0),m.Lb(1,"i",13),m.Nb())}function bb(e,t){1&e&&m.Lb(0,"i",14)}function ub(e,t){1&e&&(m.Qb(0,"div"),m.Qb(1,"div",31),m.Hc(2," \u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435 "),m.Pb(),m.Pb())}function fb(e,t){1&e&&(m.Qb(0,"div"),m.Qb(1,"div",32),m.Hc(2," \u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d "),m.Pb(),m.Pb())}function hb(e,t){1&e&&(m.Qb(0,"div"),m.Qb(1,"div",33),m.Hc(2," \u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e "),m.Pb(),m.Pb())}function pb(e,t){1&e&&(m.Qb(0,"div"),m.Qb(1,"div",31),m.Hc(2," \u0421\u043e\u0437\u0434\u0430\u043d "),m.Pb(),m.Pb())}function mb(e,t){1&e&&(m.Qb(0,"div"),m.Qb(1,"div",31),m.Hc(2," \u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a "),m.Pb(),m.Pb())}function gb(e,t){1&e&&(m.Qb(0,"div"),m.Qb(1,"div",33),m.Hc(2," \u041e\u0442\u043c\u0435\u043d\u0435\u043d "),m.Pb(),m.Pb())}function vb(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"button",38),m.Xb("click",function(){m.yc(e);const t=m.ac(3).$implicit;return m.ac(2).remove(t.ID)}),m.Pb(),m.Nb()}}function Pb(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",39),m.Xb("click",function(){m.yc(e);const t=m.ac(3).$implicit;return m.ac(2).cancel(t.ID)}),m.Pb()}}function yb(e,t){if(1&e&&(m.Qb(0,"div"),m.Fc(1,vb,2,0,"ng-container",7),m.Fc(2,Pb,1,0,"ng-template",null,37,m.Gc),m.Pb()),2&e){const e=m.vc(3),t=m.ac(2).$implicit;m.zb(1),m.hc("ngIf","Draft"===t.Status)("ngIfElse",e)}}function Ib(e,t){if(1&e){const e=m.Rb();m.Ob(0),m.Qb(1,"button",40),m.Xb("click",function(){m.yc(e);const t=m.ac(2).$implicit;return m.ac(2).edit(t.Type,t.ID,!0,t.Status)}),m.Pb(),m.Nb()}}function Fb(e,t){if(1&e){const e=m.Rb();m.Qb(0,"button",41),m.Xb("click",function(){m.yc(e);const t=m.ac(2).$implicit;return m.ac(2).edit(t.Type,t.ID,!1,t.Status)}),m.Pb()}}function Qb(e,t){if(1&e&&(m.Qb(0,"div",34),m.Fc(1,yb,4,2,"div",35),m.Fc(2,Ib,2,0,"ng-container",7),m.Fc(3,Fb,1,0,"ng-template",null,36,m.Gc),m.Pb()),2&e){const e=m.vc(4),t=m.ac().$implicit;m.zb(1),m.hc("ngIf","Completed"!==t.Status),m.zb(1),m.hc("ngIf","Completed"===t.Status)("ngIfElse",e)}}function Cb(e,t){if(1&e&&(m.Qb(0,"div"),m.Qb(1,"div",42),m.Hc(2),m.Pb(),m.Pb()),2&e){const e=m.ac().$implicit;m.zb(2),m.Kc(" ",e.Manager.Name," (",e.Manager.Extension,") ")}}function Db(e,t){1&e&&(m.Qb(0,"div",42),m.Hc(1," \u041c\u0435\u043d\u0435\u0434\u0436\u0435\u0440 \u043d\u0435 \u043d\u0430\u0437\u043d\u0430\u0447\u0435\u043d "),m.Pb())}function kb(e,t){if(1&e&&(m.Qb(0,"div",16),m.Qb(1,"div",17),m.Qb(2,"div",18),m.Qb(3,"div",19),m.Qb(4,"div",20),m.Qb(5,"div",21),m.Qb(6,"p"),m.Hc(7),m.Pb(),m.Pb(),m.Lb(8,"div",22),m.Pb(),m.Qb(9,"div",23),m.Qb(10,"div",24),m.Fc(11,ub,3,0,"div",25),m.Fc(12,fb,3,0,"div",25),m.Fc(13,hb,3,0,"div",25),m.Fc(14,pb,3,0,"div",25),m.Fc(15,mb,3,0,"div",25),m.Fc(16,gb,3,0,"div",25),m.Pb(),m.Qb(17,"div",26),m.Hc(18),m.bc(19,"date"),m.Pb(),m.Pb(),m.Pb(),m.Fc(20,Qb,5,3,"div",27),m.Pb(),m.Pb(),m.Qb(21,"div",28),m.Qb(22,"div",29),m.Hc(23),m.bc(24,"date"),m.Pb(),m.Fc(25,Cb,3,2,"div",7),m.Fc(26,Db,2,0,"ng-template",null,30,m.Gc),m.Pb(),m.Pb()),2&e){const e=t.$implicit,i=m.vc(27);m.zb(7),m.Kc(" \u2116",e.ID," ",e.TranslatedType," "),m.zb(3),m.hc("ngSwitch",e.Status),m.zb(1),m.hc("ngSwitchCase","Processing"),m.zb(1),m.hc("ngSwitchCase","Completed"),m.zb(1),m.hc("ngSwitchCase","Rejected"),m.zb(1),m.hc("ngSwitchCase","Created"),m.zb(1),m.hc("ngSwitchCase","Draft"),m.zb(1),m.hc("ngSwitchCase","Canceled"),m.zb(2),m.Jc(" ",m.dc(19,14,e.DateModify,"dd.MM.yyyy")," "),m.zb(2),m.hc("ngIf","Canceled"!==e.Status&&"Rejected"!==e.Status),m.zb(3),m.Jc(" ",m.dc(24,17,e.DateModify,"dd.MM.yyyy")," "),m.zb(2),m.hc("ngIf",e.Manager)("ngIfElse",i)}}function zb(e,t){if(1&e&&(m.Ob(0),m.Fc(1,kb,28,20,"div",15),m.Nb()),2&e){const e=m.ac();m.zb(1),m.hc("ngForOf",e.allDemandsFiltered)}}function Sb(e,t){1&e&&(m.Qb(0,"div",16),m.Qb(1,"div",17),m.Qb(2,"div",20),m.Qb(3,"div",21),m.Qb(4,"p"),m.Lb(5,"p-skeleton",43),m.Pb(),m.Pb(),m.Pb(),m.Qb(6,"div",23),m.Lb(7,"p-skeleton",43),m.Qb(8,"div",26),m.Lb(9,"p-skeleton",43),m.Pb(),m.Pb(),m.Pb(),m.Qb(10,"div",28),m.Qb(11,"div",29),m.Lb(12,"p-skeleton"),m.Pb(),m.Lb(13,"p-skeleton",43),m.Pb(),m.Pb())}const wb=function(){return{}},xb=function(e,t,i){return[e,t,i]};function Ob(e,t){1&e&&m.Fc(0,Sb,14,0,"div",15),2&e&&m.hc("ngForOf",m.oc(4,xb,m.lc(1,wb),m.lc(2,wb),m.lc(3,wb)))}const _b=function(e){return{"card-content":e}},Eb=function(){return["/demand"]};let Ab=(()=>{class e{constructor(e,t,i,n){this.fb=e,this.authService=t,this.demandService=i,this.router=n,this.loading=!0,this.allDemandsFiltered=[],this.allDemands=[],this.allDrafts=[],this.statusTypes=[],this.searchForm=this.fb.group({search:[""]}),this.subscription$=new C.a}ngOnInit(){this.fetch(),this.initForm(),this.initValues(),this.isUserVerified=this.authService.isUserVerified()}ngOnDestroy(){this.subscription$.unsubscribe()}onFilterStatusChange(e){this.allDemandsFiltered="All"===e.value?this.allDemands:this.allDemands.filter(t=>t.Status===e.value)}fetch(){this.loading=!0,this.subscription$.add(this.demandService.getDrafts().pipe(Object(u.a)(e=>(this.allDrafts=e,this.demandService.fetch()))).subscribe(e=>{this.allDemands=e,e&&this.allDrafts&&this.allDrafts.forEach(e=>{this.allDemands.push({Data:e.Data,DateCreated:e.DateCreated,DateModify:e.DateModify,DateStatus:e.DateCreated,Files:e.Data.Files,ID:e.ID,Manager:null,Messages:null,Requirements:null,Result:null,Status:"Draft",Steps:null,Type:e.Data.Type,User:e.User}),this.allDemands.sort((e,t)=>new Date(t.DateModify).getTime()-new Date(e.DateModify).getTime()),console.log("Demands",this.allDemands)}),this.allDemands=this.allDemands.map(e=>{let t=this.getTypeTranslate(e.Type),i=this.getStatusTranslate(e.Status);return{Type:null==e?void 0:e.Type,Status:null==e?void 0:e.Status,User:null==e?void 0:e.User,Manager:null==e?void 0:e.Manager,DateCreated:null==e?void 0:e.DateCreated,DateModify:null==e?void 0:e.DateModify,DateStatus:null==e?void 0:e.DateStatus,Requirements:null==e?void 0:e.Requirements,Steps:null==e?void 0:e.Steps,Messages:null==e?void 0:e.Messages,Files:null==e?void 0:e.Files,Data:null==e?void 0:e.Data,Result:null==e?void 0:e.Result,ID:null==e?void 0:e.ID,TranslatedType:t,TranslatedStatus:i}}),this.allDemandsFiltered=this.allDemands}))}remove(e){this.subscription$.add(this.demandService.deleteDraftById(e).subscribe(()=>{this.allDemandsFiltered=this.allDemandsFiltered.filter(t=>t.ID!==e),this.allDemands=this.allDemands.filter(t=>t.ID!==+e)}))}cancel(e){this.subscription$.add(this.demandService.cancelByDemandId(e).subscribe(()=>{this.allDemands.find(t=>t.ID===e).Status="Canceled"}))}edit(e,t,i,n){console.log(e);const r=this.isUserVerified?"":"not-verify";let o="Draft"===n;switch(e){case"Factoring":this.router.navigate([r+"/demand/actions/factoring"],{queryParams:{ID:t,View:i,Edit:o}});break;case"AgencyFactoring":this.router.navigate([r+"/demand/actions/agent-factoring"],{queryParams:{ID:t,View:i,Edit:o}});break;case"Question":this.router.navigate([r+"/demand/actions/free-request"],{queryParams:{ID:t,View:i,Edit:o}});break;case"DigitalSignature":this.router.navigate([r+"/demand/actions/create-eds"],{queryParams:{ID:t,View:i,Edit:o}});break;case"ProfileChange":this.router.navigate([r+"/demand/actions/edit-profile"],{queryParams:{ID:t,View:i,Edit:o}});break;case"Limit":this.router.navigate([r+"/demand/actions/update-limit"],{queryParams:{ID:t,View:i,Edit:o}});break;case"NewDebtor":this.router.navigate([r+"/demand/actions/create-debitor"],{queryParams:{ID:t,View:i,Edit:o}});break;case"Guarantee":this.router.navigate([r+"/demand/actions/surety"],{queryParams:{ID:t,View:i,Edit:o}});break;case"VerificationChannel":this.router.navigate([r+"/demand/actions/verify"],{queryParams:{ID:t,View:i,Edit:o}})}}initValues(){this.statusTypes=[{type:"All",name:"\u0412\u0441\u0435"},{type:"Processing",name:"\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435"},{type:"Completed",name:"\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d"},{type:"Rejected",name:"\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e"},{type:"Created",name:"\u0421\u043e\u0437\u0434\u0430\u043d"},{type:"Draft",name:"\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a"},{type:"Canceled",name:"\u041e\u0442\u043c\u0435\u043d\u0435\u043d"}]}initForm(){this.subscription$.add(this.searchForm.valueChanges.pipe(Object(sb.a)(()=>{this.isSearching=!0}),Object(cb.a)(2e3),Object(lb.a)()).subscribe(e=>{this.allDemandsFiltered=[];let t=e.search;t=t.toLowerCase(),this.allDemands.forEach(e=>{let i=Object.values(e);for(let n=0;n<i.length;n++)if(i[n]&&i[n].toString().toLowerCase().indexOf(t)>-1){this.allDemandsFiltered.push(e);break}}),this.isSearching=!1}))}getTypeTranslate(e){let t="";switch(e){case"VerificationChannel":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044e \u043a\u0430\u043d\u0430\u043b\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438";break;case"Guarantee":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u041f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e";break;case"Factoring":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433";break;case"DigitalSignature":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f";break;case"ProfileChange":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u041f\u0440\u043e\u0444\u0438\u043b\u044f";break;case"Question":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443";break;case"Limit":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043b\u0438\u043c\u0438\u0442";break;case"NewDebtor":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430";break;case"AgencyFactoring":t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0410\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0424\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433";break;default:t="\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443"}return t}getStatusTranslate(e){let t="";switch(e){case"Processing":t="\u0412 \u043f\u0440\u043e\u0446\u0435\u0441\u0441\u0435";break;case"Completed":t="\u0417\u0430\u0432\u0435\u0440\u0448\u0435\u043d";break;case"Rejected":t="\u041e\u0442\u043a\u043b\u043e\u043d\u0435\u043d\u043e";break;case"Created":t="\u0421\u043e\u0437\u0434\u0430\u043d";break;case"Draft":t="\u0427\u0435\u0440\u043d\u043e\u0432\u0438\u043a";break;case"Canceled":t="\u041e\u0442\u043c\u0435\u043d\u0435\u043d"}return t}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(S.d),m.Kb(T.a),m.Kb(P),m.Kb(I.f))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-history-page"]],decls:19,vars:12,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"subheader"],[1,"actions",3,"formGroup"],["placeholder","\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0441\u0442\u0430\u0442\u0443\u0441 \u0437\u0430\u043f\u0440\u043e\u0441\u0430","styleClass","search-field","optionLabel","name","optionValue","type",3,"options","onChange"],[1,"mr-20",3,"ngClass"],[4,"ngIf","ngIfElse"],["searchIconTemplate",""],["type","text","placeholder","\u041f\u043e\u0438\u0441\u043a","formControlName","search","pInputText","",1,"p-inputtext-lg","mib-input-icon"],["pButton","","pRipple","","type","button","label","\u0412\u0435\u0440\u043d\u0443\u0442\u044c\u0441\u044f \u043a \u0441\u043f\u0438\u0441\u043a\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"p-button-outlined",3,"routerLink"],[1,"demand-list"],["skeletonDemandTemplate",""],[1,"pi","pi-spin","pi-spinner"],[1,"pi","pi-search"],["class","demand-item",4,"ngFor","ngForOf"],[1,"demand-item"],[1,"demand-info"],[1,"demand-card"],[1,"demand-card-content"],[1,"demand-content"],[1,"text"],[1,"icon","arrow_right"],[1,"demand-status-info"],[3,"ngSwitch"],[4,"ngSwitchCase"],[1,"demand-status-date"],["class","demand-actions",4,"ngIf"],[1,"demand-manager"],[1,"demand-manager-date"],["noManager",""],[1,"demand-status","default"],[1,"demand-status","success"],[1,"demand-status","warning"],[1,"demand-actions"],[4,"ngIf"],["editTemplate",""],["removeTemplate",""],["pButton","","pRipple","","type","button","label","\u0423\u0434\u0430\u043b\u0438\u0442\u044c",1,"p-button-outlined","p-button-danger","mib-small",3,"click"],["pButton","","pRipple","","type","button","label","\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c",1,"p-button-outlined","p-button-danger","mib-small",3,"click"],["pButton","","pRipple","","type","button","label","\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],["pButton","","pRipple","","type","button","label","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",1,"p-button-outlined","mib-small",3,"click"],[1,"demand-manager-info"],["width","10rem","styleClass","p-mb-2"]],template:function(e,t){if(1&e&&(m.Qb(0,"div",0),m.Qb(1,"div",1),m.Qb(2,"div",2),m.Qb(3,"h2"),m.Hc(4,"\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432"),m.Pb(),m.Qb(5,"div",3),m.Hc(6," \u0421\u043f\u0438\u0441\u043e\u043a \u0418\u0441\u0442\u043e\u0440\u0438\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432 "),m.Pb(),m.Pb(),m.Qb(7,"form",4),m.Qb(8,"p-dropdown",5),m.Xb("onChange",function(e){return t.onFilterStatusChange(e)}),m.Pb(),m.Qb(9,"span",6),m.Fc(10,db,2,0,"ng-container",7),m.Fc(11,bb,1,0,"ng-template",null,8,m.Gc),m.Lb(13,"input",9),m.Pb(),m.Lb(14,"button",10),m.Pb(),m.Pb(),m.Qb(15,"div",11),m.Fc(16,zb,2,1,"ng-container",7),m.Fc(17,Ob,1,8,"ng-template",null,12,m.Gc),m.Pb(),m.Pb()),2&e){const e=m.vc(12),i=m.vc(18);m.hc("ngClass",m.mc(9,_b,t.isUserVerified)),m.zb(7),m.hc("formGroup",t.searchForm),m.zb(1),m.hc("options",t.statusTypes),m.zb(1),m.hc("ngClass",t.isSearching?"p-input-icon-right":"p-input-icon-left"),m.zb(1),m.hc("ngIf",t.isSearching)("ngIfElse",e),m.zb(4),m.hc("routerLink",m.lc(11,Eb)),m.zb(2),m.hc("ngIf",t.loading)("ngIfElse",i)}},directives:[D.l,S.y,S.q,S.h,E.a,D.n,S.b,S.p,S.f,_.a,A.b,I.g,D.m,D.p,D.q,ie.a],pipes:[D.f],styles:[".demand-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:10px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]{padding-left:30px;padding-right:20px;border:1px solid #d5d5d5;box-sizing:border-box;border-radius:10px;width:100%}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]{visibility:hidden;display:flex;flex-direction:column}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-content[_ngcontent-%COMP%]{display:flex;align-items:center;font-weight:500;font-size:1.5rem;line-height:1.75rem;color:#102538}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-content[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:15px;margin-top:15px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-content[_ngcontent-%COMP%]   .icon.arrow_right[_ngcontent-%COMP%]{margin-left:13px;background:url(/assets/icons/arrow_right.png) no-repeat 50%;width:20px;height:20px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]{display:flex;font-style:normal;font-weight:400;font-size:14px;line-height:16px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]   .demand-status[_ngcontent-%COMP%]{margin-right:5px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]   .demand-status.default[_ngcontent-%COMP%]{color:#0c83f1}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]   .demand-status.success[_ngcontent-%COMP%]{color:#69cf74}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]   .demand-status.warning[_ngcontent-%COMP%]{color:#e74630}.demand-item[_ngcontent-%COMP%]   .demand-manager[_ngcontent-%COMP%]{padding:20px 12px;width:300px;border:1px solid #d5d5d5;box-sizing:border-box;border-radius:10px;text-align:center}.demand-item[_ngcontent-%COMP%]   .demand-manager[_ngcontent-%COMP%]   .demand-manager-date[_ngcontent-%COMP%]{font-size:14px;line-height:16px;margin-bottom:10px}.demand-item[_ngcontent-%COMP%]   .demand-manager[_ngcontent-%COMP%]   .demand-manager-info[_ngcontent-%COMP%]{padding:14px;font-size:14px;border:1px solid #0c83f1;box-sizing:border-box;border-radius:10px;color:#0c83f1}.demand-item[_ngcontent-%COMP%]:hover   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]{visibility:visible}@media (max-width:1300px){.actions[_ngcontent-%COMP%]   p-dropdown[_ngcontent-%COMP%]{width:100%}.actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:0;width:100%}.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%], .actions[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}.demand-item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap;margin-bottom:10px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]{padding:35px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]{display:flex;justify-content:space-between;flex-wrap:wrap}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]{width:100%;visibility:visible;display:flex;justify-content:space-between;flex-direction:row}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-card[_ngcontent-%COMP%]   .demand-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-top:10px}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-content[_ngcontent-%COMP%]{display:flex;align-items:center}.demand-item[_ngcontent-%COMP%]   .demand-info[_ngcontent-%COMP%]   .demand-status-info[_ngcontent-%COMP%]{display:flex}.demand-item[_ngcontent-%COMP%]   .demand-manager[_ngcontent-%COMP%]{width:100%}}"]}),e})();var Nb=i("mrSG"),Tb=i("+wfv");const Lb=()=>document.createElement("a");function Hb(e,t){let i=e;if("string"==typeof e){const t=e.split(";base64,"),n=t[0],r=atob(t[1]),o=new Uint8Array(r.length);for(let e=0;e<r.length;e++)o[e]=r.charCodeAt(e);i=new Blob([o.buffer],{type:n})}navigator.msSaveBlob(i,t)}function Bb(e,t){let i=e;window.Blob&&e instanceof Blob&&(i=URL.createObjectURL(e));const n=Lb();n.download=t,n.href=i;const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,window,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r),setTimeout(()=>URL.revokeObjectURL(i))}function Rb(e,t,i){if(!i.proxyURL)return;const n=document.createElement("form");n.setAttribute("action",i.proxyURL),n.setAttribute("method","POST"),n.setAttribute("target",i.proxyTarget||"_self");const r=i.proxyData||{};r.fileName=t;const o=e.split(";base64,");r.contentType=o[0].replace("data:",""),r.base64=o[1];for(let a in r)if(r.hasOwnProperty(a)){const e=document.createElement("input");e.setAttribute("type","hidden"),e.setAttribute("name",a),e.setAttribute("value",r[a]),n.appendChild(e)}document.body.appendChild(n),n.submit(),document.body.removeChild(n)}var Mb=i("xOOu"),qb=i("lJzz"),jb=i("vKg+");const $b=function(e){return[e]};function Ub(e,t){if(1&e&&(m.Qb(0,"div",13),m.Qb(1,"div",14),m.Qb(2,"div",15),m.Qb(3,"div",16),m.Hc(4),m.Pb(),m.Lb(5,"div",17),m.Pb(),m.Pb(),m.Pb()),2&e){const e=m.ac().$implicit;m.zb(1),m.hc("routerLink",m.mc(2,$b,e.url)),m.zb(3),m.Jc(" ",e.text," ")}}function Gb(e,t){if(1&e&&(m.Qb(0,"div",13),m.Qb(1,"div",14),m.Qb(2,"div",15),m.Qb(3,"div",16),m.Hc(4),m.Pb(),m.Lb(5,"div",17),m.Pb(),m.Pb(),m.Pb()),2&e){const e=m.ac().$implicit;m.zb(1),m.hc("routerLink",m.mc(2,$b,e.url)),m.zb(3),m.Jc(" ",e.text," ")}}function Vb(e,t){if(1&e&&(m.Ob(0),m.Fc(1,Ub,6,4,"div",12),m.Fc(2,Gb,6,4,"div",12),m.Nb()),2&e){const e=t.$implicit,i=m.ac();m.zb(1),m.hc("ngIf",e.isForDefaultClient&&i.isUserVerified),m.zb(1),m.hc("ngIf",e.isForNewClient&&!i.isUserVerified)}}function Xb(e,t){1&e&&m.Lb(0,"p-progressSpinner")}function Kb(e,t){if(1&e&&(m.Qb(0,"pre"),m.Hc(1),m.bc(2,"json"),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.Ic(m.cc(2,1,e.certInfo))}}function Wb(e,t){1&e&&(m.Qb(0,"pre"),m.Hc(1,"\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f..."),m.Pb())}function Zb(e,t){if(1&e){const e=m.Rb();m.Qb(0,"details",50),m.Xb("click",function(){m.yc(e);const t=m.ac(2);return t.showCertInfo(t.thumbprint)}),m.Qb(1,"summary"),m.Hc(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0435"),m.Pb(),m.Fc(3,Kb,3,3,"pre",35),m.Fc(4,Wb,2,0,"pre",35),m.Pb()}if(2&e){const e=m.ac(2);m.zb(3),m.hc("ngIf",e.certInfo),m.zb(1),m.hc("ngIf",!e.certInfo)}}function Jb(e,t){if(1&e&&(m.Qb(0,"pre"),m.Hc(1),m.bc(2,"json"),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.Ic(m.cc(2,1,e.systemInfo))}}function Yb(e,t){if(1&e&&(m.Qb(0,"pre"),m.Hc(1),m.bc(2,"json"),m.Pb()),2&e){const e=m.ac(3);m.zb(1),m.Ic(m.cc(2,1,e.certInfo))}}function eu(e,t){1&e&&(m.Qb(0,"pre"),m.Hc(1,"\u0417\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u0442\u0441\u044f..."),m.Pb())}function tu(e,t){if(1&e){const e=m.Rb();m.Qb(0,"details",50),m.Xb("click",function(){m.yc(e);const t=m.ac(2);return t.showCertInfo(t.thumbprint)}),m.Qb(1,"summary"),m.Hc(2,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442\u0435"),m.Pb(),m.Fc(3,Yb,3,3,"pre",35),m.Fc(4,eu,2,0,"pre",35),m.Pb()}if(2&e){const e=m.ac(2);m.zb(3),m.hc("ngIf",e.certInfo),m.zb(1),m.hc("ngIf",!e.certInfo)}}function iu(e,t){if(1&e&&(m.Qb(0,"pre"),m.Hc(1),m.bc(2,"json"),m.Pb()),2&e){const e=m.ac(2);m.zb(1),m.Ic(m.cc(2,1,e.systemInfo))}}function nu(e,t){if(1&e&&(m.Qb(0,"div"),m.Qb(1,"label"),m.Hc(2),m.Pb(),m.Lb(3,"br"),m.Lb(4,"div"),m.Pb()),2&e){const e=t.$implicit;m.zb(2),m.Ic(e.name)}}function ru(e,t){if(1&e){const e=m.Rb();m.Qb(0,"div",18),m.Qb(1,"p-tabView"),m.Qb(2,"p-tabPanel",19),m.Qb(3,"form",20,21),m.Xb("ngSubmit",function(){m.yc(e);const t=m.ac();return t.createSignature(t.thumbprint)}),m.Qb(5,"fieldset"),m.Qb(6,"legend"),m.Hc(7,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0438"),m.Pb(),m.Qb(8,"label",22),m.Hc(9,"\u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c\u043e\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435: *"),m.Pb(),m.Lb(10,"br"),m.Qb(11,"textarea",23),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().message=t}),m.Hc(12,"METIB"),m.Pb(),m.Lb(13,"br"),m.Lb(14,"br"),m.Qb(15,"label",24),m.Hc(16,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442: *"),m.Pb(),m.Lb(17,"br"),m.Qb(18,"p-dropdown",25),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().thumbprint=t}),m.Pb(),m.Qb(19,"pre"),m.Hc(20),m.Pb(),m.Fc(21,Zb,5,2,"details",26),m.Qb(22,"pre"),m.Hc(23),m.Pb(),m.Qb(24,"label"),m.Hc(25,"\u0422\u0438\u043f \u043f\u043e\u0434\u043f\u0438\u0441\u0438: *"),m.Pb(),m.Lb(26,"br"),m.Qb(27,"label"),m.Qb(28,"input",27),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().detachedSignature=t}),m.Pb(),m.Hc(29,"\u0421\u043e\u0432\u043c\u0435\u0449\u0435\u043d\u043d\u0430\u044f"),m.Pb(),m.Lb(30,"br"),m.Qb(31,"label"),m.Qb(32,"input",27),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().detachedSignature=t}),m.Pb(),m.Hc(33,"\u041e\u0442\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f"),m.Pb(),m.Lb(34,"br"),m.Lb(35,"br"),m.Lb(36,"hr"),m.Lb(37,"p-button",28),m.Qb(38,"p-button",29),m.Xb("click",function(){return m.yc(e),m.ac().download()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(39,"fieldset"),m.Qb(40,"legend"),m.Hc(41,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),m.Pb(),m.Qb(42,"label",30),m.Hc(43,"\u0425\u0435\u0448 (\u0413\u041e\u0421\u0422 \u0420 34.11-2012 256 \u0431\u0438\u0442):"),m.Pb(),m.Lb(44,"br"),m.Qb(45,"textarea",31),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().hash=t}),m.Pb(),m.Qb(46,"pre"),m.Hc(47),m.Pb(),m.Qb(48,"label",32),m.Hc(49,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c (PKCS7):"),m.Pb(),m.Lb(50,"br"),m.Qb(51,"textarea",33),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().signature=t}),m.Pb(),m.Qb(52,"pre"),m.Hc(53),m.Pb(),m.Qb(54,"p"),m.Hc(55," \u0414\u043b\u044f "),m.Qb(56,"a",34),m.Hc(57,"\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"),m.Pb(),m.Hc(58," \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441\u043e \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e \u0432 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0435 UTF-8 \u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c *.sgn "),m.Lb(59,"br"),m.Hc(60," \u0434\u043b\u044f \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 (\u0438\u043b\u0438 *.sig \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0449\u0435\u043d\u043d\u043e\u0439). "),m.Pb(),m.Pb(),m.Qb(61,"fieldset"),m.Qb(62,"legend"),m.Hc(63,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0435"),m.Pb(),m.Fc(64,Jb,3,3,"pre",35),m.Qb(65,"pre"),m.Hc(66),m.Pb(),m.Pb(),m.Pb(),m.Qb(67,"p-tabPanel",36),m.Qb(68,"form",20,21),m.Xb("ngSubmit",function(){m.yc(e);const t=m.ac();return t.createSignatureWithFile(t.thumbprint)}),m.Qb(70,"fieldset"),m.Qb(71,"legend"),m.Hc(72,"\u0421\u043e\u0437\u0434\u0430\u043d\u0438\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0438"),m.Pb(),m.Qb(73,"div",37),m.Qb(74,"div",38),m.Qb(75,"p"),m.Hc(76," \u041f\u043e\u0434\u043f\u0438\u0441\u044b\u0432\u0430\u0435\u043c\u044b\u0439 \u0444\u0430\u0439\u043b: "),m.Pb(),m.Pb(),m.Qb(77,"div",39),m.Qb(78,"input",40),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"All")}),m.Pb(),m.Qb(79,"label",41),m.Lb(80,"i",42),m.Hc(81," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Lb(82,"br"),m.Lb(83,"br"),m.Qb(84,"label",24),m.Hc(85,"\u0421\u0435\u0440\u0442\u0438\u0444\u0438\u043a\u0430\u0442: *"),m.Pb(),m.Lb(86,"br"),m.Qb(87,"p-dropdown",25),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().thumbprint=t}),m.Pb(),m.Qb(88,"pre"),m.Hc(89),m.Pb(),m.Fc(90,tu,5,2,"details",26),m.Qb(91,"pre"),m.Hc(92),m.Pb(),m.Qb(93,"label"),m.Hc(94,"\u0422\u0438\u043f \u043f\u043e\u0434\u043f\u0438\u0441\u0438: *"),m.Pb(),m.Lb(95,"br"),m.Qb(96,"label"),m.Qb(97,"input",27),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().detachedSignature=t}),m.Pb(),m.Hc(98,"\u0421\u043e\u0432\u043c\u0435\u0449\u0435\u043d\u043d\u0430\u044f"),m.Pb(),m.Lb(99,"br"),m.Qb(100,"label"),m.Qb(101,"input",27),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().detachedSignature=t}),m.Pb(),m.Hc(102,"\u041e\u0442\u0434\u0435\u043b\u0435\u043d\u043d\u0430\u044f"),m.Pb(),m.Lb(103,"br"),m.Lb(104,"br"),m.Lb(105,"hr"),m.Lb(106,"p-button",28),m.Qb(107,"p-button",29),m.Xb("click",function(){return m.yc(e),m.ac().downloadFile()}),m.Pb(),m.Pb(),m.Pb(),m.Qb(108,"fieldset"),m.Qb(109,"legend"),m.Hc(110,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),m.Pb(),m.Qb(111,"label",30),m.Hc(112,"\u0425\u0435\u0448 (\u0413\u041e\u0421\u0422 \u0420 34.11-2012 256 \u0431\u0438\u0442):"),m.Pb(),m.Lb(113,"br"),m.Qb(114,"textarea",31),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().hash=t}),m.Pb(),m.Qb(115,"pre"),m.Hc(116),m.Pb(),m.Qb(117,"label",43),m.Hc(118,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c (PKCS7):"),m.Pb(),m.Lb(119,"br"),m.Qb(120,"textarea",44),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().fileSignature=t}),m.Pb(),m.Qb(121,"pre"),m.Hc(122),m.Pb(),m.Qb(123,"p"),m.Hc(124," \u0414\u043b\u044f "),m.Qb(125,"a",34),m.Hc(126,"\u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0438"),m.Pb(),m.Hc(127," \u043d\u0443\u0436\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u0442\u044c \u0444\u0430\u0439\u043b \u0441\u043e \u0441\u0433\u0435\u043d\u0435\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u044c\u044e \u0432 \u043a\u043e\u0434\u0438\u0440\u043e\u0432\u043a\u0435 UTF-8 \u0441 \u0440\u0430\u0441\u0448\u0438\u0440\u0435\u043d\u0438\u0435\u043c *.sgn "),m.Lb(128,"br"),m.Hc(129," \u0434\u043b\u044f \u043e\u0442\u0434\u0435\u043b\u0435\u043d\u043d\u043e\u0439 \u043f\u043e\u0434\u043f\u0438\u0441\u0438 (\u0438\u043b\u0438 *.sig \u0434\u043b\u044f \u0441\u043e\u0432\u043c\u0435\u0449\u0435\u043d\u043d\u043e\u0439). "),m.Pb(),m.Pb(),m.Qb(130,"fieldset"),m.Qb(131,"legend"),m.Hc(132,"\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f \u043e \u0441\u0438\u0441\u0442\u0435\u043c\u0435"),m.Pb(),m.Fc(133,iu,3,3,"pre",35),m.Qb(134,"pre"),m.Hc(135),m.Pb(),m.Pb(),m.Pb(),m.Qb(136,"p-tabPanel",45),m.Qb(137,"fieldset"),m.Qb(138,"legend"),m.Hc(139,"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u043f\u043e\u0434\u043f\u0438\u0441\u0438"),m.Pb(),m.Qb(140,"div",37),m.Qb(141,"div",38),m.Qb(142,"p"),m.Hc(143," \u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0430\u043d\u043d\u044b\u0439 \u0444\u0430\u0439\u043b: "),m.Pb(),m.Pb(),m.Qb(144,"div",39),m.Qb(145,"input",46),m.Xb("change",function(t){return m.yc(e),m.ac().onSelect(t,"Rar")}),m.Pb(),m.Qb(146,"label",47),m.Lb(147,"i",42),m.Hc(148," \u0412\u044b\u0431\u0440\u0430\u0442\u044c \u0444\u0430\u0439\u043b"),m.Pb(),m.Pb(),m.Pb(),m.Lb(149,"br"),m.Lb(150,"br"),m.Pb(),m.Qb(151,"fieldset"),m.Qb(152,"legend"),m.Hc(153,"\u0420\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442"),m.Pb(),m.Qb(154,"label",48),m.Hc(155,"\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u0424\u0430\u0439\u043b\u0430 (PKCS7):"),m.Pb(),m.Lb(156,"br"),m.Qb(157,"textarea",49),m.Xb("ngModelChange",function(t){return m.yc(e),m.ac().eds=t}),m.Pb(),m.Qb(158,"pre"),m.Hc(159),m.Pb(),m.Lb(160,"hr"),m.Qb(161,"p"),m.Hc(162," \u0424\u0430\u0439\u043b\u044b: "),m.Pb(),m.Fc(163,nu,5,1,"div",7),m.Pb(),m.Pb(),m.Pb(),m.Pb()}if(2&e){const e=m.vc(4),t=m.ac();m.zb(11),m.hc("ngModel",t.message),m.zb(7),m.hc("options",t.certificateList)("ngModel",t.thumbprint)("showClear",!0),m.zb(2),m.Ic(t.certificateListError),m.zb(1),m.hc("ngIf",t.thumbprint),m.zb(2),m.Ic(t.certificateInfoError),m.zb(5),m.hc("value",!1)("ngModel",t.detachedSignature),m.zb(4),m.hc("value",!0)("ngModel",t.detachedSignature),m.zb(5),m.hc("disabled",!e.valid),m.zb(1),m.hc("disabled",!e.valid),m.zb(7),m.hc("ngModel",t.hash)("placeholder",t.hashStatus),m.zb(2),m.Ic(t.hashError),m.zb(4),m.hc("placeholder",t.signatureStatus)("ngModel",t.signature),m.zb(2),m.Ic(t.signatureError),m.zb(11),m.hc("ngIf",t.systemInfo),m.zb(2),m.Ic(t.systemInfoError),m.zb(21),m.hc("options",t.certificateList)("ngModel",t.thumbprint)("showClear",!0),m.zb(2),m.Ic(t.certificateListError),m.zb(1),m.hc("ngIf",t.thumbprint),m.zb(2),m.Ic(t.certificateInfoError),m.zb(5),m.hc("value",!1)("ngModel",t.detachedSignature),m.zb(4),m.hc("value",!0)("ngModel",t.detachedSignature),m.zb(5),m.hc("disabled",!e.valid),m.zb(1),m.hc("disabled",!e.valid),m.zb(7),m.hc("ngModel",t.hash)("placeholder",t.hashStatus),m.zb(2),m.Ic(t.hashError),m.zb(4),m.hc("placeholder",t.signatureStatus)("ngModel",t.fileSignature),m.zb(2),m.Ic(t.signatureError),m.zb(11),m.hc("ngIf",t.systemInfo),m.zb(2),m.Ic(t.systemInfoError),m.zb(22),m.hc("placeholder",t.signatureStatus)("ngModel",t.eds),m.zb(2),m.Ic(t.signatureError),m.zb(4),m.hc("ngForOf",t.filesWithEDS)}}function ou(e,t){if(1&e){const e=m.Rb();m.Qb(0,"p-button",51),m.Xb("click",function(){return m.yc(e),m.ac().displayModal=!1}),m.Pb()}}const au=function(e){return{"card-content":e}},su=function(){return["history"]},cu=function(){return{width:"80vw"}},lu=[{path:"",children:[{path:"",component:(()=>{class e{constructor(e,t){this.authService=e,this.cryproService=t,this.actions=[],this.isUserVerified=!1,this.displayModal=!1,this.isCertsLoading=!1,this.certificateList=[],this.message="METIB",this.hash=null,this.hashStatus="\u041d\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d",this.detachedSignature=!0,this.thumbprint=null,this.signature=null,this.fileSignature=null,this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430",this.certificateListError=null,this.certificateInfoError=null,this.hashError=null,this.signatureError=null,this.systemInfoError=null,this.certInfo=null,this.setting={element:{dynamicDownload:null}},this.CADESCOM_CADES_BES=1,this.CAPICOM_CURRENT_USER_STORE=2,this.CAPICOM_MY_STORE="My",this.CAPICOM_STORE_OPEN_MAXIMUM_ALLOWED=2,this.CAPICOM_CERTIFICATE_FIND_SUBJECT_NAME=1,this.CADESCOM_BASE64_TO_BINARY=1,this.eds="",this.filesWithEDS=[],this.subscription$=new C.a}ngOnInit(){this.initActions(),this.isUserVerified=this.authService.isUserVerified()}ngOnDestroy(){this.subscription$.unsubscribe()}openCerts(){this.displayModal=!0,this.isCertsLoading=!0,this.subscription$.add(this.cryproService.getCertificates().subscribe(e=>{console.log(e),this.certificateList=e,this.isCertsLoading=!1}))}initActions(){this.actions=[{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 \u043f\u0440\u043e\u0444\u0438\u043b\u044f",url:"actions/edit-profile",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u0443\u044e \u0442\u0435\u043c\u0443",url:"actions/free-request",isForNewClient:!1,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u0432 \u0442\u0435\u0445\u043d\u0438\u0447\u0435\u0441\u043a\u0443\u044e \u043f\u043e\u0434\u0434\u0435\u0440\u0436\u043a\u0443",url:"actions/support-request",isForNewClient:!1,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u042d\u0426\u041f",url:"actions/create-eds",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043f\u043e\u0440\u0443\u0447\u0438\u0442\u0435\u043b\u044c\u0441\u0442\u0432\u043e",url:"actions/surety",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433",url:"actions/factoring",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0430\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433",url:"actions/agent-factoring",isForNewClient:!0,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0443\u0432\u0435\u043b\u0438\u0447\u0435\u043d\u0438\u0435 \u043b\u0438\u043c\u0438\u0442\u0430",url:"actions/update-limit",isForNewClient:!1,isForDefaultClient:!0},{text:"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u043d\u043e\u0432\u043e\u0433\u043e \u0434\u0435\u0431\u0438\u0442\u043e\u0440\u0430",url:"actions/create-debitor",isForNewClient:!1,isForDefaultClient:!0},{text:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043a\u0430\u043d\u0430\u043b\u0430 \u0432\u0435\u0440\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u0438",url:"actions/verify",isForNewClient:!1,isForDefaultClient:!0}];let e=this.authService.getUserFromStore();if(e&&e.DebtorID){let e=this.actions.find(e=>"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0430\u0433\u0435\u043d\u0442\u0441\u043a\u0438\u0439 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433"===e.text),t=Object.assign(Object.assign({},e),{isForNewClient:!1,isForDefaultClient:!1}),i=this.actions.indexOf(e);this.actions[i]=t}if(e&&e.CustomerID){let e=this.actions.find(e=>"\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0444\u0430\u043a\u0442\u043e\u0440\u0438\u043d\u0433"===e.text),t=Object.assign(Object.assign({},e),{isForNewClient:!1,isForDefaultClient:!1}),i=this.actions.indexOf(e);this.actions[i]=t}}downloadFile(){const e=new Mb;e.file("key.sig",this.fileSignature),e.file("file.jpg",this.file),e.generateAsync({type:"blob"}).then(function(e){!function(e,t,i={}){let n=Rb;if(i.forceProxy&&!i.proxyURL)throw new Error("No proxyURL is set, but forceProxy is true");i.forceProxy||("download"in Lb()&&(n=Bb),navigator.msSaveBlob&&(n=Hb)),n(e,t,i)}(e,"\u043f\u043e\u0434\u043f\u0438\u0441\u044c.zip")})}download(){this.dyanmicDownloadByHtmlTag({fileName:"\u041f\u043e\u0434\u043f\u0438\u0441\u044c",text:this.signature})}dyanmicDownloadByHtmlTag(e){this.setting.element.dynamicDownload||(this.setting.element.dynamicDownload=document.createElement("a"));const t=this.setting.element.dynamicDownload,i=this.detachedSignature?".sig":".sgn";t.setAttribute("href",`data:${i};charset=utf-8,${encodeURIComponent(e.text)}`),t.setAttribute("download",`${e.fileName}${i}`);var n=new MouseEvent("click");t.dispatchEvent(n)}createSignatureWithFile(e){return Object(Nb.a)(this,void 0,void 0,function*(){console.log(e),console.log(this.file),this.hash=null,this.hashError=null,this.fileSignature=null,this.signatureError=null,this.hashStatus="\u0412\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f...";try{this.hash=yield Object(Tb.createHash)(this.file),console.log("HASH",this.hash)}catch(t){return void(this.hashError=t.message)}if(this.hashStatus="\u041d\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d",this.signatureStatus="\u0421\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f...",this.detachedSignature){try{this.fileSignature=yield Object(Tb.createDetachedSignature)(e,this.hash)}catch(t){this.signatureError=t.message}this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430"}else{try{this.fileSignature=yield Object(Tb.createAttachedSignature)(e,this.file)}catch(t){this.signatureError=t.message}this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430"}})}createSignature(e){return Object(Nb.a)(this,void 0,void 0,function*(){this.hash=null,this.hashError=null,this.signature=null,this.signatureError=null,this.hashStatus="\u0412\u044b\u0447\u0438\u0441\u043b\u044f\u0435\u0442\u0441\u044f...";try{this.hash=yield Object(Tb.createHash)(this.message)}catch(t){return void(this.hashError=t.message)}if(this.hashStatus="\u041d\u0435 \u0432\u044b\u0447\u0438\u0441\u043b\u0435\u043d",this.signatureStatus="\u0421\u043e\u0437\u0434\u0430\u0435\u0442\u0441\u044f...",this.detachedSignature){try{this.signature=yield Object(Tb.createDetachedSignature)(e,this.hash)}catch(t){this.signatureError=t.message}this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430"}else{try{this.signature=yield Object(Tb.createAttachedSignature)(e,this.message)}catch(t){this.signatureError=t.message}this.signatureStatus="\u041d\u0435 \u0441\u043e\u0437\u0434\u0430\u043d\u0430"}})}showCertInfo(e){return Object(Nb.a)(this,void 0,void 0,function*(){this.certInfo=null,this.certificateInfoError=null;try{const t=yield Object(Tb.getCertificate)(e);this.certInfo={name:t.name,issuerName:t.issuerName,subjectName:t.subjectName,thumbprint:t.thumbprint,validFrom:t.validFrom,validTo:t.validTo,isValid:yield t.isValid(),version:yield t.getCadesProp("Version"),base64:yield t.exportBase64(),algorithm:yield t.getAlgorithm(),extendedKeyUsage:yield t.getExtendedKeyUsage(),ownerInfo:yield t.getOwnerInfo(),issuerInfo:yield t.getIssuerInfo(),decodedExtendedKeyUsage:yield t.getDecodedExtendedKeyUsage(),"1.3.6.1.4.1.311.80.1":yield t.hasExtendedKeyUsage("1.3.6.1.4.1.311.80.1"),"['1.3.6.1.5.5.7.3.2', '1.3.6.1.4.1.311.10.3.12']":yield t.hasExtendedKeyUsage(["1.3.6.1.5.5.7.3.2","1.3.6.1.4.1.311.10.3.12"]),"1.3.6.1.4.1.311.80.2":yield t.hasExtendedKeyUsage("1.3.6.1.4.1.311.80.2"),"'1.3.6.1.5.5.7.3.3', '1.3.6.1.4.1.311.10.3.12'":yield t.hasExtendedKeyUsage(["1.3.6.1.5.5.7.3.3","1.3.6.1.4.1.311.10.3.12"])}}catch(t){this.certificateInfoError=t.message}})}displayCertificates(){return Object(Nb.a)(this,void 0,void 0,function*(){this.certificateListError=null;try{this.certificateList=yield Object(Tb.getUserCertificates)()}catch(e){this.certificateListError=e.message}})}displaySystemInfo(){return Object(Nb.a)(this,void 0,void 0,function*(){this.systemInfoError=null;try{this.systemInfo=Object.assign(Object.assign({},yield Object(Tb.getSystemInfo)()),{isValidSystemSetup:yield Object(Tb.isValidSystemSetup)()})}catch(e){this.systemInfoError=e.message}})}onSelect(e,t){let i=e.target.files[0];if("Rar"===t)(new Mb).loadAsync(i).then(e=>{Object.keys(e.files).forEach(t=>{console.log("ZIP FILES",e.files),console.log("File Name",t),console.log("Current File",e.files[t]),e.files[t].async("string").then(i=>{if(console.log("Type",e.files[t].name.split(".")[1]),"sig"===e.files[t].name.split(".")[1])this.eds=i;else{const n=this.dataURItoBlob(i),r=new File([n],e.files[t].name,{type:e.files[t].name.split(".")[1]});this.filesWithEDS.push(r)}i=i+"**$$##$$**"+i,console.log("FD",i)})})});else{const e=new FileReader;e.onload=t=>{this.file=e.result},e.readAsArrayBuffer(i)}}dataURItoBlob(e){const t=new ArrayBuffer(e),i=new Uint8Array(t);for(let n=0;n<e;n++)i[n]=e.charCodeAt(n);return new Blob([i])}}return e.\u0275fac=function(t){return new(t||e)(m.Kb(T.a),m.Kb(qb.a))},e.\u0275cmp=m.Eb({type:e,selectors:[["app-demand-page"]],decls:16,vars:16,consts:[[3,"ngClass"],[1,"header","lg"],[1,"title"],[1,"subheader"],[1,"actions"],["pButton","","pRipple","","type","button","label","\u0418\u0441\u0442\u043e\u0440\u0438\u044f \u0437\u0430\u043f\u0440\u043e\u0441\u043e\u0432",1,"basic",3,"routerLink"],[1,"p-grid"],[4,"ngFor","ngForOf"],["header","\u0420\u0430\u0431\u043e\u0442\u0430 \u0441 \u042d\u0426\u041f",3,"visible","modal","baseZIndex","draggable","resizable","visibleChange"],[4,"ngIf","ngIfElse"],["templateContent",""],["pTemplate","footer"],["class","p-col",4,"ngIf"],[1,"p-col"],[1,"demand-action-card","can-click",3,"routerLink"],[1,"demand-action-content"],[1,"text"],[1,"icon","arrow_right"],[2,"min-height","50vh"],["header","\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"],["novalidate","",3,"ngSubmit"],["signatureForm","ngForm"],["for","message"],["id","message","pInputTextarea","","name","message","cols","80","rows","5","placeholder","\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435","autofocus","","required","",3,"ngModel","ngModelChange"],["for","certificate"],["id","certificate","name","certificate","optionLabel","name","optionValue","thumbprint",3,"options","ngModel","showClear","ngModelChange"],[3,"click",4,"ngIf"],["type","radio","name","detachedSignature",3,"value","ngModel","ngModelChange"],["type","submit","label","\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c",1,"p-mr-1",3,"disabled"],["type","button","label","\u0421\u043a\u0430\u0447\u0430\u0442\u044c \u043f\u043e\u0434\u043f\u0438\u0441\u044c",3,"disabled","click"],["for","hash"],["id","hash","cols","80","rows","5",3,"ngModel","placeholder","ngModelChange"],["for","signature"],["id","signature","name","signature","cols","80","rows","30",3,"placeholder","ngModel","ngModelChange"],["href","https://www.gosuslugi.ru/pgu/eds/","target","_blank","rel","nofollow noopener noreferrer","title","\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u043f\u0440\u043e\u0432\u0435\u0440\u043a\u0435 \u043f\u043e\u0434\u043f\u0438\u0441\u0438"],[4,"ngIf"],["header","\u041f\u043e\u0434\u043f\u0438\u0441\u044c \u0444\u0430\u0439\u043b\u0430"],[1,"addon-button","mb-20"],[1,"addon-text"],[1,"mib-uploader"],["type","file","id","All","hidden","",3,"change"],["for","All",1,"mib-upload"],[1,"pi","pi-paperclip","mr-20"],["for","fileSignature"],["id","fileSignature","name","fileSignature","cols","80","rows","30",3,"placeholder","ngModel","ngModelChange"],["header","\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430"],["type","file","id","Rar","hidden","",3,"change"],["for","Rar",1,"mib-upload"],["for","eds"],["id","eds","name","eds","cols","80","rows","30",3,"placeholder","ngModel","ngModelChange"],[3,"click"],["icon","pi pi-check","label","Ok","styleClass","p-button-text",3,"click"]],template:function(e,t){if(1&e&&(m.Qb(0,"div",0),m.Qb(1,"div",1),m.Qb(2,"div",2),m.Qb(3,"h2"),m.Hc(4,"\u0417\u0430\u043f\u0440\u043e\u0441\u044b"),m.Pb(),m.Qb(5,"div",3),m.Hc(6," \u0421\u043f\u0438\u0441\u043e\u043a \u0417\u0430\u043f\u0440\u043e\u0441\u043e\u0432 "),m.Pb(),m.Pb(),m.Qb(7,"div",4),m.Lb(8,"button",5),m.Pb(),m.Pb(),m.Qb(9,"div",6),m.Fc(10,Vb,3,2,"ng-container",7),m.Pb(),m.Pb(),m.Qb(11,"p-dialog",8),m.Xb("visibleChange",function(e){return t.displayModal=e}),m.Fc(12,Xb,1,0,"p-progressSpinner",9),m.Fc(13,ru,164,45,"ng-template",null,10,m.Gc),m.Fc(15,ou,1,0,"ng-template",11),m.Pb()),2&e){const e=m.vc(14);m.hc("ngClass",m.mc(12,au,t.isUserVerified)),m.zb(8),m.hc("routerLink",m.lc(14,su)),m.zb(2),m.hc("ngForOf",t.actions),m.zb(1),m.Dc(m.lc(15,cu)),m.hc("visible",t.displayModal)("modal",!0)("baseZIndex",1e4)("draggable",!1)("resizable",!1),m.zb(1),m.hc("ngIf",t.isCertsLoading)("ngIfElse",e)}},directives:[D.l,A.b,I.g,D.m,r.a,D.n,L.i,jb.a,q.b,q.a,S.y,S.q,S.r,S.b,te.a,S.w,S.p,S.s,E.a,S.u,A.a],pipes:[D.h],styles:[".demand-action-card[_ngcontent-%COMP%]{width:100%;height:100%;padding:45px 56px;background:#fff;border-radius:10px}.demand-action-card[_ngcontent-%COMP%]   .demand-action-content[_ngcontent-%COMP%]{font-size:14px;line-height:16px;color:#102538;display:flex;align-items:center}.demand-action-card[_ngcontent-%COMP%]   .demand-action-content[_ngcontent-%COMP%]   .icon.arrow_right[_ngcontent-%COMP%]{margin-left:13px;background:url(/assets/icons/arrow_right.png) no-repeat 50%;width:20px;height:20px}.demand-action-card[_ngcontent-%COMP%]:hover{box-shadow:0 15px 25px rgba(0,0,0,.1);transition:box-shadow .3s ease-in-out}"]}),e})()},{path:"history",component:Ab},{path:"actions/edit-profile",canDeactivate:[F],component:yr},{path:"actions/create-debitor",canDeactivate:[F],component:xn},{path:"actions/create-eds",canDeactivate:[F],component:Ro},{path:"actions/update-limit",canDeactivate:[F],component:hc},{path:"actions/free-request",canDeactivate:[F],component:Ac},{path:"actions/support-request",canDeactivate:[F],component:Tc},{path:"actions/agent-factoring",canDeactivate:[F],component:cn},{path:"actions/factoring",canDeactivate:[F],component:js},{path:"actions/surety",canDeactivate:[F],component:Nd},{path:"actions/verify",canDeactivate:[F],component:ab}]}];let du=(()=>{class e{}return e.\u0275mod=m.Ib({type:e}),e.\u0275inj=m.Hb({factory:function(t){return new(t||e)},imports:[[I.j.forChild(lu)],I.j]}),e})();var bu=i("QIUk"),uu=i("rEr+"),fu=i("lVkt"),hu=i("+DzE"),pu=i("+la4"),mu=i("LuMj"),gu=i("b1Ni"),vu=i("+F6F");const Pu=Object(a.n)(s.CREATE_DEMAND_FACTORING,Object(a.s)()),yu=Object(a.n)(s.CREATE_DEMAND_FACTORING_SUCCESS,Object(a.s)()),Iu=Object(a.n)(s.CREATE_DEMAND_FACTORING_FAILURE,Object(a.s)());var Fu=i("99NH");const Qu=Object(a.n)(s.REMOVE_DEMANDS,Object(a.s)()),Cu=Object(a.n)(s.REMOVE_DEMANDS_SUCCESS),Du=Object(a.n)(s.REMOVE_DEMANDS_FAILURE),ku=Object(a.n)(s.GET_DRAFTS),zu=Object(a.n)(s.GET_DRAFTS_SUCCESS,Object(a.s)()),Su=Object(a.n)(s.GET_DRAFTS_SUCCESS),wu={data:null,drafts:null,isLoading:!1,error:null},xu=Object(a.p)(wu,Object(a.r)(c,e=>Object.assign(Object.assign({},e),{error:null,isLoading:!0})),Object(a.r)(l,(e,t)=>Object.assign(Object.assign({},e),{isLoading:!1,data:t.demands})),Object(a.r)(d,e=>Object.assign(Object.assign({},e),{isLoading:!1})),Object(a.r)(ku,e=>Object.assign(Object.assign({},e),{error:null,isLoading:!0})),Object(a.r)(zu,(e,t)=>Object.assign(Object.assign({},e),{isLoading:!1,drafts:t.demands})),Object(a.r)(Su,e=>Object.assign(Object.assign({},e),{isLoading:!1})),Object(a.r)(Pu,e=>Object.assign(Object.assign({},e),{error:null,isLoading:!0})),Object(a.r)(yu,(e,t)=>Object.assign(Object.assign({},e),{isLoading:!1})),Object(a.r)(Iu,(e,t)=>Object.assign(Object.assign({},e),{isLoading:!1,error:t.errors})),Object(a.r)(Qu,e=>Object.assign(Object.assign({},e),{error:null,isLoading:!0})),Object(a.r)(Cu,(e,t)=>Object.assign(Object.assign({},e),{isLoading:!1})),Object(a.r)(Du,(e,t)=>Object.assign(Object.assign({},e),{isLoading:!1})),Object(a.r)(Fu.b,()=>wu));function Ou(e,t){return xu(e,t)}var _u=i("NCSE");let Eu=(()=>{class e{constructor(e,t,i){this.actions$=e,this.router=t,this.demandService=i,this.createDemandFactoring$=Object(b.c)(()=>this.actions$.pipe(Object(b.d)(Pu),Object(u.a)(({data:e})=>this.demandService.add(e).pipe(Object(f.a)(e=>yu({response:e})),Object(h.a)(e=>Object(p.a)(Iu({errors:e.error})))))))}}return e.\u0275fac=function(t){return new(t||e)(m.Ub(b.a),m.Ub(I.f),m.Ub(P))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac}),e})(),Au=(()=>{class e{constructor(e,t,i){this.actions$=e,this.store=t,this.demandService=i,this.removeDemands$=Object(b.c)(()=>this.actions$.pipe(Object(b.d)(Qu),Object(u.a)(({ID:e})=>this.demandService.deleteDraftById(e).pipe(Object(f.a)(()=>(this.store.dispatch(c()),Cu())),Object(h.a)(()=>Object(p.a)(Du()))))))}}return e.\u0275fac=function(t){return new(t||e)(m.Ub(b.a),m.Ub(a.h),m.Ub(P))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac}),e})(),Nu=(()=>{class e{constructor(e,t){this.actions$=e,this.demandService=t,this.getDrafts$=Object(b.c)(()=>this.actions$.pipe(Object(b.d)(ku),Object(u.a)(()=>this.demandService.getDrafts().pipe(Object(f.a)(e=>zu({demands:e})),Object(h.a)(()=>Object(p.a)(Su()))))))}}return e.\u0275fac=function(t){return new(t||e)(m.Ub(b.a),m.Ub(P))},e.\u0275prov=m.Gb({token:e,factory:e.\u0275fac}),e})(),Tu=(()=>{class e{}return e.\u0275mod=m.Ib({type:e}),e.\u0275inj=m.Hb({factory:function(t){return new(t||e)},providers:[F,O.a,D.d,P,L.g,qb.a,H.a,B.a],imports:[[D.c,_.b,Ir.b,A.c,_u.a,jb.b,mu.a,R.b,te.b,rt.b,q.c,nt,pu.a,uu.k,ee,ie.b,E.b,S.j,b.b.forFeature([y,Nu,Eu,Au]),a.j.forFeature("demands",Ou),hu.b,fu.b,du,pe.b,S.v,o.a,n.a,bu.b,r.b,gu.a,vu.a]]}),e})()},xOOu:function(e,t,i){e.exports=function e(t,i,n){function r(a,s){if(!i[a]){if(!t[a]){if(o)return o(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=i[a]={exports:{}};t[a][0].call(l.exports,function(e){return r(t[a][1][e]||e)},l,l.exports,e,t,i,n)}return i[a].exports}for(var o=!1,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,t,i){(function(n){!function(e){"object"==typeof i&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(i,n,r){function o(s,c){if(!n[s]){if(!i[s]){var l="function"==typeof e&&e;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var b=n[s]={exports:{}};i[s][0].call(b.exports,function(e){return o(i[s][1][e]||e)},b,b.exports,t,i,n,r)}return n[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,i){(function(n){!function(e){"object"==typeof i&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(i,n,r){function o(s,c){if(!n[s]){if(!i[s]){var l="function"==typeof e&&e;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var b=n[s]={exports:{}};i[s][0].call(b.exports,function(e){return o(i[s][1][e]||e)},b,b.exports,t,i,n,r)}return n[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,i){(function(n){!function(e){"object"==typeof i&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(i,n,r){function o(s,c){if(!n[s]){if(!i[s]){var l="function"==typeof e&&e;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var b=n[s]={exports:{}};i[s][0].call(b.exports,function(e){return o(i[s][1][e]||e)},b,b.exports,t,i,n,r)}return n[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,i){(function(n){!function(e){"object"==typeof i&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(i,n,r){function o(s,c){if(!n[s]){if(!i[s]){var l="function"==typeof e&&e;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var b=n[s]={exports:{}};i[s][0].call(b.exports,function(e){return o(i[s][1][e]||e)},b,b.exports,t,i,n,r)}return n[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,i){(function(n){!function(e){"object"==typeof i&&void 0!==t?t.exports=e():("undefined"!=typeof window?window:void 0!==n?n:"undefined"!=typeof self?self:this).JSZip=e()}(function(){return function t(i,n,r){function o(s,c){if(!n[s]){if(!i[s]){var l="function"==typeof e&&e;if(!c&&l)return l(s,!0);if(a)return a(s,!0);var d=new Error("Cannot find module '"+s+"'");throw d.code="MODULE_NOT_FOUND",d}var b=n[s]={exports:{}};i[s][0].call(b.exports,function(e){return o(i[s][1][e]||e)},b,b.exports,t,i,n,r)}return n[s].exports}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(e,t,i){"use strict";var n=e("./utils"),r=e("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(e){for(var t,i,r,a,s,c,l=[],d=0,b=e.length,u=b,f="string"!==n.getTypeOf(e);d<e.length;)u=b-d,r=f?(t=e[d++],i=d<b?e[d++]:0,d<b?e[d++]:0):(t=e.charCodeAt(d++),i=d<b?e.charCodeAt(d++):0,d<b?e.charCodeAt(d++):0),a=(3&t)<<4|i>>4,s=1<u?(15&i)<<2|r>>6:64,c=2<u?63&r:64,l.push(o.charAt(t>>2)+o.charAt(a)+o.charAt(s)+o.charAt(c));return l.join("")},i.decode=function(e){var t,i,n,a,s,c,l=0,d=0;if("data:"===e.substr(0,"data:".length))throw new Error("Invalid base64 input, it looks like a data url.");var b,u=3*(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(e.charAt(e.length-1)===o.charAt(64)&&u--,e.charAt(e.length-2)===o.charAt(64)&&u--,u%1!=0)throw new Error("Invalid base64 input, bad content length.");for(b=r.uint8array?new Uint8Array(0|u):new Array(0|u);l<e.length;)t=o.indexOf(e.charAt(l++))<<2|(a=o.indexOf(e.charAt(l++)))>>4,i=(15&a)<<4|(s=o.indexOf(e.charAt(l++)))>>2,n=(3&s)<<6|(c=o.indexOf(e.charAt(l++))),b[d++]=t,64!==s&&(b[d++]=i),64!==c&&(b[d++]=n);return b}},{"./support":30,"./utils":32}],2:[function(e,t,i){"use strict";var n=e("./external"),r=e("./stream/DataWorker"),o=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function s(e,t,i,n,r){this.compressedSize=e,this.uncompressedSize=t,this.crc32=i,this.compression=n,this.compressedContent=r}s.prototype={getContentWorker:function(){var e=new r(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new r(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},s.createWorkerFrom=function(e,t,i){return e.pipe(new o).pipe(new a("uncompressedSize")).pipe(t.compressWorker(i)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=s},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,i){"use strict";var n=e("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(e){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},i.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,i){"use strict";var n=e("./utils"),r=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,i){var n=r,o=0+i;e^=-1;for(var a=0;a<o;a++)e=e>>>8^n[255&(e^t[a])];return-1^e}(0|t,e,e.length):function(e,t,i){var n=r,o=0+i;e^=-1;for(var a=0;a<o;a++)e=e>>>8^n[255&(e^t.charCodeAt(a))];return-1^e}(0|t,e,e.length):0}},{"./utils":32}],5:[function(e,t,i){"use strict";i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(e,t,i){"use strict";var n;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,r=e("pako"),o=e("./utils"),a=e("./stream/GenericWorker"),s=n?"uint8array":"array";function c(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}i.magic="\b\0",o.inherits(c,a),c.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(o.transformTo(s,e.data),!1)},c.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},c.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},c.prototype._createPako=function(){this._pako=new r[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},i.compressWorker=function(e){return new c("Deflate",e)},i.uncompressWorker=function(){return new c("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,i){"use strict";function n(e,t){var i,n="";for(i=0;i<t;i++)n+=String.fromCharCode(255&e),e>>>=8;return n}function r(e,t,i,r,a,d){var b,u,f=e.file,h=e.compression,p=d!==s.utf8encode,m=o.transformTo("string",d(f.name)),g=o.transformTo("string",s.utf8encode(f.name)),v=f.comment,P=o.transformTo("string",d(v)),y=o.transformTo("string",s.utf8encode(v)),I=g.length!==f.name.length,F=y.length!==v.length,Q="",C="",D="",k=f.dir,z=f.date,S={crc32:0,compressedSize:0,uncompressedSize:0};t&&!i||(S.crc32=e.crc32,S.compressedSize=e.compressedSize,S.uncompressedSize=e.uncompressedSize);var w=0;t&&(w|=8),p||!I&&!F||(w|=2048);var x,O=0,_=0;k&&(O|=16),"UNIX"===a?(_=798,O|=((x=f.unixPermissions)||(x=k?16893:33204),(65535&x)<<16)):(_=20,O|=63&(f.dosPermissions||0)),b=z.getUTCHours(),b<<=6,b|=z.getUTCMinutes(),b<<=5,b|=z.getUTCSeconds()/2,u=z.getUTCFullYear()-1980,u<<=4,u|=z.getUTCMonth()+1,u<<=5,u|=z.getUTCDate(),I&&(Q+="up"+n((C=n(1,1)+n(c(m),4)+g).length,2)+C),F&&(Q+="uc"+n((D=n(1,1)+n(c(P),4)+y).length,2)+D);var E="";return E+="\n\0",E+=n(w,2),E+=h.magic,E+=n(b,2),E+=n(u,2),E+=n(S.crc32,4),E+=n(S.compressedSize,4),E+=n(S.uncompressedSize,4),E+=n(m.length,2),E+=n(Q.length,2),{fileRecord:l.LOCAL_FILE_HEADER+E+m+Q,dirRecord:l.CENTRAL_FILE_HEADER+n(_,2)+E+n(P.length,2)+"\0\0\0\0"+n(O,4)+n(r,4)+m+Q+P}}var o=e("../utils"),a=e("../stream/GenericWorker"),s=e("../utf8"),c=e("../crc32"),l=e("../signature");function d(e,t,i,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=i,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,a),d.prototype.push=function(e){var t=e.meta.percent||0,i=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:i?(t+100*(i-n-1))/i:100}}))},d.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var i=r(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(e){this.accumulate=!1;var t,i=this.streamFiles&&!e.file.dir,o=r(e,i,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(o.dirRecord),i)this.push({data:(t=e,l.DATA_DESCRIPTOR+n(t.crc32,4)+n(t.compressedSize,4)+n(t.uncompressedSize,4)),meta:{percent:100}});else for(this.push({data:o.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var i,r,a,s,c=(i=this.dirRecords.length,r=this.bytesWritten-e,a=e,s=o.transformTo("string",(0,this.encodeFileName)(this.zipComment)),l.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(i,2)+n(i,2)+n(r,4)+n(a,4)+n(s.length,2)+s);this.push({data:c,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},d.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var i=0;i<t.length;i++)try{t[i].error(e)}catch(e){}return!0},d.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,i){"use strict";var n=e("../compressions"),r=e("./ZipFileWorker");i.generateWorker=function(e,t,i){var o=new r(t.streamFiles,i,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,i){a++;var r=function(e,t){var i=e||t,r=n[i];if(!r)throw new Error(i+" is not a valid compression method !");return r}(i.options.compression,t.compression),s=i.dir,c=i.date;i._compressWorker(r,i.options.compressionOptions||t.compressionOptions||{}).withStreamInfo("file",{name:e,dir:s,date:c,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(o)}),o.entriesCount=a}catch(e){o.error(e)}return o}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,i){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files={},this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.5.0",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,i){"use strict";var n=e("./utils"),r=e("./external"),o=e("./utf8"),a=e("./zipEntries"),s=e("./stream/Crc32Probe"),c=e("./nodejsUtils");function l(e){return new r.Promise(function(t,i){var n=e.decompressed.getContentWorker().pipe(new s);n.on("error",function(e){i(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?i(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var i=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),c.isNode&&c.isStream(e)?r.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var i=new a(t);return i.load(e),i}).then(function(e){var i=[r.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var o=0;o<n.length;o++)i.push(l(n[o]));return r.Promise.all(i)}).then(function(e){for(var n=e.shift(),r=n.files,o=0;o<r.length;o++){var a=r[o];i.file(a.fileNameStr,a.decompressed,{binary:!0,optimizedBinaryString:!0,date:a.date,dir:a.dir,comment:a.fileCommentStr.length?a.fileCommentStr:null,unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions,createFolders:t.createFolders})}return n.zipComment.length&&(i.comment=n.zipComment),i})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,i){"use strict";var n=e("../utils"),r=e("../stream/GenericWorker");function o(e,t){r.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(o,r),o.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},o.prototype.pause=function(){return!!r.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,i){"use strict";var n=e("readable-stream").Readable;function r(e,t,i){n.call(this,t),this._helper=e;var r=this;e.on("data",function(e,t){r.push(e)||r._helper.pause(),i&&i(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}e("../utils").inherits(r,n),r.prototype._read=function(){this._helper.resume()},t.exports=r},{"../utils":32,"readable-stream":16}],14:[function(e,t,i){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,i){"use strict";function n(e,t,i){var n,o,c=a.getTypeOf(t),u=a.extend(i||{},l);u.date=u.date||new Date,null!==u.compression&&(u.compression=u.compression.toUpperCase()),"string"==typeof u.unixPermissions&&(u.unixPermissions=parseInt(u.unixPermissions,8)),u.unixPermissions&&16384&u.unixPermissions&&(u.dir=!0),u.dosPermissions&&16&u.dosPermissions&&(u.dir=!0),u.dir&&(e=r(e)),u.createFolders&&(n=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""}(e))&&p.call(this,n,!0),i&&void 0!==i.binary||(u.binary=!("string"===c&&!1===u.binary&&!1===u.base64)),(t instanceof d&&0===t.uncompressedSize||u.dir||!t||0===t.length)&&(u.base64=!1,u.binary=!0,t="",u.compression="STORE",c="string"),o=t instanceof d||t instanceof s?t:f.isNode&&f.isStream(t)?new h(e,t):a.prepareContent(e,t,u.binary,u.optimizedBinaryString,u.base64);var m=new b(e,o,u);this.files[e]=m}function r(e){return"/"!==e.slice(-1)&&(e+="/"),e}var o=e("./utf8"),a=e("./utils"),s=e("./stream/GenericWorker"),c=e("./stream/StreamHelper"),l=e("./defaults"),d=e("./compressedObject"),b=e("./zipObject"),u=e("./generate"),f=e("./nodejsUtils"),h=e("./nodejs/NodejsStreamInputAdapter"),p=function(e,t){return t=void 0!==t?t:l.createFolders,e=r(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function m(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,i,n;for(t in this.files)this.files.hasOwnProperty(t)&&(n=this.files[t],(i=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(i,n))},filter:function(e){var t=[];return this.forEach(function(i,n){e(i,n)&&t.push(n)}),t},file:function(e,t,i){if(1!==arguments.length)return n.call(this,e=this.root+e,t,i),this;if(m(e)){var r=e;return this.filter(function(e,t){return!t.dir&&r.test(e)})}var o=this.files[this.root+e];return o&&!o.dir?o:null},folder:function(e){if(!e)return this;if(m(e))return this.filter(function(t,i){return i.dir&&e.test(t)});var t=p.call(this,this.root+e),i=this.clone();return i.root=t.name,i},remove:function(e){var t=this.files[e=this.root+e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var i=this.filter(function(t,i){return i.name.slice(0,e.length)===e}),n=0;n<i.length;n++)delete this.files[i[n].name];return this},generate:function(e){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,i={};try{if((i=a.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=i.type.toLowerCase(),i.compression=i.compression.toUpperCase(),"binarystring"===i.type&&(i.type="string"),!i.type)throw new Error("No output type specified.");a.checkSupport(i.type),"darwin"!==i.platform&&"freebsd"!==i.platform&&"linux"!==i.platform&&"sunos"!==i.platform||(i.platform="UNIX"),"win32"===i.platform&&(i.platform="DOS"),t=u.generateWorker(this,i,i.comment||this.comment||"")}catch(e){(t=new s("error")).error(e)}return new c(t,i.type||"string",i.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,i){t.exports=e("stream")},{stream:void 0}],17:[function(e,t,i){"use strict";var n=e("./DataReader");function r(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(r,n),r.prototype.byteAt=function(e){return this.data[this.zero+e]},r.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===t&&this.data[o+1]===i&&this.data[o+2]===n&&this.data[o+3]===r)return o-this.zero;return-1},r.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),i=e.charCodeAt(1),n=e.charCodeAt(2),r=e.charCodeAt(3),o=this.readData(4);return t===o[0]&&i===o[1]&&n===o[2]&&r===o[3]},r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],18:[function(e,t,i){"use strict";var n=e("../utils");function r(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}r.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(e){},readInt:function(e){var t,i=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)i=(i<<8)+this.byteAt(t);return this.index+=e,i},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(e){},lastIndexOfSignature:function(e){},readAndCheckSignature:function(e){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=r},{"../utils":32}],19:[function(e,t,i){"use strict";var n=e("./Uint8ArrayReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,i){"use strict";var n=e("./DataReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},r.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},r.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},r.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./DataReader":18}],21:[function(e,t,i){"use strict";var n=e("./ArrayReader");function r(e){n.call(this,e)}e("../utils").inherits(r,n),r.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=r},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,i){"use strict";var n=e("../utils"),r=e("../support"),o=e("./ArrayReader"),a=e("./StringReader"),s=e("./NodeBufferReader"),c=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||r.uint8array?"nodebuffer"===t?new s(e):r.uint8array?new c(n.transformTo("uint8array",e)):new o(n.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,i){"use strict";i.LOCAL_FILE_HEADER="PK\x03\x04",i.CENTRAL_FILE_HEADER="PK\x01\x02",i.CENTRAL_DIRECTORY_END="PK\x05\x06",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x06\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK\x06\x06",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(e,t,i){"use strict";var n=e("./GenericWorker"),r=e("../utils");function o(e){n.call(this,"ConvertWorker to "+e),this.destType=e}r.inherits(o,n),o.prototype.processChunk=function(e){this.push({data:r.transformTo(this.destType,e.data),meta:e.meta})},t.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,i){"use strict";var n=e("./GenericWorker"),r=e("../crc32");function o(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(o,n),o.prototype.processChunk=function(e){this.streamInfo.crc32=r(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,i){"use strict";var n=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(o,r),o.prototype.processChunk=function(e){e&&(this.streamInfo[this.propName]=(this.streamInfo[this.propName]||0)+e.data.length),r.prototype.processChunk.call(this,e)},t.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,i){"use strict";var n=e("../utils"),r=e("./GenericWorker");function o(e){r.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(o,r),o.prototype.cleanUp=function(){r.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!r.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,i){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var i=0;i<this._listeners[e].length;i++)this._listeners[e][i].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,i){"use strict";var n=e("../utils"),r=e("./ConvertWorker"),o=e("./GenericWorker"),a=e("../base64"),s=e("../support"),c=e("../external"),l=null;if(s.nodestream)try{l=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function d(e,t,i){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=i,n.checkSupport(a),this._worker=e.pipe(new r(a)),e.lock()}catch(e){this._worker=new o("error"),this._worker.error(e)}}d.prototype={accumulate:function(e){return t=this,i=e,new c.Promise(function(e,r){var o=[],s=t._internalType,c=t._outputType,l=t._mimeType;t.on("data",function(e,t){o.push(e),i&&i(t)}).on("error",function(e){o=[],r(e)}).on("end",function(){try{var t=function(e,t,i){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),i);case"base64":return a.encode(t);default:return n.transformTo(e,t)}}(c,function(e,t){var i,n=0,r=null,o=0;for(i=0;i<t.length;i++)o+=t[i].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(r=new Uint8Array(o),i=0;i<t.length;i++)r.set(t[i],n),n+=t[i].length;return r;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(s,o),l);e(t)}catch(t){r(t)}o=[]}).resume()});var t,i},on:function(e,t){var i=this;return this._worker.on(e,"data"===e?function(e){t.call(i,e.data,e.meta)}:function(){n.delay(t,arguments,i)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new l(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=d},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,i){"use strict";if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,i.nodebuffer="undefined"!=typeof Buffer,i.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)i.blob=!1;else{var n=new ArrayBuffer(0);try{i.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);r.append(n),i.blob=0===r.getBlob("application/zip").size}catch(e){i.blob=!1}}}try{i.nodestream=!!e("readable-stream").Readable}catch(e){i.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,i){"use strict";for(var n=e("./utils"),r=e("./support"),o=e("./nodejsUtils"),a=e("./stream/GenericWorker"),s=new Array(256),c=0;c<256;c++)s[c]=252<=c?6:248<=c?5:240<=c?4:224<=c?3:192<=c?2:1;function l(){a.call(this,"utf-8 decode"),this.leftOver=null}function d(){a.call(this,"utf-8 encode")}s[254]=s[254]=1,i.utf8encode=function(e){return r.nodebuffer?o.newBufferFrom(e,"utf-8"):function(e){var t,i,n,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),c+=i<128?1:i<2048?2:i<65536?3:4;for(t=r.uint8array?new Uint8Array(c):new Array(c),o=a=0;a<c;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(n=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(n-56320),o++),i<128?t[a++]=i:(i<2048?t[a++]=192|i>>>6:(i<65536?t[a++]=224|i>>>12:(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63),t[a++]=128|i>>>6&63),t[a++]=128|63&i);return t}(e)},i.utf8decode=function(e){return r.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,i,r,o,a=e.length,c=new Array(2*a);for(t=i=0;t<a;)if((r=e[t++])<128)c[i++]=r;else if(4<(o=s[r]))c[i++]=65533,t+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&t<a;)r=r<<6|63&e[t++],o--;1<o?c[i++]=65533:r<65536?c[i++]=r:(c[i++]=55296|(r-=65536)>>10&1023,c[i++]=56320|1023&r)}return c.length!==i&&(c.subarray?c=c.subarray(0,i):c.length=i),n.applyFromCharCode(c)}(e=n.transformTo(r.uint8array?"uint8array":"array",e))},n.inherits(l,a),l.prototype.processChunk=function(e){var t=n.transformTo(r.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(r.uint8array){var o=t;(t=new Uint8Array(o.length+this.leftOver.length)).set(this.leftOver,0),t.set(o,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+s[e[i]]>t?i:t}(t),c=t;a!==t.length&&(r.uint8array?(c=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(c=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:i.utf8decode(c),meta:e.meta})},l.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=l,n.inherits(d,a),d.prototype.processChunk=function(e){this.push({data:i.utf8encode(e.data),meta:e.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,i){"use strict";var n=e("./support"),r=e("./base64"),o=e("./nodejsUtils"),a=e("set-immediate-shim"),s=e("./external");function c(e){return e}function l(e,t){for(var i=0;i<e.length;++i)t[i]=255&e.charCodeAt(i);return t}i.newBlob=function(t,n){i.checkSupport("blob");try{return new Blob([t],{type:n})}catch(e){try{var r=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return r.append(t),r.getBlob(n)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var d={stringifyByChunk:function(e,t,i){var n=[],r=0,o=e.length;if(o<=i)return String.fromCharCode.apply(null,e);for(;r<o;)n.push(String.fromCharCode.apply(null,"array"===t||"nodebuffer"===t?e.slice(r,Math.min(r+i,o)):e.subarray(r,Math.min(r+i,o)))),r+=i;return n.join("")},stringifyByChar:function(e){for(var t="",i=0;i<e.length;i++)t+=String.fromCharCode(e[i]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,o.allocBuffer(1)).length}catch(e){return!1}}()}};function b(e){var t=65536,n=i.getTypeOf(e),r=!0;if("uint8array"===n?r=d.applyCanBeUsed.uint8array:"nodebuffer"===n&&(r=d.applyCanBeUsed.nodebuffer),r)for(;1<t;)try{return d.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return d.stringifyByChar(e)}function u(e,t){for(var i=0;i<e.length;i++)t[i]=e[i];return t}i.applyFromCharCode=b;var f={};f.string={string:c,array:function(e){return l(e,new Array(e.length))},arraybuffer:function(e){return f.string.uint8array(e).buffer},uint8array:function(e){return l(e,new Uint8Array(e.length))},nodebuffer:function(e){return l(e,o.allocBuffer(e.length))}},f.array={string:b,array:c,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(e)}},f.arraybuffer={string:function(e){return b(new Uint8Array(e))},array:function(e){return u(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:c,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return o.newBufferFrom(new Uint8Array(e))}},f.uint8array={string:b,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:c,nodebuffer:function(e){return o.newBufferFrom(e)}},f.nodebuffer={string:b,array:function(e){return u(e,new Array(e.length))},arraybuffer:function(e){return f.nodebuffer.uint8array(e).buffer},uint8array:function(e){return u(e,new Uint8Array(e.length))},nodebuffer:c},i.transformTo=function(e,t){if(t=t||"",!e)return t;i.checkSupport(e);var n=i.getTypeOf(t);return f[n][e](t)},i.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&o.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(e){var t,i,n="";for(i=0;i<(e||"").length;i++)n+="\\x"+((t=e.charCodeAt(i))<16?"0":"")+t.toString(16).toUpperCase();return n},i.delay=function(e,t,i){a(function(){e.apply(i||null,t||[])})},i.inherits=function(e,t){function i(){}i.prototype=t.prototype,e.prototype=new i},i.extend=function(){var e,t,i={};for(e=0;e<arguments.length;e++)for(t in arguments[e])arguments[e].hasOwnProperty(t)&&void 0===i[t]&&(i[t]=arguments[e][t]);return i},i.prepareContent=function(e,t,o,a,c){return s.Promise.resolve(t).then(function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new s.Promise(function(t,i){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){i(e.target.error)},n.readAsArrayBuffer(e)}):e}).then(function(t){var d,b=i.getTypeOf(t);return b?("arraybuffer"===b?t=i.transformTo("uint8array",t):"string"===b&&(c?t=r.decode(t):o&&!0!==a&&(t=l(d=t,n.uint8array?new Uint8Array(d.length):new Array(d.length)))),t):s.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,"set-immediate-shim":54}],33:[function(e,t,i){"use strict";var n=e("./reader/readerFor"),r=e("./utils"),o=e("./signature"),a=e("./zipEntry"),s=(e("./utf8"),e("./support"));function c(e){this.files=[],this.loadOptions=e}c.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+r.pretty(t)+", expected "+r.pretty(e)+")")}},isSignature:function(e,t){var i=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(i),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=r.transformTo(s.uint8array?"uint8array":"array",e);this.zipComment=this.loadOptions.decodeFileName(t)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,i,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),i=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:i}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)this.reader.setIndex((t=this.files[e]).localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(e<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(e);var t=e;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===r.MAX_VALUE_16BITS||this.diskWithCentralDirStart===r.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===r.MAX_VALUE_16BITS||this.centralDirRecords===r.MAX_VALUE_16BITS||this.centralDirSize===r.MAX_VALUE_32BITS||this.centralDirOffset===r.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var i=this.centralDirOffset+this.centralDirSize;this.zip64&&(i+=20,i+=12+this.zip64EndOfCentralSize);var n=t-i;if(0<n)this.isSignature(t,o.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=c},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(e,t,i){"use strict";var n=e("./reader/readerFor"),r=e("./utils"),o=e("./compressedObject"),a=e("./crc32"),s=e("./utf8"),c=e("./compressions"),l=e("./support");function d(e,t){this.options=e,this.loadOptions=t}d.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,i;if(e.skip(22),this.fileNameLength=e.readInt(2),i=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(i),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in c)if(c.hasOwnProperty(t)&&c[t].magic===e)return c[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+r.pretty(this.compressionMethod)+" unknown (inner file : "+r.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(e){if(this.extraFields[1]){var t=n(this.extraFields[1].value);this.uncompressedSize===r.MAX_VALUE_32BITS&&(this.uncompressedSize=t.readInt(8)),this.compressedSize===r.MAX_VALUE_32BITS&&(this.compressedSize=t.readInt(8)),this.localHeaderOffset===r.MAX_VALUE_32BITS&&(this.localHeaderOffset=t.readInt(8)),this.diskNumberStart===r.MAX_VALUE_32BITS&&(this.diskNumberStart=t.readInt(4))}},readExtraFields:function(e){var t,i,n,r=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<r;)t=e.readInt(2),i=e.readInt(2),n=e.readData(i),this.extraFields[t]={id:t,length:i,value:n};e.setIndex(r)},handleUTF8:function(){var e=l.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=s.utf8decode(this.fileName),this.fileCommentStr=s.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var i=r.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(i)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var o=r.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(o)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileName)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)||a(this.fileComment)!==t.readInt(4)?null:s.utf8decode(t.readData(e.length-5))}return null}},t.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,i){"use strict";function n(e,t,i){this.name=e,this.dir=i.dir,this.date=i.date,this.comment=i.comment,this.unixPermissions=i.unixPermissions,this.dosPermissions=i.dosPermissions,this._data=t,this._dataBinary=i.binary,this.options={compression:i.compression,compressionOptions:i.compressionOptions}}var r=e("./stream/StreamHelper"),o=e("./stream/DataWorker"),a=e("./utf8"),s=e("./compressedObject"),c=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,i="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(i=e.toLowerCase())||"text"===i;"binarystring"!==i&&"text"!==i||(i="string"),t=this._decompressWorker();var o=!this._dataBinary;o&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!o&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new c("error")).error(e)}return new r(t,i,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof s&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var i=this._decompressWorker();return this._dataBinary||(i=i.pipe(new a.Utf8EncodeWorker)),s.createWorkerFrom(i,e,t)},_decompressWorker:function(){return this._data instanceof s?this._data.getContentWorker():this._data instanceof c?this._data:new o(this._data)}};for(var l=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},b=0;b<l.length;b++)n.prototype[l[b]]=d;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,i){(function(e){"use strict";var i,n,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(d),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),i=function(){s.data=o=++o%2}}else if(e.setImmediate||void 0===e.MessageChannel)i="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){d(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(d,0)};else{var c=new e.MessageChannel;c.port1.onmessage=d,i=function(){c.port2.postMessage(0)}}var l=[];function d(){var e,t;n=!0;for(var i=l.length;i;){for(t=l,l=[],e=-1;++e<i;)t[e]();i=l.length}n=!1}t.exports=function(e){1!==l.push(e)||n||i()}}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,i){"use strict";var n=e("immediate");function r(){}var o={},a=["REJECTED"],s=["FULFILLED"],c=["PENDING"];function l(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=c,this.queue=[],this.outcome=void 0,e!==r&&f(this,e)}function d(e,t,i){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof i&&(this.onRejected=i,this.callRejected=this.otherCallRejected)}function b(e,t,i){n(function(){var n;try{n=t(i)}catch(n){return o.reject(e,n)}n===e?o.reject(e,new TypeError("Cannot resolve promise with itself")):o.resolve(e,n)})}function u(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function f(e,t){var i=!1;function n(t){i||(i=!0,o.reject(e,t))}function r(t){i||(i=!0,o.resolve(e,t))}var a=h(function(){t(r,n)});"error"===a.status&&n(a.value)}function h(e,t){var i={};try{i.value=e(t),i.status="success"}catch(e){i.status="error",i.value=e}return i}(t.exports=l).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(i){return t.resolve(e()).then(function(){return i})},function(i){return t.resolve(e()).then(function(){throw i})})},l.prototype.catch=function(e){return this.then(null,e)},l.prototype.then=function(e,t){if("function"!=typeof e&&this.state===s||"function"!=typeof t&&this.state===a)return this;var i=new this.constructor(r);return this.state!==c?b(i,this.state===s?e:t,this.outcome):this.queue.push(new d(i,e,t)),i},d.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},d.prototype.otherCallFulfilled=function(e){b(this.promise,this.onFulfilled,e)},d.prototype.callRejected=function(e){o.reject(this.promise,e)},d.prototype.otherCallRejected=function(e){b(this.promise,this.onRejected,e)},o.resolve=function(e,t){var i=h(u,t);if("error"===i.status)return o.reject(e,i.value);var n=i.value;if(n)f(e,n);else{e.state=s,e.outcome=t;for(var r=-1,a=e.queue.length;++r<a;)e.queue[r].callFulfilled(t)}return e},o.reject=function(e,t){e.state=a,e.outcome=t;for(var i=-1,n=e.queue.length;++i<n;)e.queue[i].callRejected(t);return e},l.resolve=function(e){return e instanceof this?e:o.resolve(new this(r),e)},l.reject=function(e){var t=new this(r);return o.reject(t,e)},l.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var i=e.length,n=!1;if(!i)return this.resolve([]);for(var a=new Array(i),s=0,c=-1,l=new this(r);++c<i;)d(e[c],c);return l;function d(e,r){t.resolve(e).then(function(e){a[r]=e,++s!==i||n||(n=!0,o.resolve(l,a))},function(e){n||(n=!0,o.reject(l,e))})}},l.race=function(e){if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var t=e.length,i=!1;if(!t)return this.resolve([]);for(var n=-1,a=new this(r);++n<t;)this.resolve(e[n]).then(function(e){i||(i=!0,o.resolve(a,e))},function(e){i||(i=!0,o.reject(a,e))});return a}},{immediate:36}],38:[function(e,t,i){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,i){"use strict";var n=e("./zlib/deflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/messages"),s=e("./zlib/zstream"),c=Object.prototype.toString;function l(e){if(!(this instanceof l))return new l(e);this.options=r.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new s,this.strm.avail_out=0;var i=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw new Error(a[i]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var d;if(d="string"==typeof t.dictionary?o.string2buf(t.dictionary):"[object ArrayBuffer]"===c.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,0!==(i=n.deflateSetDictionary(this.strm,d)))throw new Error(a[i]);this._dict_set=!0}}function d(e,t){var i=new l(t);if(i.push(e,!0),i.err)throw i.msg||a[i.err];return i.result}l.prototype.push=function(e,t){var i,a,s=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,s.input="string"==typeof e?o.string2buf(e):"[object ArrayBuffer]"===c.call(e)?new Uint8Array(e):e,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new r.Buf8(l),s.next_out=0,s.avail_out=l),1!==(i=n.deflate(s,a))&&0!==i)return this.onEnd(i),!(this.ended=!0);0!==s.avail_out&&(0!==s.avail_in||4!==a&&2!==a)||this.onData("string"===this.options.to?o.buf2binstring(r.shrinkBuf(s.output,s.next_out)):r.shrinkBuf(s.output,s.next_out))}while((0<s.avail_in||0===s.avail_out)&&1!==i);return 4===a?(i=n.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==a||(this.onEnd(0),!(s.avail_out=0))},l.prototype.onData=function(e){this.chunks.push(e)},l.prototype.onEnd=function(e){0===e&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Deflate=l,i.deflate=d,i.deflateRaw=function(e,t){return(t=t||{}).raw=!0,d(e,t)},i.gzip=function(e,t){return(t=t||{}).gzip=!0,d(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,i){"use strict";var n=e("./zlib/inflate"),r=e("./utils/common"),o=e("./utils/strings"),a=e("./zlib/constants"),s=e("./zlib/messages"),c=e("./zlib/zstream"),l=e("./zlib/gzheader"),d=Object.prototype.toString;function b(e){if(!(this instanceof b))return new b(e);this.options=r.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new c,this.strm.avail_out=0;var i=n.inflateInit2(this.strm,t.windowBits);if(i!==a.Z_OK)throw new Error(s[i]);this.header=new l,n.inflateGetHeader(this.strm,this.header)}function u(e,t){var i=new b(t);if(i.push(e,!0),i.err)throw i.msg||s[i.err];return i.result}b.prototype.push=function(e,t){var i,s,c,l,b,u,f=this.strm,h=this.options.chunkSize,p=this.options.dictionary,m=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,f.input="string"==typeof e?o.binstring2buf(e):"[object ArrayBuffer]"===d.call(e)?new Uint8Array(e):e,f.next_in=0,f.avail_in=f.input.length;do{if(0===f.avail_out&&(f.output=new r.Buf8(h),f.next_out=0,f.avail_out=h),(i=n.inflate(f,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&p&&(u="string"==typeof p?o.string2buf(p):"[object ArrayBuffer]"===d.call(p)?new Uint8Array(p):p,i=n.inflateSetDictionary(this.strm,u)),i===a.Z_BUF_ERROR&&!0===m&&(i=a.Z_OK,m=!1),i!==a.Z_STREAM_END&&i!==a.Z_OK)return this.onEnd(i),!(this.ended=!0);f.next_out&&(0!==f.avail_out&&i!==a.Z_STREAM_END&&(0!==f.avail_in||s!==a.Z_FINISH&&s!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(c=o.utf8border(f.output,f.next_out),l=f.next_out-c,b=o.buf2string(f.output,c),f.next_out=l,f.avail_out=h-l,l&&r.arraySet(f.output,f.output,c,l,0),this.onData(b)):this.onData(r.shrinkBuf(f.output,f.next_out)))),0===f.avail_in&&0===f.avail_out&&(m=!0)}while((0<f.avail_in||0===f.avail_out)&&i!==a.Z_STREAM_END);return i===a.Z_STREAM_END&&(s=a.Z_FINISH),s===a.Z_FINISH?(i=n.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===a.Z_OK):s!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(f.avail_out=0))},b.prototype.onData=function(e){this.chunks.push(e)},b.prototype.onEnd=function(e){e===a.Z_OK&&(this.result="string"===this.options.to?this.chunks.join(""):r.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},i.Inflate=b,i.inflate=u,i.inflateRaw=function(e,t){return(t=t||{}).raw=!0,u(e,t)},i.ungzip=u},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,i){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;i.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var i=t.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var n in i)i.hasOwnProperty(n)&&(e[n]=i[n])}}return e},i.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var r={arraySet:function(e,t,i,n,r){if(t.subarray&&e.subarray)e.set(t.subarray(i,i+n),r);else for(var o=0;o<n;o++)e[r+o]=t[i+o]},flattenChunks:function(e){var t,i,n,r,o,a;for(t=n=0,i=e.length;t<i;t++)n+=e[t].length;for(a=new Uint8Array(n),t=r=0,i=e.length;t<i;t++)a.set(o=e[t],r),r+=o.length;return a}},o={arraySet:function(e,t,i,n,r){for(var o=0;o<n;o++)e[r+o]=t[i+o]},flattenChunks:function(e){return[].concat.apply([],e)}};i.setTyped=function(e){e?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,r)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(n)},{}],42:[function(e,t,i){"use strict";var n=e("./common"),r=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch(e){r=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){o=!1}for(var a=new n.Buf8(256),s=0;s<256;s++)a[s]=252<=s?6:248<=s?5:240<=s?4:224<=s?3:192<=s?2:1;function c(e,t){if(t<65537&&(e.subarray&&o||!e.subarray&&r))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var i="",a=0;a<t;a++)i+=String.fromCharCode(e[a]);return i}a[254]=a[254]=1,i.string2buf=function(e){var t,i,r,o,a,s=e.length,c=0;for(o=0;o<s;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),c+=i<128?1:i<2048?2:i<65536?3:4;for(t=new n.Buf8(c),o=a=0;a<c;o++)55296==(64512&(i=e.charCodeAt(o)))&&o+1<s&&56320==(64512&(r=e.charCodeAt(o+1)))&&(i=65536+(i-55296<<10)+(r-56320),o++),i<128?t[a++]=i:(i<2048?t[a++]=192|i>>>6:(i<65536?t[a++]=224|i>>>12:(t[a++]=240|i>>>18,t[a++]=128|i>>>12&63),t[a++]=128|i>>>6&63),t[a++]=128|63&i);return t},i.buf2binstring=function(e){return c(e,e.length)},i.binstring2buf=function(e){for(var t=new n.Buf8(e.length),i=0,r=t.length;i<r;i++)t[i]=e.charCodeAt(i);return t},i.buf2string=function(e,t){var i,n,r,o,s=t||e.length,l=new Array(2*s);for(i=n=0;i<s;)if((r=e[i++])<128)l[n++]=r;else if(4<(o=a[r]))l[n++]=65533,i+=o-1;else{for(r&=2===o?31:3===o?15:7;1<o&&i<s;)r=r<<6|63&e[i++],o--;1<o?l[n++]=65533:r<65536?l[n++]=r:(l[n++]=55296|(r-=65536)>>10&1023,l[n++]=56320|1023&r)}return c(l,n)},i.utf8border=function(e,t){var i;for((t=t||e.length)>e.length&&(t=e.length),i=t-1;0<=i&&128==(192&e[i]);)i--;return i<0||0===i?t:i+a[e[i]]>t?i:t}},{"./common":41}],43:[function(e,t,i){"use strict";t.exports=function(e,t,i,n){for(var r=65535&e|0,o=e>>>16&65535|0,a=0;0!==i;){for(i-=a=2e3<i?2e3:i;o=o+(r=r+t[n++]|0)|0,--a;);r%=65521,o%=65521}return r|o<<16|0}},{}],44:[function(e,t,i){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,i){"use strict";var n=function(){for(var e,t=[],i=0;i<256;i++){e=i;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[i]=e}return t}();t.exports=function(e,t,i,r){var o=n,a=r+i;e^=-1;for(var s=r;s<a;s++)e=e>>>8^o[255&(e^t[s])];return-1^e}},{}],46:[function(e,t,i){"use strict";var n,r=e("../utils/common"),o=e("./trees"),a=e("./adler32"),s=e("./crc32"),c=e("./messages"),l=-2,d=258,b=262,u=113;function f(e,t){return e.msg=c[t],t}function h(e){return(e<<1)-(4<e?9:0)}function p(e){for(var t=e.length;0<=--t;)e[t]=0}function m(e){var t=e.state,i=t.pending;i>e.avail_out&&(i=e.avail_out),0!==i&&(r.arraySet(e.output,t.pending_buf,t.pending_out,i,e.next_out),e.next_out+=i,t.pending_out+=i,e.total_out+=i,e.avail_out-=i,t.pending-=i,0===t.pending&&(t.pending_out=0))}function g(e,t){o._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,m(e.strm)}function v(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function y(e,t){var i,n,r=e.max_chain_length,o=e.strstart,a=e.prev_length,s=e.nice_match,c=e.strstart>e.w_size-b?e.strstart-(e.w_size-b):0,l=e.window,u=e.w_mask,f=e.prev,h=e.strstart+d,p=l[o+a-1],m=l[o+a];e.prev_length>=e.good_match&&(r>>=2),s>e.lookahead&&(s=e.lookahead);do{if(l[(i=t)+a]===m&&l[i+a-1]===p&&l[i]===l[o]&&l[++i]===l[o+1]){o+=2,i++;do{}while(l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&l[++o]===l[++i]&&o<h);if(n=d-(h-o),o=h-d,a<n){if(e.match_start=t,s<=(a=n))break;p=l[o+a-1],m=l[o+a]}}}while((t=f[t&u])>c&&0!=--r);return a<=e.lookahead?a:e.lookahead}function I(e){var t,i,n,o,c,l,d,u,f,h,p=e.w_size;do{if(o=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-b)){for(r.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=i=e.hash_size;n=e.head[--t],e.head[t]=p<=n?n-p:0,--i;);for(t=i=p;n=e.prev[--t],e.prev[t]=p<=n?n-p:0,--i;);o+=p}if(0===e.strm.avail_in)break;if(d=e.window,u=e.strstart+e.lookahead,h=void 0,(f=o)<(h=(l=e.strm).avail_in)&&(h=f),i=0===h?0:(l.avail_in-=h,r.arraySet(d,l.input,l.next_in,h,u),1===l.state.wrap?l.adler=a(l.adler,d,h,u):2===l.state.wrap&&(l.adler=s(l.adler,d,h,u)),l.next_in+=h,l.total_in+=h,h),e.lookahead+=i,e.lookahead+e.insert>=3)for(e.ins_h=e.window[c=e.strstart-e.insert],e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[c+3-1])&e.hash_mask,e.prev[c&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=c,c++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<b&&0!==e.strm.avail_in)}function F(e,t){for(var i,n;;){if(e.lookahead<b){if(I(e),e.lookahead<b&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==i&&e.strstart-i<=e.w_size-b&&(e.match_length=y(e,i)),e.match_length>=3)if(n=o._tr_tally(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function Q(e,t){for(var i,n,r;;){if(e.lookahead<b){if(I(e),e.lookahead<b&&0===t)return 1;if(0===e.lookahead)break}if(i=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==i&&e.prev_length<e.max_lazy_match&&e.strstart-i<=e.w_size-b&&(e.match_length=y(e,i),e.match_length<=5&&(1===e.strategy||3===e.match_length&&4096<e.strstart-e.match_start)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){for(r=e.strstart+e.lookahead-3,n=o._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=r&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,i=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(g(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if((n=o._tr_tally(e,0,e.window[e.strstart-1]))&&g(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=o._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}function C(e,t,i,n,r){this.good_length=e,this.max_lazy=t,this.nice_length=i,this.max_chain=n,this.func=r}function D(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new r.Buf16(1146),this.dyn_dtree=new r.Buf16(122),this.bl_tree=new r.Buf16(78),p(this.dyn_ltree),p(this.dyn_dtree),p(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new r.Buf16(16),this.heap=new r.Buf16(573),p(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new r.Buf16(573),p(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function k(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:u,e.adler=2===t.wrap?0:1,t.last_flush=0,o._tr_init(t),0):f(e,l)}function z(e){var t,i=k(e);return 0===i&&((t=e.state).window_size=2*t.w_size,p(t.head),t.max_lazy_match=n[t.level].max_lazy,t.good_match=n[t.level].good_length,t.nice_match=n[t.level].nice_length,t.max_chain_length=n[t.level].max_chain,t.strstart=0,t.block_start=0,t.lookahead=0,t.insert=0,t.match_length=t.prev_length=2,t.match_available=0,t.ins_h=0),i}function S(e,t,i,n,o,a){if(!e)return l;var s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):15<n&&(s=2,n-=16),o<1||9<o||8!==i||n<8||15<n||t<0||9<t||a<0||4<a)return f(e,l);8===n&&(n=9);var c=new D;return(e.state=c).strm=e,c.wrap=s,c.gzhead=null,c.w_bits=n,c.w_size=1<<c.w_bits,c.w_mask=c.w_size-1,c.hash_bits=o+7,c.hash_size=1<<c.hash_bits,c.hash_mask=c.hash_size-1,c.hash_shift=~~((c.hash_bits+3-1)/3),c.window=new r.Buf8(2*c.w_size),c.head=new r.Buf16(c.hash_size),c.prev=new r.Buf16(c.w_size),c.lit_bufsize=1<<o+6,c.pending_buf_size=4*c.lit_bufsize,c.pending_buf=new r.Buf8(c.pending_buf_size),c.d_buf=1*c.lit_bufsize,c.l_buf=3*c.lit_bufsize,c.level=t,c.strategy=a,c.method=i,z(e)}n=[new C(0,0,0,0,function(e,t){var i=65535;for(i>e.pending_buf_size-5&&(i=e.pending_buf_size-5);;){if(e.lookahead<=1){if(I(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+i;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,g(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-b&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&g(e,!1),1)}),new C(4,4,8,4,F),new C(4,5,16,8,F),new C(4,6,32,32,F),new C(4,4,16,16,Q),new C(8,16,32,32,Q),new C(8,16,128,128,Q),new C(8,32,128,256,Q),new C(32,128,258,1024,Q),new C(32,258,258,4096,Q)],i.deflateInit=function(e,t){return S(e,t,8,15,8,0)},i.deflateInit2=S,i.deflateReset=z,i.deflateResetKeep=k,i.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?l:(e.state.gzhead=t,0):l},i.deflate=function(e,t){var i,r,a,c;if(!e||!e.state||5<t||t<0)return e?f(e,l):l;if(r=e.state,!e.output||!e.input&&0!==e.avail_in||666===r.status&&4!==t)return f(e,0===e.avail_out?-5:l);if(r.strm=e,i=r.last_flush,r.last_flush=t,42===r.status)if(2===r.wrap)e.adler=0,v(r,31),v(r,139),v(r,8),r.gzhead?(v(r,(r.gzhead.text?1:0)+(r.gzhead.hcrc?2:0)+(r.gzhead.extra?4:0)+(r.gzhead.name?8:0)+(r.gzhead.comment?16:0)),v(r,255&r.gzhead.time),v(r,r.gzhead.time>>8&255),v(r,r.gzhead.time>>16&255),v(r,r.gzhead.time>>24&255),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,255&r.gzhead.os),r.gzhead.extra&&r.gzhead.extra.length&&(v(r,255&r.gzhead.extra.length),v(r,r.gzhead.extra.length>>8&255)),r.gzhead.hcrc&&(e.adler=s(e.adler,r.pending_buf,r.pending,0)),r.gzindex=0,r.status=69):(v(r,0),v(r,0),v(r,0),v(r,0),v(r,0),v(r,9===r.level?2:2<=r.strategy||r.level<2?4:0),v(r,3),r.status=u);else{var b=8+(r.w_bits-8<<4)<<8;b|=(2<=r.strategy||r.level<2?0:r.level<6?1:6===r.level?2:3)<<6,0!==r.strstart&&(b|=32),b+=31-b%31,r.status=u,P(r,b),0!==r.strstart&&(P(r,e.adler>>>16),P(r,65535&e.adler)),e.adler=1}if(69===r.status)if(r.gzhead.extra){for(a=r.pending;r.gzindex<(65535&r.gzhead.extra.length)&&(r.pending!==r.pending_buf_size||(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),m(e),a=r.pending,r.pending!==r.pending_buf_size));)v(r,255&r.gzhead.extra[r.gzindex]),r.gzindex++;r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),r.gzindex===r.gzhead.extra.length&&(r.gzindex=0,r.status=73)}else r.status=73;if(73===r.status)if(r.gzhead.name){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),m(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.name.length?255&r.gzhead.name.charCodeAt(r.gzindex++):0,v(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.gzindex=0,r.status=91)}else r.status=91;if(91===r.status)if(r.gzhead.comment){a=r.pending;do{if(r.pending===r.pending_buf_size&&(r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),m(e),a=r.pending,r.pending===r.pending_buf_size)){c=1;break}c=r.gzindex<r.gzhead.comment.length?255&r.gzhead.comment.charCodeAt(r.gzindex++):0,v(r,c)}while(0!==c);r.gzhead.hcrc&&r.pending>a&&(e.adler=s(e.adler,r.pending_buf,r.pending-a,a)),0===c&&(r.status=103)}else r.status=103;if(103===r.status&&(r.gzhead.hcrc?(r.pending+2>r.pending_buf_size&&m(e),r.pending+2<=r.pending_buf_size&&(v(r,255&e.adler),v(r,e.adler>>8&255),e.adler=0,r.status=u)):r.status=u),0!==r.pending){if(m(e),0===e.avail_out)return r.last_flush=-1,0}else if(0===e.avail_in&&h(t)<=h(i)&&4!==t)return f(e,-5);if(666===r.status&&0!==e.avail_in)return f(e,-5);if(0!==e.avail_in||0!==r.lookahead||0!==t&&666!==r.status){var y=2===r.strategy?function(e,t){for(var i;;){if(0===e.lookahead&&(I(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,i&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(r,t):3===r.strategy?function(e,t){for(var i,n,r,a,s=e.window;;){if(e.lookahead<=d){if(I(e),e.lookahead<=d&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&0<e.strstart&&(n=s[r=e.strstart-1])===s[++r]&&n===s[++r]&&n===s[++r]){a=e.strstart+d;do{}while(n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&n===s[++r]&&r<a);e.match_length=d-(a-r),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(i=o._tr_tally(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(i=o._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),i&&(g(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(g(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(g(e,!1),0===e.strm.avail_out)?1:2}(r,t):n[r.level].func(r,t);if(3!==y&&4!==y||(r.status=666),1===y||3===y)return 0===e.avail_out&&(r.last_flush=-1),0;if(2===y&&(1===t?o._tr_align(r):5!==t&&(o._tr_stored_block(r,0,0,!1),3===t&&(p(r.head),0===r.lookahead&&(r.strstart=0,r.block_start=0,r.insert=0))),m(e),0===e.avail_out))return r.last_flush=-1,0}return 4!==t?0:r.wrap<=0?1:(2===r.wrap?(v(r,255&e.adler),v(r,e.adler>>8&255),v(r,e.adler>>16&255),v(r,e.adler>>24&255),v(r,255&e.total_in),v(r,e.total_in>>8&255),v(r,e.total_in>>16&255),v(r,e.total_in>>24&255)):(P(r,e.adler>>>16),P(r,65535&e.adler)),m(e),0<r.wrap&&(r.wrap=-r.wrap),0!==r.pending?0:1)},i.deflateEnd=function(e){var t;return e&&e.state?42!==(t=e.state.status)&&69!==t&&73!==t&&91!==t&&103!==t&&t!==u&&666!==t?f(e,l):(e.state=null,t===u?f(e,-3):0):l},i.deflateSetDictionary=function(e,t){var i,n,o,s,c,d,b,u,f=t.length;if(!e||!e.state)return l;if(2===(s=(i=e.state).wrap)||1===s&&42!==i.status||i.lookahead)return l;for(1===s&&(e.adler=a(e.adler,t,f,0)),i.wrap=0,f>=i.w_size&&(0===s&&(p(i.head),i.strstart=0,i.block_start=0,i.insert=0),u=new r.Buf8(i.w_size),r.arraySet(u,t,f-i.w_size,i.w_size,0),t=u,f=i.w_size),c=e.avail_in,d=e.next_in,b=e.input,e.avail_in=f,e.next_in=0,e.input=t,I(i);i.lookahead>=3;){for(n=i.strstart,o=i.lookahead-2;i.ins_h=(i.ins_h<<i.hash_shift^i.window[n+3-1])&i.hash_mask,i.prev[n&i.w_mask]=i.head[i.ins_h],i.head[i.ins_h]=n,n++,--o;);i.strstart=n,i.lookahead=2,I(i)}return i.strstart+=i.lookahead,i.block_start=i.strstart,i.insert=i.lookahead,i.lookahead=0,i.match_length=i.prev_length=2,i.match_available=0,e.next_in=d,e.input=b,e.avail_in=c,i.wrap=s,0},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,i){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,i){"use strict";t.exports=function(e,t){var i,n,r,o,a,s,c,l,d,b,u,f,h,p,m,g,v,P,y,I,F,Q,C,D,k;D=e.input,r=(n=e.next_in)+(e.avail_in-5),k=e.output,a=(o=e.next_out)-(t-e.avail_out),s=o+(e.avail_out-257),c=(i=e.state).dmax,l=i.wsize,d=i.whave,b=i.wnext,u=i.window,f=i.hold,h=i.bits,p=i.lencode,m=i.distcode,g=(1<<i.lenbits)-1,v=(1<<i.distbits)-1;e:do{h<15&&(f+=D[n++]<<h,f+=D[n++]<<(h+=8),h+=8),P=p[f&g];t:for(;;){if(f>>>=y=P>>>24,h-=y,0==(y=P>>>16&255))k[o++]=65535&P;else{if(!(16&y)){if(0==(64&y)){P=p[(65535&P)+(f&(1<<y)-1)];continue t}if(32&y){i.mode=12;break e}e.msg="invalid literal/length code",i.mode=30;break e}I=65535&P,(y&=15)&&(h<y&&(f+=D[n++]<<h,h+=8),I+=f&(1<<y)-1,f>>>=y,h-=y),h<15&&(f+=D[n++]<<h,f+=D[n++]<<(h+=8),h+=8),P=m[f&v];i:for(;;){if(f>>>=y=P>>>24,h-=y,!(16&(y=P>>>16&255))){if(0==(64&y)){P=m[(65535&P)+(f&(1<<y)-1)];continue i}e.msg="invalid distance code",i.mode=30;break e}if(F=65535&P,h<(y&=15)&&(f+=D[n++]<<h,(h+=8)<y&&(f+=D[n++]<<h,h+=8)),c<(F+=f&(1<<y)-1)){e.msg="invalid distance too far back",i.mode=30;break e}if(f>>>=y,h-=y,(y=o-a)<F){if(d<(y=F-y)&&i.sane){e.msg="invalid distance too far back",i.mode=30;break e}if(C=u,(Q=0)===b){if(Q+=l-y,y<I){for(I-=y;k[o++]=u[Q++],--y;);Q=o-F,C=k}}else if(b<y){if(Q+=l+b-y,(y-=b)<I){for(I-=y;k[o++]=u[Q++],--y;);if(Q=0,b<I){for(I-=y=b;k[o++]=u[Q++],--y;);Q=o-F,C=k}}}else if(Q+=b-y,y<I){for(I-=y;k[o++]=u[Q++],--y;);Q=o-F,C=k}for(;2<I;)k[o++]=C[Q++],k[o++]=C[Q++],k[o++]=C[Q++],I-=3;I&&(k[o++]=C[Q++],1<I&&(k[o++]=C[Q++]))}else{for(Q=o-F;k[o++]=k[Q++],k[o++]=k[Q++],k[o++]=k[Q++],2<(I-=3););I&&(k[o++]=k[Q++],1<I&&(k[o++]=k[Q++]))}break}}break}}while(n<r&&o<s);n-=I=h>>3,f&=(1<<(h-=I<<3))-1,e.next_in=n,e.next_out=o,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=o<s?s-o+257:257-(o-s),i.hold=f,i.bits=h}},{}],49:[function(e,t,i){"use strict";var n=e("../utils/common"),r=e("./adler32"),o=e("./crc32"),a=e("./inffast"),s=e("./inftrees"),c=-2;function l(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function d(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function b(e){var t;return e&&e.state?(e.total_in=e.total_out=(t=e.state).total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(852),t.distcode=t.distdyn=new n.Buf32(592),t.sane=1,t.back=-1,0):c}function u(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,b(e)):c}function f(e,t){var i,n;return e&&e.state?(n=e.state,t<0?(i=0,t=-t):(i=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?c:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=i,n.wbits=t,u(e))):c}function h(e,t){var i,n;return e?(n=new d,(e.state=n).window=null,0!==(i=f(e,t))&&(e.state=null),i):c}var p,m,g=!0;function v(e){if(g){var t;for(p=new n.Buf32(512),m=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(s(1,e.lens,0,288,p,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;s(2,e.lens,0,32,m,0,e.work,{bits:5}),g=!1}e.lencode=p,e.lenbits=9,e.distcode=m,e.distbits=5}function P(e,t,i,r){var o,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),r>=a.wsize?(n.arraySet(a.window,t,i-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(r<(o=a.wsize-a.wnext)&&(o=r),n.arraySet(a.window,t,i-r,o,a.wnext),(r-=o)?(n.arraySet(a.window,t,i-r,r,0),a.wnext=r,a.whave=a.wsize):(a.wnext+=o,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=o))),0}i.inflateReset=u,i.inflateReset2=f,i.inflateResetKeep=b,i.inflateInit=function(e){return h(e,15)},i.inflateInit2=h,i.inflate=function(e,t){var i,d,b,u,f,h,p,m,g,y,I,F,Q,C,D,k,z,S,w,x,O,_,E,A,N=0,T=new n.Buf8(4),L=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return c;12===(i=e.state).mode&&(i.mode=13),f=e.next_out,b=e.output,u=e.next_in,d=e.input,m=i.hold,g=i.bits,y=h=e.avail_in,I=p=e.avail_out,_=0;e:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;g<16;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if(2&i.wrap&&35615===m){T[i.check=0]=255&m,T[1]=m>>>8&255,i.check=o(i.check,T,2,0),g=m=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&m)<<8)+(m>>8))%31){e.msg="incorrect header check",i.mode=30;break}if(8!=(15&m)){e.msg="unknown compression method",i.mode=30;break}if(g-=4,O=8+(15&(m>>>=4)),0===i.wbits)i.wbits=O;else if(O>i.wbits){e.msg="invalid window size",i.mode=30;break}i.dmax=1<<O,e.adler=i.check=1,i.mode=512&m?10:12,g=m=0;break;case 2:for(;g<16;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if(i.flags=m,8!=(255&i.flags)){e.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){e.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=m>>8&1),512&i.flags&&(T[0]=255&m,T[1]=m>>>8&255,i.check=o(i.check,T,2,0)),g=m=0,i.mode=3;case 3:for(;g<32;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}i.head&&(i.head.time=m),512&i.flags&&(T[0]=255&m,T[1]=m>>>8&255,T[2]=m>>>16&255,T[3]=m>>>24&255,i.check=o(i.check,T,4,0)),g=m=0,i.mode=4;case 4:for(;g<16;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}i.head&&(i.head.xflags=255&m,i.head.os=m>>8),512&i.flags&&(T[0]=255&m,T[1]=m>>>8&255,i.check=o(i.check,T,2,0)),g=m=0,i.mode=5;case 5:if(1024&i.flags){for(;g<16;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}i.length=m,i.head&&(i.head.extra_len=m),512&i.flags&&(T[0]=255&m,T[1]=m>>>8&255,i.check=o(i.check,T,2,0)),g=m=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&(h<(F=i.length)&&(F=h),F&&(i.head&&(O=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),n.arraySet(i.head.extra,d,u,F,O)),512&i.flags&&(i.check=o(i.check,d,F,u)),h-=F,u+=F,i.length-=F),i.length))break e;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===h)break e;for(F=0;O=d[u+F++],i.head&&O&&i.length<65536&&(i.head.name+=String.fromCharCode(O)),O&&F<h;);if(512&i.flags&&(i.check=o(i.check,d,F,u)),h-=F,u+=F,O)break e}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===h)break e;for(F=0;O=d[u+F++],i.head&&O&&i.length<65536&&(i.head.comment+=String.fromCharCode(O)),O&&F<h;);if(512&i.flags&&(i.check=o(i.check,d,F,u)),h-=F,u+=F,O)break e}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;g<16;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if(m!==(65535&i.check)){e.msg="header crc mismatch",i.mode=30;break}g=m=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),e.adler=i.check=0,i.mode=12;break;case 10:for(;g<32;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}e.adler=i.check=l(m),g=m=0,i.mode=11;case 11:if(0===i.havedict)return e.next_out=f,e.avail_out=p,e.next_in=u,e.avail_in=h,i.hold=m,i.bits=g,2;e.adler=i.check=1,i.mode=12;case 12:if(5===t||6===t)break e;case 13:if(i.last){m>>>=7&g,g-=7&g,i.mode=27;break}for(;g<3;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}switch(i.last=1&m,g-=1,3&(m>>>=1)){case 0:i.mode=14;break;case 1:if(v(i),i.mode=20,6!==t)break;m>>>=2,g-=2;break e;case 2:i.mode=17;break;case 3:e.msg="invalid block type",i.mode=30}m>>>=2,g-=2;break;case 14:for(m>>>=7&g,g-=7&g;g<32;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if((65535&m)!=(m>>>16^65535)){e.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&m,g=m=0,i.mode=15,6===t)break e;case 15:i.mode=16;case 16:if(F=i.length){if(h<F&&(F=h),p<F&&(F=p),0===F)break e;n.arraySet(b,d,u,F,f),h-=F,u+=F,p-=F,f+=F,i.length-=F;break}i.mode=12;break;case 17:for(;g<14;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if(i.nlen=257+(31&m),g-=5,i.ndist=1+(31&(m>>>=5)),g-=5,i.ncode=4+(15&(m>>>=5)),m>>>=4,g-=4,286<i.nlen||30<i.ndist){e.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;g<3;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}i.lens[L[i.have++]]=7&m,m>>>=3,g-=3}for(;i.have<19;)i.lens[L[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,_=s(0,i.lens,0,19,i.lencode,0,i.work,E={bits:i.lenbits}),i.lenbits=E.bits,_){e.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;k=(N=i.lencode[m&(1<<i.lenbits)-1])>>>16&255,z=65535&N,!((D=N>>>24)<=g);){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if(z<16)m>>>=D,g-=D,i.lens[i.have++]=z;else{if(16===z){for(A=D+2;g<A;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if(m>>>=D,g-=D,0===i.have){e.msg="invalid bit length repeat",i.mode=30;break}O=i.lens[i.have-1],F=3+(3&m),m>>>=2,g-=2}else if(17===z){for(A=D+3;g<A;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}g-=D,O=0,F=3+(7&(m>>>=D)),m>>>=3,g-=3}else{for(A=D+7;g<A;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}g-=D,O=0,F=11+(127&(m>>>=D)),m>>>=7,g-=7}if(i.have+F>i.nlen+i.ndist){e.msg="invalid bit length repeat",i.mode=30;break}for(;F--;)i.lens[i.have++]=O}}if(30===i.mode)break;if(0===i.lens[256]){e.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,_=s(1,i.lens,0,i.nlen,i.lencode,0,i.work,E={bits:i.lenbits}),i.lenbits=E.bits,_){e.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,_=s(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,E={bits:i.distbits}),i.distbits=E.bits,_){e.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===t)break e;case 20:i.mode=21;case 21:if(6<=h&&258<=p){e.next_out=f,e.avail_out=p,e.next_in=u,e.avail_in=h,i.hold=m,i.bits=g,a(e,I),f=e.next_out,b=e.output,p=e.avail_out,u=e.next_in,d=e.input,h=e.avail_in,m=i.hold,g=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;k=(N=i.lencode[m&(1<<i.lenbits)-1])>>>16&255,z=65535&N,!((D=N>>>24)<=g);){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if(k&&0==(240&k)){for(S=D,w=k,x=z;k=(N=i.lencode[x+((m&(1<<S+w)-1)>>S)])>>>16&255,z=65535&N,!(S+(D=N>>>24)<=g);){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}m>>>=S,g-=S,i.back+=S}if(m>>>=D,g-=D,i.back+=D,i.length=z,0===k){i.mode=26;break}if(32&k){i.back=-1,i.mode=12;break}if(64&k){e.msg="invalid literal/length code",i.mode=30;break}i.extra=15&k,i.mode=22;case 22:if(i.extra){for(A=i.extra;g<A;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}i.length+=m&(1<<i.extra)-1,m>>>=i.extra,g-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;k=(N=i.distcode[m&(1<<i.distbits)-1])>>>16&255,z=65535&N,!((D=N>>>24)<=g);){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if(0==(240&k)){for(S=D,w=k,x=z;k=(N=i.distcode[x+((m&(1<<S+w)-1)>>S)])>>>16&255,z=65535&N,!(S+(D=N>>>24)<=g);){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}m>>>=S,g-=S,i.back+=S}if(m>>>=D,g-=D,i.back+=D,64&k){e.msg="invalid distance code",i.mode=30;break}i.offset=z,i.extra=15&k,i.mode=24;case 24:if(i.extra){for(A=i.extra;g<A;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}i.offset+=m&(1<<i.extra)-1,m>>>=i.extra,g-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){e.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===p)break e;if(i.offset>(F=I-p)){if((F=i.offset-F)>i.whave&&i.sane){e.msg="invalid distance too far back",i.mode=30;break}Q=F>i.wnext?i.wsize-(F-=i.wnext):i.wnext-F,F>i.length&&(F=i.length),C=i.window}else C=b,Q=f-i.offset,F=i.length;for(p<F&&(F=p),p-=F,i.length-=F;b[f++]=C[Q++],--F;);0===i.length&&(i.mode=21);break;case 26:if(0===p)break e;b[f++]=i.length,p--,i.mode=21;break;case 27:if(i.wrap){for(;g<32;){if(0===h)break e;h--,m|=d[u++]<<g,g+=8}if(e.total_out+=I-=p,i.total+=I,I&&(e.adler=i.check=i.flags?o(i.check,b,I,f-I):r(i.check,b,I,f-I)),I=p,(i.flags?m:l(m))!==i.check){e.msg="incorrect data check",i.mode=30;break}g=m=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;g<32;){if(0===h)break e;h--,m+=d[u++]<<g,g+=8}if(m!==(4294967295&i.total)){e.msg="incorrect length check",i.mode=30;break}g=m=0}i.mode=29;case 29:_=1;break e;case 30:_=-3;break e;case 31:return-4;case 32:default:return c}return e.next_out=f,e.avail_out=p,e.next_in=u,e.avail_in=h,i.hold=m,i.bits=g,(i.wsize||I!==e.avail_out&&i.mode<30&&(i.mode<27||4!==t))&&P(e,e.output,e.next_out,I-e.avail_out)?(i.mode=31,-4):(I-=e.avail_out,e.total_in+=y-=e.avail_in,e.total_out+=I,i.total+=I,i.wrap&&I&&(e.adler=i.check=i.flags?o(i.check,b,I,e.next_out-I):r(i.check,b,I,e.next_out-I)),e.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0==y&&0===I||4===t)&&0===_&&(_=-5),_)},i.inflateEnd=function(e){if(!e||!e.state)return c;var t=e.state;return t.window&&(t.window=null),e.state=null,0},i.inflateGetHeader=function(e,t){var i;return e&&e.state?0==(2&(i=e.state).wrap)?c:((i.head=t).done=!1,0):c},i.inflateSetDictionary=function(e,t){var i,n=t.length;return e&&e.state?0!==(i=e.state).wrap&&11!==i.mode?c:11===i.mode&&r(1,t,n,0)!==i.check?-3:P(e,t,n,n)?(i.mode=31,-4):(i.havedict=1,0):c},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,i){"use strict";var n=e("../utils/common"),r=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],s=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,i,c,l,d,b,u){var f,h,p,m,g,v,P,y,I,F=u.bits,Q=0,C=0,D=0,k=0,z=0,S=0,w=0,x=0,O=0,_=0,E=null,A=0,N=new n.Buf16(16),T=new n.Buf16(16),L=null,H=0;for(Q=0;Q<=15;Q++)N[Q]=0;for(C=0;C<c;C++)N[t[i+C]]++;for(z=F,k=15;1<=k&&0===N[k];k--);if(k<z&&(z=k),0===k)return l[d++]=20971520,l[d++]=20971520,u.bits=1,0;for(D=1;D<k&&0===N[D];D++);for(z<D&&(z=D),Q=x=1;Q<=15;Q++)if(x<<=1,(x-=N[Q])<0)return-1;if(0<x&&(0===e||1!==k))return-1;for(T[1]=0,Q=1;Q<15;Q++)T[Q+1]=T[Q]+N[Q];for(C=0;C<c;C++)0!==t[i+C]&&(b[T[t[i+C]]++]=C);if(v=0===e?(E=L=b,19):1===e?(E=r,A-=257,L=o,H-=257,256):(E=a,L=s,-1),Q=D,g=d,w=C=_=0,p=-1,m=(O=1<<(S=z))-1,1===e&&852<O||2===e&&592<O)return 1;for(;;){for(P=Q-w,I=b[C]<v?(y=0,b[C]):b[C]>v?(y=L[H+b[C]],E[A+b[C]]):(y=96,0),f=1<<Q-w,D=h=1<<S;l[g+(_>>w)+(h-=f)]=P<<24|y<<16|I|0,0!==h;);for(f=1<<Q-1;_&f;)f>>=1;if(0!==f?(_&=f-1,_+=f):_=0,C++,0==--N[Q]){if(Q===k)break;Q=t[i+b[C]]}if(z<Q&&(_&m)!==p){for(0===w&&(w=z),g+=D,x=1<<(S=Q-w);S+w<k&&!((x-=N[S+w])<=0);)S++,x<<=1;if(O+=1<<S,1===e&&852<O||2===e&&592<O)return 1;l[p=_&m]=z<<24|S<<16|g-d|0}}return 0!==_&&(l[g+_]=Q-w<<24|64<<16|0),u.bits=z,0}},{"../utils/common":41}],51:[function(e,t,i){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,i){"use strict";var n=e("../utils/common");function r(e){for(var t=e.length;0<=--t;)e[t]=0}var o=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],a=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],c=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],l=new Array(576);r(l);var d=new Array(60);r(d);var b=new Array(512);r(b);var u=new Array(256);r(u);var f=new Array(29);r(f);var h,p,m,g=new Array(30);function v(e,t,i,n,r){this.static_tree=e,this.extra_bits=t,this.extra_base=i,this.elems=n,this.max_length=r,this.has_stree=e&&e.length}function P(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function y(e){return e<256?b[e]:b[256+(e>>>7)]}function I(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function F(e,t,i){e.bi_valid>16-i?(e.bi_buf|=t<<e.bi_valid&65535,I(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=i-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=i)}function Q(e,t,i){F(e,i[2*t],i[2*t+1])}function C(e,t){for(var i=0;i|=1&e,e>>>=1,i<<=1,0<--t;);return i>>>1}function D(e,t,i){var n,r,o=new Array(16),a=0;for(n=1;n<=15;n++)o[n]=a=a+i[n-1]<<1;for(r=0;r<=t;r++){var s=e[2*r+1];0!==s&&(e[2*r]=C(o[s]++,s))}}function k(e){var t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function z(e){8<e.bi_valid?I(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function S(e,t,i,n){var r=2*t,o=2*i;return e[r]<e[o]||e[r]===e[o]&&n[t]<=n[i]}function w(e,t,i){for(var n=e.heap[i],r=i<<1;r<=e.heap_len&&(r<e.heap_len&&S(t,e.heap[r+1],e.heap[r],e.depth)&&r++,!S(t,n,e.heap[r],e.depth));)e.heap[i]=e.heap[r],i=r,r<<=1;e.heap[i]=n}function x(e,t,i){var n,r,s,c,l=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*l]<<8|e.pending_buf[e.d_buf+2*l+1],r=e.pending_buf[e.l_buf+l],l++,0===n?Q(e,r,t):(Q(e,(s=u[r])+256+1,t),0!==(c=o[s])&&F(e,r-=f[s],c),Q(e,s=y(--n),i),0!==(c=a[s])&&F(e,n-=g[s],c)),l<e.last_lit;);Q(e,256,t)}function O(e,t){var i,n,r,o=t.dyn_tree,a=t.stat_desc.static_tree,s=t.stat_desc.has_stree,c=t.stat_desc.elems,l=-1;for(e.heap_len=0,e.heap_max=573,i=0;i<c;i++)0!==o[2*i]?(e.heap[++e.heap_len]=l=i,e.depth[i]=0):o[2*i+1]=0;for(;e.heap_len<2;)o[2*(r=e.heap[++e.heap_len]=l<2?++l:0)]=1,e.depth[r]=0,e.opt_len--,s&&(e.static_len-=a[2*r+1]);for(t.max_code=l,i=e.heap_len>>1;1<=i;i--)w(e,o,i);for(r=c;i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],w(e,o,1),n=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=n,o[2*r]=o[2*i]+o[2*n],e.depth[r]=(e.depth[i]>=e.depth[n]?e.depth[i]:e.depth[n])+1,o[2*i+1]=o[2*n+1]=r,e.heap[1]=r++,w(e,o,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var i,n,r,o,a,s,c=t.dyn_tree,l=t.max_code,d=t.stat_desc.static_tree,b=t.stat_desc.has_stree,u=t.stat_desc.extra_bits,f=t.stat_desc.extra_base,h=t.stat_desc.max_length,p=0;for(o=0;o<=15;o++)e.bl_count[o]=0;for(c[2*e.heap[e.heap_max]+1]=0,i=e.heap_max+1;i<573;i++)h<(o=c[2*c[2*(n=e.heap[i])+1]+1]+1)&&(o=h,p++),c[2*n+1]=o,l<n||(e.bl_count[o]++,a=0,f<=n&&(a=u[n-f]),e.opt_len+=(s=c[2*n])*(o+a),b&&(e.static_len+=s*(d[2*n+1]+a)));if(0!==p){do{for(o=h-1;0===e.bl_count[o];)o--;e.bl_count[o]--,e.bl_count[o+1]+=2,e.bl_count[h]--,p-=2}while(0<p);for(o=h;0!==o;o--)for(n=e.bl_count[o];0!==n;)l<(r=e.heap[--i])||(c[2*r+1]!==o&&(e.opt_len+=(o-c[2*r+1])*c[2*r],c[2*r+1]=o),n--)}}(e,t),D(o,l,e.bl_count)}function _(e,t,i){var n,r,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),t[2*(i+1)+1]=65535,n=0;n<=i;n++)r=a,a=t[2*(n+1)+1],++s<c&&r===a||(s<l?e.bl_tree[2*r]+=s:0!==r?(r!==o&&e.bl_tree[2*r]++,e.bl_tree[32]++):s<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=r,l=(s=0)===a?(c=138,3):r===a?(c=6,3):(c=7,4))}function E(e,t,i){var n,r,o=-1,a=t[1],s=0,c=7,l=4;for(0===a&&(c=138,l=3),n=0;n<=i;n++)if(r=a,a=t[2*(n+1)+1],!(++s<c&&r===a)){if(s<l)for(;Q(e,r,e.bl_tree),0!=--s;);else 0!==r?(r!==o&&(Q(e,r,e.bl_tree),s--),Q(e,16,e.bl_tree),F(e,s-3,2)):s<=10?(Q(e,17,e.bl_tree),F(e,s-3,3)):(Q(e,18,e.bl_tree),F(e,s-11,7));o=r,l=(s=0)===a?(c=138,3):r===a?(c=6,3):(c=7,4)}}r(g);var A=!1;function N(e,t,i,r){var o,a,s;F(e,0+(r?1:0),3),a=t,s=i,z(o=e),I(o,s),I(o,~s),n.arraySet(o.pending_buf,o.window,a,s,o.pending),o.pending+=s}i._tr_init=function(e){A||(function(){var e,t,i,n,r,c=new Array(16);for(n=i=0;n<28;n++)for(f[n]=i,e=0;e<1<<o[n];e++)u[i++]=n;for(u[i-1]=n,n=r=0;n<16;n++)for(g[n]=r,e=0;e<1<<a[n];e++)b[r++]=n;for(r>>=7;n<30;n++)for(g[n]=r<<7,e=0;e<1<<a[n]-7;e++)b[256+r++]=n;for(t=0;t<=15;t++)c[t]=0;for(e=0;e<=143;)l[2*e+1]=8,e++,c[8]++;for(;e<=255;)l[2*e+1]=9,e++,c[9]++;for(;e<=279;)l[2*e+1]=7,e++,c[7]++;for(;e<=287;)l[2*e+1]=8,e++,c[8]++;for(D(l,287,c),e=0;e<30;e++)d[2*e+1]=5,d[2*e]=C(e,5);h=new v(l,o,257,286,15),p=new v(d,a,0,30,15),m=new v(new Array(0),s,0,19,7)}(),A=!0),e.l_desc=new P(e.dyn_ltree,h),e.d_desc=new P(e.dyn_dtree,p),e.bl_desc=new P(e.bl_tree,m),e.bi_buf=0,e.bi_valid=0,k(e)},i._tr_stored_block=N,i._tr_flush_block=function(e,t,i,n){var r,o,a=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,i=4093624447;for(t=0;t<=31;t++,i>>>=1)if(1&i&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),O(e,e.l_desc),O(e,e.d_desc),a=function(e){var t;for(_(e,e.dyn_ltree,e.l_desc.max_code),_(e,e.dyn_dtree,e.d_desc.max_code),O(e,e.bl_desc),t=18;3<=t&&0===e.bl_tree[2*c[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),(o=e.static_len+3+7>>>3)<=(r=e.opt_len+3+7>>>3)&&(r=o)):r=o=i+5,i+4<=r&&-1!==t?N(e,t,i,n):4===e.strategy||o===r?(F(e,2+(n?1:0),3),x(e,l,d)):(F(e,4+(n?1:0),3),function(e,t,i,n){var r;for(F(e,t-257,5),F(e,i-1,5),F(e,n-4,4),r=0;r<n;r++)F(e,e.bl_tree[2*c[r]+1],3);E(e,e.dyn_ltree,t-1),E(e,e.dyn_dtree,i-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),x(e,e.dyn_ltree,e.dyn_dtree)),k(e),n&&z(e)},i._tr_tally=function(e,t,i){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&i,e.last_lit++,0===t?e.dyn_ltree[2*i]++:(e.matches++,t--,e.dyn_ltree[2*(u[i]+256+1)]++,e.dyn_dtree[2*y(t)]++),e.last_lit===e.lit_bufsize-1},i._tr_align=function(e){var t;F(e,2,3),Q(e,256,l),16===(t=e).bi_valid?(I(t,t.bi_buf),t.bi_buf=0,t.bi_valid=0):8<=t.bi_valid&&(t.pending_buf[t.pending++]=255&t.bi_buf,t.bi_buf>>=8,t.bi_valid-=8)}},{"../utils/common":41}],53:[function(e,t,i){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,i){"use strict";t.exports="function"==typeof setImmediate?setImmediate:function(){var e=[].slice.apply(arguments);e.splice(1,0,0),setTimeout.apply(null,e)}},{}]},{},[10])(10)})}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)}}]);